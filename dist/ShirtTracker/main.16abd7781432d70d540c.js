(self.webpackChunkshirt_tracker=self.webpackChunkshirt_tracker||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},7368:(e,t,n)=>{"use strict";n.d(t,{deG:()=>En,tb:()=>ef,AFp:()=>Wd,ip1:()=>Gd,CZH:()=>Kd,hGG:()=>Kf,z2F:()=>Uf,sBO:()=>Th,Sil:()=>df,_Vd:()=>Gl,EJc:()=>rf,SBq:()=>Yl,qLn:()=>mi,vpe:()=>Id,gxx:()=>_o,tBr:()=>er,XFs:()=>O,GSi:()=>xa,OlP:()=>Tn,zs3:()=>Mo,ZZ4:()=>mh,aQg:()=>vh,soG:()=>nf,LVF:()=>Zd,YKP:()=>Dh,v3s:()=>Vf,h0i:()=>Oh,PXZ:()=>Df,R0b:()=>gf,FiY:()=>tr,Lbi:()=>Xd,g9A:()=>Jd,Qsj:()=>eh,FYo:()=>Xl,JOm:()=>Ei,Tiy:()=>nh,q3G:()=>ti,tp0:()=>rr,EAV:()=>Bf,Rgc:()=>Ah,dDg:()=>If,DyG:()=>kn,q4F:()=>ih,GfV:()=>rh,s_b:()=>Lh,ifc:()=>U,eFA:()=>Pf,G48:()=>Rf,X6Q:()=>Nf,_c5:()=>Hf,VLi:()=>Sf,c2e:()=>tf,zSh:()=>To,wAp:()=>Nc,vHH:()=>v,EiD:()=>Xr,mCW:()=>Lr,qzn:()=>Tr,JVY:()=>Sr,pB0:()=>xr,eBb:()=>Cr,L6k:()=>kr,LAX:()=>Ar,cg1:()=>Cc,Tjo:()=>Zf,kL8:()=>Ac,yhl:()=>Er,dqk:()=>B,sIi:()=>Qo,CqO:()=>za,QGY:()=>$a,F4k:()=>Ba,zlt:()=>Gh,RDi:()=>Ne,AaK:()=>d,z3N:()=>Ir,TTD:()=>Ie,uIk:()=>ia,Suo:()=>Md,Xpm:()=>ee,lG2:()=>ue,Yz7:()=>T,cJS:()=>E,oAB:()=>se,Yjl:()=>ce,Y36:()=>Ra,_UZ:()=>Fa,qZA:()=>Ma,TgZ:()=>La,Ikx:()=>Ic,LFG:()=>Qn,$8M:()=>gn,NdJ:()=>Za,CRH:()=>Fd,iGM:()=>Pd,LSH:()=>ii,kYT:()=>oe,_uU:()=>Uu});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function I(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return k(e,A)||k(e,N)}function k(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(R))?e[x]:null}const A=l({"\u0275prov":l}),x=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),R=l({ngInjectorDef:l});var O=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let D;function P(e){const t=D;return D=e,t}function L(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function M(e){return{toString:e}.toString()}var F=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),U=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const j="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,B=j||$||V||q,z={},Z=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Q=l({"\u0275loc":l}),Y=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let X=0;function ee(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||U.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=X++,n.inputs=ae(e.inputs,t),n.outputs=ae(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ne):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(re):null,n})}function te(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ne),r.pipeDefs=()=>n.map(re)}function ne(e){return le(e)||function(e){return e[G]||null}(e)}function re(e){return function(e){return e[K]||null}(e)}const ie={};function se(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ie[e.id]=e.type),t})}function oe(e,t){return M(()=>{const n=he(e,!0);n.declarations=t.declarations||Z,n.imports=t.imports||Z,n.exports=t.exports||Z})}function ae(e,t){if(null==e)return z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ue=ee;function ce(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function le(e){return e[H]||null}function he(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const de=20,fe=10;function pe(e){return Array.isArray(e)&&"object"==typeof e[1]}function ge(e){return Array.isArray(e)&&!0===e[1]}function me(e){return 0!=(8&e.flags)}function ye(e){return 2==(2&e.flags)}function ve(e){return 1==(1&e.flags)}function we(e){return null!==e.template}function be(e,t){return e.hasOwnProperty(Y)?e[Y]:null}class _e{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ie(){return Te}function Te(e){return e.type.prototype.ngOnChanges&&(e.setInput=Se),Ee}function Ee(){const e=ke(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Se(e,t,n,r){const i=ke(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _e(u&&u.currentValue,t,o===z),e[r]=t}function ke(e){return e.__ngSimpleChanges__||null}Ie.ngInherit=!0;const Ce="http://www.w3.org/2000/svg",Ae="http://www.w3.org/1998/MathML/";let xe;function Ne(e){xe=e}function Re(){return void 0!==xe?xe:"undefined"!=typeof document?document:void 0}function Oe(e){return!!e.listen}const De={createRenderer:(e,t)=>Re()};function Pe(e){for(;Array.isArray(e);)e=e[0];return e}function Le(e,t){return Pe(t[e])}function Me(e,t){return Pe(t[e.index])}function Fe(e,t){return e.data[t]}function Ue(e,t){return e[t]}function je(e,t){const n=t[e];return pe(n)?n:n[0]}function Ve(e){return 4==(4&e[2])}function qe(e){return 128==(128&e[2])}function $e(e,t){return null==t?null:e[t]}function Be(e){e[18]=0}function ze(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ze={lFrame:_t(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function He(){return Ze.bindingsEnabled}function Ge(){Ze.bindingsEnabled=!0}function Ke(){Ze.bindingsEnabled=!1}function We(){return Ze.lFrame.lView}function Qe(){return Ze.lFrame.tView}function Ye(e){return Ze.lFrame.contextLView=e,e[8]}function Je(){let e=Xe();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xe(){return Ze.lFrame.currentTNode}function et(){const e=Ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function tt(e,t){const n=Ze.lFrame;n.currentTNode=e,n.isParent=t}function nt(){return Ze.lFrame.isParent}function rt(){Ze.lFrame.isParent=!1}function it(){return Ze.isInCheckNoChangesMode}function st(e){Ze.isInCheckNoChangesMode=e}function ot(){const e=Ze.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function at(){return Ze.lFrame.bindingIndex}function ut(e){return Ze.lFrame.bindingIndex=e}function ct(){return Ze.lFrame.bindingIndex++}function lt(e){const t=Ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ht(e){Ze.lFrame.inI18n=e}function dt(e,t){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,ft(t)}function ft(e){Ze.lFrame.currentDirectiveIndex=e}function pt(e){const t=Ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function gt(){return Ze.lFrame.currentQueryIndex}function mt(e){Ze.lFrame.currentQueryIndex=e}function yt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vt(e,t,n){if(n&O.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&O.Host||(r=yt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ze.lFrame=bt();return r.currentTNode=t,r.lView=e,!0}function wt(e){const t=bt(),n=e[1];Ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bt(){const e=Ze.lFrame,t=null===e?null:e.child;return null===t?_t(e):t}function _t(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function It(){const e=Ze.lFrame;return Ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tt=It;function Et(){const e=It();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function St(){return Ze.lFrame.selectedIndex}function kt(e){Ze.lFrame.selectedIndex=e}function Ct(){const e=Ze.lFrame;return Fe(e.tView,e.selectedIndex)}function At(){Ze.lFrame.currentNamespace=Ce}function xt(){Ze.lFrame.currentNamespace=Ae}function Nt(){Ze.lFrame.currentNamespace=null}function Rt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Ot(e,t,n){Lt(e,t,3,n)}function Dt(e,t,n,r){(3&e[2])===n&&Lt(e,t,n,r)}function Pt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Lt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Mt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Mt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ft=-1;class Ut{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function jt(e,t,n){const r=Oe(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];qt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Vt(e){return 3===e||4===e||6===e}function qt(e){return 64===e.charCodeAt(0)}function $t(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Bt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Bt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function zt(e){return e!==Ft}function Zt(e){return 32767&e}function Ht(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Gt=!0;function Kt(e){const t=Gt;return Gt=e,t}let Wt=0;function Qt(e,t){const n=Jt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Yt(r.data,e),Yt(t,null),Yt(r.blueprint,null));const i=Xt(e,t),s=e.injectorIndex;if(zt(i)){const e=Zt(i),n=Ht(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Yt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Xt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Ft;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ft}function en(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Wt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function tn(e,t,n){if(n&O.Optional)return e;_(t,"NodeInjector")}function nn(e,t,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&O.Optional):L(t,r,n&O.Optional)}finally{P(s)}}return tn(r,t,n)}function rn(e,t,n,r=O.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(J)?e[J]:void 0;return"number"==typeof t?t>=0?255&t:on:t}(n);if("function"==typeof s){if(!vt(t,e,r))return r&O.Host?tn(i,n,r):nn(t,n,r,i);try{const e=s(r);if(null!=e||r&O.Optional)return e;_(n)}finally{Tt()}}else if("number"==typeof s){let i=null,o=Jt(e,t),a=Ft,u=r&O.Host?t[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Xt(e,t):t[o+8],a!==Ft&&hn(r,!1)?(i=t[1],o=Zt(a),t=Ht(a,t)):o=-1);-1!==o;){const e=t[1];if(ln(s,o,e.data)){const e=an(o,t,n,i,r,u);if(e!==sn)return e}a=t[o+8],a!==Ft&&hn(r,t[1].data[o+8]===u)&&ln(s,o,t)?(i=e,o=Zt(a),t=Ht(a,t)):o=-1}}}return nn(t,n,r,i)}const sn={};function on(){return new dn(Je(),We())}function an(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=un(a,o,n,null==r?ye(a)&&Gt:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==u?cn(t,o,u,a):sn}function un(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&we(e)&&e.type===n)return u}return null}function cn(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Ut){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(s[n]));const a=Kt(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;vt(e,r,O.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Te(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&P(u),Kt(a),o.resolving=!1,Tt()}}return i}function ln(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function hn(e,t){return!(e&O.Self||e&O.Host&&t)}class dn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return rn(this._tNode,this._lView,e,void 0,t)}}function fn(e){return M(()=>{const t=e.prototype.constructor,n=t[Y]||pn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Y]||pn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function pn(e){return y(e)?()=>{const t=pn(m(e));return t&&t()}:be(e)}function gn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Vt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Je(),e)}const mn="__annotations__",yn="__parameters__",vn="__prop__metadata__";function wn(e,t,n,r,i){return M(()=>{const s=bn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(mn)?n[mn]:Object.defineProperty(n,mn,{value:[]})[mn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function bn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function _n(e,t,n){return M(()=>{const r=bn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(yn)?e[yn]:Object.defineProperty(e,yn,{value:[]})[yn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const In=function(){return _n("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>gn(e)}))}();class Tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const En=new Tn("AnalyzeForEntryComponents");function Sn(){const e=B.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const kn=Function;function Cn(e){return"function"==typeof e}function An(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),An(r,t)):t!==e&&t.push(r)}return t}function xn(e,t){e.forEach(e=>Array.isArray(e)?xn(e,t):t(e))}function Nn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function On(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Dn(e,t,n){let r=Ln(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Pn(e,t){const n=Ln(e,t);if(n>=0)return e[1|n]}function Ln(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Mn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Un=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Vn{constructor(e){this._reflect=e||B.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=On(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Mn.test(n)||jn.test(n)||Fn.test(n)&&!Un.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&qn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(yn)&&e[yn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):On(e.length)}parameters(e){if(!Cn(e))return[];const t=$n(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?qn(e.decorators):e.hasOwnProperty(mn)?e[mn]:null}annotations(e){if(!Cn(e))return[];const t=$n(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=qn(t[e])}),n}return e.hasOwnProperty(vn)?e[vn]:null}propMetadata(e){if(!Cn(e))return{};const t=$n(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Cn(e)&&this._ownPropMetadata(e,$n(e))||{}}hasLifecycleHook(e,t){return e instanceof kn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${d(e)}`}resourceUri(e){return`./${d(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function qn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function $n(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Bn={},zn=/\n/gm,Zn="__source",Hn=l({provide:String,useValue:l});let Gn;function Kn(e){const t=Gn;return Gn=e,t}function Wn(e,t=O.Default){if(void 0===Gn)throw new Error("inject() must be called from an injection context");return null===Gn?L(e,void 0,t):Gn.get(e,t&O.Optional?null:void 0,t)}function Qn(e,t=O.Default){return(D||Wn)(m(e),t)}function Yn(e){throw new Error("invalid")}function Jn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=O.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Qn(e,n))}else t.push(Qn(r))}return t}function Xn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const er=Xn(_n("Inject",e=>({token:e})),-1),tr=Xn(_n("Optional"),8),nr=Xn(_n("Self"),2),rr=Xn(_n("SkipSelf"),4),ir=Xn(_n("Host"),1);let sr,or,ar=null;function ur(e){return cr((ar=ar||new Vn).parameters(e))}function cr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof tr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof rr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof nr||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof ir||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof er)t.token=r.token;else if(r instanceof In){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function lr(){if(void 0===sr&&(sr=null,B.trustedTypes))try{sr=B.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return sr}function hr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createHTML(e))||e}function dr(){if(void 0===or&&(or=null,B.trustedTypes))try{or=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return or}function fr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createHTML(e))||e}function pr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScript(e))||e}function gr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScriptURL(e))||e}class mr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yr extends mr{getTypeName(){return"HTML"}}class vr extends mr{getTypeName(){return"Style"}}class wr extends mr{getTypeName(){return"Script"}}class br extends mr{getTypeName(){return"URL"}}class _r extends mr{getTypeName(){return"ResourceURL"}}function Ir(e){return e instanceof mr?e.changingThisBreaksApplicationSecurity:e}function Tr(e,t){const n=Er(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Er(e){return e instanceof mr&&e.getTypeName()||null}function Sr(e){return new yr(e)}function kr(e){return new vr(e)}function Cr(e){return new wr(e)}function Ar(e){return new br(e)}function xr(e){return new _r(e)}function Nr(e){const t=new Or(e);return function(){try{return!!(new window.DOMParser).parseFromString(hr(""),"text/html")}catch(e){return!1}}()?new Rr(t):t}class Rr{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(hr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Or{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=hr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=hr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lr(e){return(e=String(e)).match(Dr)||e.match(Pr)?e:"unsafe:"+e}function Mr(e){return(e=String(e)).split(",").map(e=>Lr(e.trim())).join(", ")}function Fr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ur(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const jr=Fr("area,br,col,hr,img,wbr"),Vr=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qr=Fr("rp,rt"),$r=Ur(qr,Vr),Br=Ur(jr,Ur(Vr,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ur(qr,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$r),zr=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zr=Fr("srcset"),Hr=Ur(zr,Zr,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gr=Fr("script,style,template");class Kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Br.hasOwnProperty(t))return this.sanitizedSomething=!0,!Gr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;zr[i]&&(s=Lr(s)),Zr[i]&&(s=Mr(s)),this.buf.push(" ",t,'="',Yr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Br.hasOwnProperty(t)&&!jr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Yr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qr=/([^\#-~ |!])/g;function Yr(e){return e.replace(/&/g,"&amp;").replace(Wr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Qr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function Xr(e,t){let n=null;try{Jr=Jr||Nr(e);let r=t?String(t):"";n=Jr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==s);return hr((new Kr).sanitizeChildren(ei(n)||n))}finally{if(n){const e=ei(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ei(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ti=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ni(e){const t=li();return t?fr(t.sanitize(ti.HTML,e)||""):Tr(e,"HTML")?fr(Ir(e)):Xr(Re(),w(e))}function ri(e){const t=li();return t?t.sanitize(ti.STYLE,e)||"":Tr(e,"Style")?Ir(e):w(e)}function ii(e){const t=li();return t?t.sanitize(ti.URL,e)||"":Tr(e,"URL")?Ir(e):Lr(w(e))}function si(e){const t=li();if(t)return gr(t.sanitize(ti.RESOURCE_URL,e)||"");if(Tr(e,"ResourceURL"))return gr(Ir(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function oi(e){const t=li();if(t)return pr(t.sanitize(ti.SCRIPT,e)||"");if(Tr(e,"Script"))return pr(Ir(e));throw new Error("unsafe value used in a script context")}function ai(e){return hr(e[0])}function ui(e){return function(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ci(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?si:ii}(t,n)(e)}function li(){const e=We();return e&&e[12]}function hi(e,t){e.__ngContext__=t}function di(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function fi(e){return e.ngDebugContext}function pi(e){return e.ngOriginalError}function gi(e,...t){e.error(...t)}class mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||gi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?fi(e)?fi(e):this._findContext(pi(e)):null}_findOriginalError(e){let t=pi(e);for(;t&&pi(t);)t=pi(t);return t}}const yi=/^>|^->|<!--|-->|--!>|<!-$/g,vi=/(<|>)/,wi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function bi(e){return e.ownerDocument.defaultView}function _i(e){return e.ownerDocument}function Ii(e){return e.ownerDocument.body}function Ti(e){return e instanceof Function?e():e}var Ei=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Si;function ki(e,t){return Si(e,t)}function Ci(e){const t=e[3];return ge(t)?t[3]:t}function Ai(e){return Ni(e[13])}function xi(e){return Ni(e[4])}function Ni(e){for(;null!==e&&!ge(e);)e=e[4];return e}function Ri(e,t,n,r,i){if(null!=r){let s,o=!1;ge(r)?s=r:pe(r)&&(o=!0,r=r[0]);const a=Pe(r);0===e&&null!==n?null==i?Bi(t,n,a):$i(t,n,a,i||null,!0):1===e&&null!==n?$i(t,n,a,i||null,!0):2===e?ts(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Pe(n)&&Ri(t,e,r,s,i);for(let o=fe;o<n.length;o++){const i=n[o];rs(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Oi(e,t){return Oe(e)?e.createText(t):e.createTextNode(t)}function Di(e,t,n){Oe(e)?e.setValue(t,n):t.textContent=n}function Pi(e,t){return e.createComment(function(e){return e.replace(yi,e=>e.replace(vi,"\u200b$1\u200b"))}(t))}function Li(e,t,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Mi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,ze(i,-1)),n.splice(r,1)}function Fi(e,t){if(e.length<=fe)return;const n=fe+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Mi(s,r),t>0&&(e[n-1][4]=r[4]);const o=Rn(e,fe+t);rs(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ui(e,t){if(!(256&t[2])){const n=t[11];Oe(n)&&n.destroyNode&&rs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return ji(e[1],e);for(;t;){let n=null;if(pe(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)pe(t)&&ji(t[1],t),t=t[3];null===t&&(t=e),pe(t)&&ji(t[1],t),n=t&&t[4]}t=n}}(t)}}function ji(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Ut)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Pe(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Oe(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ge(t[3])){n!==t[3]&&Mi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Vi(e,t,n){return qi(e,t.parent,n)}function qi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===U.None||t===U.Emulated)return null}return Me(r,n)}function $i(e,t,n,r,i){Oe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Bi(e,t,n){Oe(e)?e.appendChild(t,n):t.appendChild(n)}function zi(e,t,n,r,i){null!==r?$i(e,t,n,r,i):Bi(e,t,n)}function Zi(e,t){return Oe(e)?e.parentNode(t):t.parentNode}function Hi(e,t,n){return Wi(e,t,n)}function Gi(e,t,n){return 40&e.type?Me(e,n):null}let Ki,Wi=Gi;function Qi(e,t){Wi=e,Ki=t}function Yi(e,t,n,r){const i=Vi(e,r,t),s=t[11],o=Hi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zi(s,i,n[a],o,!1);else zi(s,i,n,o,!1);void 0!==Ki&&Ki(s,r,t,n,i)}function Ji(e,t){if(null!==t){const n=t.type;if(3&n)return Me(t,e);if(4&n)return es(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Ji(e,n);{const n=e[t.index];return ge(n)?es(-1,n):Pe(n)}}if(32&n)return ki(t,e)()||Pe(e[t.index]);{const n=Xi(e,t);return null!==n?Array.isArray(n)?n[0]:Ji(Ci(e[16]),n):Ji(e,t.next)}}return null}function Xi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function es(e,t){const n=fe+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Ji(e,r)}return t[7]}function ts(e,t,n){const r=Zi(e,t);r&&function(e,t,n,r){Oe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ns(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&hi(Pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ns(e,t,n.child,r,i,s,!1),Ri(t,e,i,a,s);else if(32&u){const o=ki(n,r);let u;for(;u=o();)Ri(t,e,i,u,s);Ri(t,e,i,a,s)}else 16&u?is(e,t,r,n,i,s):Ri(t,e,i,a,s);n=o?n.projectionNext:n.next}}function rs(e,t,n,r,i,s){ns(n,r,e.firstChild,t,i,s,!1)}function is(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ri(t,e,i,a[u],s);else ns(e,t,a,o[3],i,s,!0)}function ss(e,t,n){Oe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function os(e,t,n){Oe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function as(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const us="ng-template";function cs(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==as(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ls(e){return 4===e.type&&e.value!==us}function hs(e,t,n){return t===(4!==e.type||n?e.value:us)}function ds(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Vt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!hs(e,u,n)||""===u&&1===t.length){if(fs(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!cs(e.attrs,c,n)){if(fs(r))return!1;o=!0}continue}const l=ps(8&r?"class":u,i,ls(e),n);if(-1===l){if(fs(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==as(t,c,0)||2&r&&c!==e){if(fs(r))return!1;o=!0}}}}else{if(!o&&!fs(r)&&!fs(u))return!1;if(o&&fs(u))continue;o=!1,r=u|1&r}}return fs(r)||o}function fs(e){return 0==(1&e)}function ps(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function gs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ds(e,t[r],n))return!0;return!1}function ms(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ys(e,t){return e?":not("+t.trim()+")":t}function vs(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||fs(o)||(t+=ys(s,i),i=""),r=o,s=s||!fs(r);n++}return""!==i&&(t+=ys(s,i)),t}const ws={};function bs(e){_s(Qe(),We(),St()+e,it())}function _s(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Ot(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Dt(t,r,0,n)}kt(n)}function Is(e,t){return e<<17|t<<2}function Ts(e){return e>>17&32767}function Es(e){return 2|e}function Ss(e){return(131068&e)>>2}function ks(e,t){return-131069&e|t<<2}function Cs(e){return 1|e}function As(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];mt(i),n.contentQueries(2,t[s],s)}}}function xs(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Be(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function Ns(e,t,n,r,i){let s=e.data[t];if(null===s)s=Rs(e,t,n,r,i),Ze.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=et();s.injectorIndex=null===e?-1:e.injectorIndex}return tt(s,!0),s}function Rs(e,t,n,r,i){const s=Xe(),o=nt(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Os(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ds(e,t,n){wt(t);try{const r=e.viewQuery;null!==r&&ho(1,r,n);const i=e.template;null!==i&&Ms(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&As(e,t),e.staticViewQueries&&ho(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)oo(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Et()}}function Ps(e,t,n,r){const i=t[2];if(256==(256&i))return;wt(t);const s=it();try{Be(t),ut(e.bindingStartIndex),null!==n&&Ms(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Ot(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Dt(t,n,0,null),Pt(t,0)}if(function(e){for(let t=Ai(e);null!==t;t=xi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&ze(r,1),n[2]|=1024}}}(t),function(e){for(let t=Ai(e);null!==t;t=xi(t))for(let e=fe;e<t.length;e++){const n=t[e],r=n[1];qe(n)&&Ps(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&As(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Ot(t,n)}else{const n=e.contentHooks;null!==n&&Dt(t,n,1),Pt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)kt(~r);else{const i=r,s=n[++e],o=n[++e];dt(s,i),o(2,t[i])}}}finally{kt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ho(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Ot(t,n)}else{const n=e.viewHooks;null!==n&&Dt(t,n,2),Pt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ze(t[3],-1))}finally{Et()}}function Ls(e,t,n,r){const i=t[10],s=!it(),o=Ve(t);try{s&&!o&&i.begin&&i.begin(),o&&Ds(e,t,r),Ps(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ms(e,t,n,r,i){const s=St(),o=2&r;try{kt(-1),o&&t.length>de&&_s(e,t,de,it()),n(r,i)}finally{kt(s)}}function Fs(e,t,n){if(me(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Us(e,t,n){He()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Qt(n,t),hi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=we(r);s&&Js(t,n,r);const u=cn(t,e,a,n);hi(u,t),null!==o&&to(0,a-i,u,r,0,o),s&&(je(n.index,t)[8]=u)}}(e,t,n,Me(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ze.lFrame.currentDirectiveIndex;try{kt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];ft(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Gs(r,i)}}finally{kt(-1),ft(o)}}(e,t,n))}function js(e,t,n=Me){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Vs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function qs(e,t,n,r,i,s,o,a,u,c){const l=de+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ws);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function $s(e,t,n,r){const i=po(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&go(e).push(r,i.length-1))}function Bs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function zs(e,t,n,r,i,s,o,a){const u=Me(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(vo(e,n,c,r,i),ye(t)&&function(e,t){const n=je(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Oe(s)?s.setProperty(u,r,i):qt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Zs(e,t,n,r){let i=!1;if(He()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gs(n,o.selectors,!1)&&(i||(i=[]),en(Qt(n,t),e,o.type),we(o)?(Ks(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Qs(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Os(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=$t(n.mergedAttrs,c.hostAttrs),Ys(e,n,t,u,c),Ws(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||ls(t)?null:no(n,i);s.push(c),o=Bs(n,u,o),a=Bs(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=$t(n.mergedAttrs,n.attrs),i}function Hs(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Gs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ks(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ws(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;we(t)&&(n[""]=e)}}function Qs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ys(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=be(i.type)),o=new Ut(s,we(i),null);e.blueprint[r]=o,n[r]=o,Hs(e,t,0,r,Os(e,n,i.hostVars,ws),i)}function Js(e,t,n){const r=Me(t,e),i=Vs(n),s=e[10],o=ao(e,xs(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Xs(e,t,n,r,i,s){const o=Me(e,t);eo(t[11],o,s,e.value,n,r,i)}function eo(e,t,n,r,i,s,o){if(null==s)Oe(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?w(s):o(s,r||"",i);Oe(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function to(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function no(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function io(e,t){const n=je(t,e);if(qe(n)){const e=n[1];80&n[2]?Ps(e,n,e.template,n[8]):n[5]>0&&so(n)}}function so(e){for(let n=Ai(e);null!==n;n=xi(n))for(let e=fe;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ps(e,t,e.template,t[8])}else t[5]>0&&so(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=je(t[n],e);qe(r)&&r[5]>0&&so(r)}}function oo(e,t){const n=je(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ds(r,n,n[8])}function ao(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function uo(e){for(;e;){e[2]|=64;const t=Ci(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function co(e,t,n){const r=t[10];r.begin&&r.begin();try{Ps(e,t,e.template,n)}catch(i){throw yo(t,i),i}finally{r.end&&r.end()}}function lo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=di(n),i=r[1];Ls(i,r,i.template,n)}}(e[8])}function ho(e,t,n){mt(0),t(e,n)}const fo=(()=>Promise.resolve(null))();function po(e){return e[7]||(e[7]=[])}function go(e){return e.cleanup||(e.cleanup=[])}function mo(e,t,n){return(null===e||we(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function yo(e,t){const n=e[9],r=n?n.get(mi,null):null;r&&r.handleError(t)}function vo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function wo(e,t,n){const r=Le(t,e);Di(e[11],r,n)}function bo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const _o=new Tn("INJECTOR",-1);class Io{get(e,t=Bn){if(t===Bn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const To=new Tn("Set Injector scope."),Eo={},So={};let ko;function Co(){return void 0===ko&&(ko=new Io),ko}function Ao(e,t=null,n=null,r){return new xo(e,n,t||Co(),r)}class xo{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&xn(t,n=>this.processProvider(n,e,t)),xn([e],e=>this.processInjectorType(e,[],i)),this.records.set(_o,Oo(void 0,this));const s=this.records.get(To);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Bn,n=O.Default){this.assertNotDestroyed();const r=Kn(this);try{if(!(n&O.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Tn)&&S(e);t=n&&this.injectableDefInScope(n)?Oo(No(e),Eo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&O.Self?Co():this.parent).get(e,t=n&O.Optional&&t===Bn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[Zn]&&i.unshift(t[Zn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Kn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=C(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{xn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];xn(r,e=>this.processProvider(e,n,r||Z))}}this.injectorDefTypes.add(s);const a=be(s)||(()=>new s);this.records.set(s,Oo(a,Eo));const u=r.providers;if(null!=u&&!o){const t=e;xn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Po(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return Do(e)?Oo(void 0,e.useValue):Oo(Ro(e),Eo)}(e);if(Po(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Oo(void 0,Eo,!0),t.factory=()=>Jn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Eo&&(t.value=So,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function No(e){const t=S(e),n=null!==t?t.factory:be(e);if(null!==n)return n;if(e instanceof Tn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=On(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[A]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ro(e,t,n){let r;if(Po(e)){const t=m(e);return be(t)||No(t)}if(Do(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Jn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Qn(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return be(t)||No(t);r=()=>new t(...Jn(e.deps))}var i;return r}function Oo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Do(e){return null!==e&&"object"==typeof e&&Hn in e}function Po(e){return"function"==typeof e}const Lo=function(e,t,n){return function(e,t=null,n=null,r){const i=Ao(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Mo=(()=>{class e{static create(e,t){return Array.isArray(e)?Lo(e,t,""):Lo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Bn,e.NULL=new Io,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>Qn(_o)}),e.__NG_ELEMENT_ID__=-1,e})();function Fo(e,t){Rt(di(e)[1],Je())}function Uo(e){return Object.getPrototypeOf(e.prototype).constructor}function jo(e){let t=Uo(e.type),n=!0;const r=[e];for(;t;){let i;if(we(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Vo(e.inputs),t.declaredInputs=Vo(e.declaredInputs),t.outputs=Vo(e.outputs);const n=i.hostBindings;n&&Bo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&qo(e,s),o&&$o(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),we(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===jo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$t(i.hostAttrs,n=$t(n,i.hostAttrs))}}(r)}function Vo(e){return e===z?{}:e===Z?[]:e}function qo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function $o(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Bo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const zo=["providersResolver"],Zo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ho(e){let t,n=Uo(e.type);t=we(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of zo)r[i]=t[i];if(we(t))for(const i of Zo)r[i]=t[i]}let Go=null;function Ko(){if(!Go){const e=B.Symbol;if(e&&e.iterator)Go=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}}return Go}class Wo{constructor(e){this.wrapped=e}static wrap(e){return new Wo(e)}static unwrap(e){return Wo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Wo}}function Qo(e){return!!Yo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ko()in e)}function Yo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jo(e,t,n){return e[t]=n}function Xo(e,t){return e[t]}function ea(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ta(e,t,n,r){const i=ea(e,t,n);return ea(e,t+1,r)||i}function na(e,t,n,r,i){const s=ta(e,t,n,r);return ea(e,t+2,i)||s}function ra(e,t,n,r,i,s){const o=ta(e,t,n,r);return ta(e,t+2,i,s)||o}function ia(e,t,n,r){const i=We();return ea(i,ct(),t)&&(Qe(),Xs(Ct(),i,e,t,n,r)),ia}function sa(e,t){let n=!1,r=at();for(let s=1;s<t.length;s+=2)n=ea(e,r++,t[s])||n;if(ut(r),!n)return ws;let i=t[0];for(let s=1;s<t.length;s+=2)i+=w(t[s])+t[s+1];return i}function oa(e,t,n,r){return ea(e,ct(),n)?t+w(n)+r:ws}function aa(e,t,n,r,i,s){const o=ta(e,at(),n,i);return lt(2),o?t+w(n)+r+w(i)+s:ws}function ua(e,t,n,r,i,s,o,a){const u=na(e,at(),n,i,o);return lt(3),u?t+w(n)+r+w(i)+s+w(o)+a:ws}function ca(e,t,n,r,i,s,o,a,u,c){const l=ra(e,at(),n,i,o,u);return lt(4),l?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c:ws}function la(e,t,n,r,i,s,o,a,u,c,l,h){const d=at();let f=ra(e,d,n,i,o,u);return f=ea(e,d+4,l)||f,lt(5),f?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h:ws}function ha(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=at();let g=ra(e,p,n,i,o,u);return g=ta(e,p+4,l,d)||g,lt(6),g?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f:ws}function da(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=at();let y=ra(e,m,n,i,o,u);return y=na(e,m+4,l,d,p)||y,lt(7),y?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f+w(p)+g:ws}function fa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=at();let b=ra(e,v,n,i,o,u);return b=ra(e,v+4,l,d,p,m)||b,lt(8),b?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f+w(p)+g+w(m)+y:ws}function pa(e,t,n,r,i,s){const o=We(),a=oa(o,t,n,r);return a!==ws&&Xs(Ct(),o,e,a,i,s),pa}function ga(e,t,n,r,i,s,o,a){const u=We(),c=aa(u,t,n,r,i,s);return c!==ws&&Xs(Ct(),u,e,c,o,a),ga}function ma(e,t,n,r,i,s,o,a,u,c){const l=We(),h=ua(l,t,n,r,i,s,o,a);return h!==ws&&Xs(Ct(),l,e,h,u,c),ma}function ya(e,t,n,r,i,s,o,a,u,c,l,h){const d=We(),f=ca(d,t,n,r,i,s,o,a,u,c);return f!==ws&&Xs(Ct(),d,e,f,l,h),ya}function va(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=We(),g=la(p,t,n,r,i,s,o,a,u,c,l,h);return g!==ws&&Xs(Ct(),p,e,g,d,f),va}function wa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=We(),y=ha(m,t,n,r,i,s,o,a,u,c,l,h,d,f);return y!==ws&&Xs(Ct(),m,e,y,p,g),wa}function ba(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=We(),w=da(v,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return w!==ws&&Xs(Ct(),v,e,w,m,y),ba}function _a(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v,w){const b=We(),_=fa(b,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return _!==ws&&Xs(Ct(),b,e,_,v,w),_a}function Ia(e,t,n,r){const i=We(),s=sa(i,t);return s!==ws&&Xs(Ct(),i,e,s,n,r),Ia}function Ta(e,t,n,r,i,s,o,a){const u=We(),c=Qe(),l=e+de,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=Ns(t,e,4,o||null,$e(c,a));Zs(t,n,l,$e(c,u)),Rt(t,l);const h=l.tViews=qs(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];tt(h,!1);const d=u[11].createComment("");Yi(c,u,d,h),hi(d,u),ao(u,u[l]=ro(d,u,d,h)),ve(h)&&Us(c,u,h),null!=o&&js(u,h,a)}function Ea(e){return Ue(Ze.lFrame.contextLView,de+e)}const Sa={"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275inject":Qn,"\u0275\u0275invalidFactoryDep":Yn,resolveForwardRef:m},ka=l({provide:String,useValue:l});function Ca(e){return void 0!==e.useClass}function Aa(e){return void 0!==e.useFactory}const xa=wn("Injectable",void 0,void 0,void 0,(e,t)=>Na(e,t)),Na=function(e,t){let n=null,r=null;e.hasOwnProperty(A)||Object.defineProperty(e,A,{get:()=>(null===n&&(n=Sn().compileInjectable(Sa,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Ca(n)||Aa(n))&&void 0!==n.deps&&(r.deps=cr(n.deps)),Ca(n)?r.useClass=n.useClass:function(e){return ka in e}(n)?r.useValue=n.useValue:Aa(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Y)||Object.defineProperty(e,Y,{get:()=>{if(null===r){const t=Sn();r=t.compileFactory(Sa,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:ur(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Ra(e,t=O.Default){const n=We();return null===n?Qn(e,t):rn(Je(),n,m(e),t)}function Oa(){throw new Error("invalid")}function Da(e,t,n){const r=We();return ea(r,ct(),t)&&zs(Qe(),Ct(),r,e,t,r[11],n,!1),Da}function Pa(e,t,n,r,i){const s=i?"class":"style";vo(e,n,t.inputs[s],s,r)}function La(e,t,n,r){const i=We(),s=Qe(),o=de+e,a=i[11],u=i[o]=Li(a,t,Ze.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=Ns(t,e,2,i,$e(a,s));return Zs(t,n,u,$e(a,o)),null!==u.attrs&&bo(u,u.attrs,!1),null!==u.mergedAttrs&&bo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];tt(c,!0);const l=c.mergedAttrs;null!==l&&jt(a,u,l);const h=c.classes;null!==h&&os(a,u,h);const d=c.styles;null!==d&&ss(a,u,d),64!=(64&c.flags)&&Yi(s,i,u,c),0===Ze.lFrame.elementDepthCount&&hi(u,i),Ze.lFrame.elementDepthCount++,ve(c)&&(Us(s,i,c),Fs(s,c,i)),null!==r&&js(i,c)}function Ma(){let e=Je();nt()?rt():(e=e.parent,tt(e,!1));const t=e;Ze.lFrame.elementDepthCount--;const n=Qe();n.firstCreatePass&&(Rt(n,e),me(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Pa(n,t,We(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Pa(n,t,We(),t.stylesWithoutHost,!1)}function Fa(e,t,n,r){La(e,t,n,r),Ma()}function Ua(e,t,n){const r=We(),i=Qe(),s=e+de,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=$e(s,r),a=Ns(t,e,8,"ng-container",o);return null!==o&&bo(a,o,!0),Zs(t,n,a,$e(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];tt(o,!0);const a=r[s]=r[11].createComment("");Yi(i,r,a,o),hi(a,r),ve(o)&&(Us(i,r,o),Fs(i,o,r)),null!=n&&js(r,o)}function ja(){let e=Je();const t=Qe();nt()?rt():(e=e.parent,tt(e,!1)),t.firstCreatePass&&(Rt(t,e),me(e)&&t.queries.elementEnd(e))}function Va(e,t,n){Ua(e,t,n),ja()}function qa(){return We()}function $a(e){return!!e&&"function"==typeof e.then}function Ba(e){return!!e&&"function"==typeof e.subscribe}const za=Ba;function Za(e,t,n,r){const i=We(),s=Qe(),o=Je();return Ga(s,i,i[11],o,e,t,!!n,r),Za}function Ha(e,t){const n=Je(),r=We(),i=Qe();return Ga(i,r,mo(pt(i.data),n,r),n,e,t,!1),Ha}function Ga(e,t,n,r,i,s,o,a){const u=ve(r),c=e.firstCreatePass&&go(e),l=po(t);let h=!0;if(3&r.type||a){const d=Me(r,t),f=a?a(d):d,p=l.length,g=a?e=>a(Pe(e[r.index])):r.index;if(Oe(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Wa(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),c&&c.push(i,g,p,p+1)}}else s=Wa(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=Wa(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Ka(e,t,n,r){try{return!1!==n(r)}catch(i){return yo(e,i),!1}}function Wa(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?je(e.index,t):t;0==(32&t[2])&&uo(o);let a=Ka(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ka(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Qa(e=1){return function(e){return(Ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ze.lFrame.contextLView))[8]}(e)}function Ya(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?gs(e,s,!0):ms(r,s))return i}else n=i}return n}function Ja(e){const t=We()[16][6];if(!t.projection){const n=t.projection=On(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Ya(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Xa(e,t=0,n){const r=We(),i=Qe(),s=Ns(i,de+e,16,null,n||null);null===s.projection&&(s.projection=t),rt(),64!=(64&s.flags)&&function(e,t,n){is(t[11],0,t,n,Vi(e,n,t),Hi(n.parent||t[6],n,t))}(i,r,s)}function eu(e,t,n){return tu(e,"",t,"",n),eu}function tu(e,t,n,r,i){const s=We(),o=oa(s,t,n,r);return o!==ws&&zs(Qe(),Ct(),s,e,o,s[11],i,!1),tu}function nu(e,t,n,r,i,s,o){const a=We(),u=aa(a,t,n,r,i,s);return u!==ws&&zs(Qe(),Ct(),a,e,u,a[11],o,!1),nu}function ru(e,t,n,r,i,s,o,a,u){const c=We(),l=ua(c,t,n,r,i,s,o,a);return l!==ws&&zs(Qe(),Ct(),c,e,l,c[11],u,!1),ru}function iu(e,t,n,r,i,s,o,a,u,c,l){const h=We(),d=ca(h,t,n,r,i,s,o,a,u,c);return d!==ws&&zs(Qe(),Ct(),h,e,d,h[11],l,!1),iu}function su(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=We(),p=la(f,t,n,r,i,s,o,a,u,c,l,h);return p!==ws&&zs(Qe(),Ct(),f,e,p,f[11],d,!1),su}function ou(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=We(),m=ha(g,t,n,r,i,s,o,a,u,c,l,h,d,f);return m!==ws&&zs(Qe(),Ct(),g,e,m,g[11],p,!1),ou}function au(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=We(),v=da(y,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return v!==ws&&zs(Qe(),Ct(),y,e,v,y[11],m,!1),au}function uu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){const w=We(),b=fa(w,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return b!==ws&&zs(Qe(),Ct(),w,e,b,w[11],v,!1),uu}function cu(e,t,n){const r=We(),i=sa(r,t);return i!==ws&&zs(Qe(),Ct(),r,e,i,r[11],n,!1),cu}function lu(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Ts(s):Ss(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];hu(e[a],t)&&(u=!0,e[a+1]=r?Cs(n):Es(n)),a=r?Ts(n):Ss(n)}u&&(e[n+1]=r?Es(s):Cs(s))}function hu(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ln(e,t)>=0}const du={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fu(e){return e.substring(du.key,du.keyEnd)}function pu(e){return e.substring(du.value,du.valueEnd)}function gu(e,t){const n=du.textEnd;return n===t?-1:(t=du.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,du.key=t,n),vu(e,t,n))}function mu(e,t){const n=du.textEnd;let r=du.key=vu(e,t,n);return n===r?-1:(r=du.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=wu(e,r,n),r=du.value=vu(e,r,n),r=du.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=bu(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=bu(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),wu(e,r,n))}function yu(e){du.key=0,du.keyEnd=0,du.value=0,du.valueEnd=0,du.textEnd=e.length}function vu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function wu(e,t,n,r){return(t=vu(e,t,n))<n&&t++,t}function bu(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function _u(e,t,n){return Cu(e,t,n,!1),_u}function Iu(e,t){return Cu(e,t,null,!0),Iu}function Tu(e){Au(Du,Eu,e,!1)}function Eu(e,t){for(let n=function(e){return yu(e),mu(e,vu(e,0,du.textEnd))}(t);n>=0;n=mu(t,n))Du(e,fu(t),pu(t))}function Su(e){Au(Dn,ku,e,!0)}function ku(e,t){for(let n=function(e){return yu(e),gu(e,vu(e,0,du.textEnd))}(t);n>=0;n=gu(t,n))Dn(e,fu(t),!0)}function Cu(e,t,n,r){const i=We(),s=Qe(),o=lt(2);s.firstUpdatePass&&Nu(s,e,o,r),t!==ws&&ea(i,o,t)&&Pu(s,s.data[St()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Ir(e)))),e}(t,n),r,o)}function Au(e,t,n,r){const i=Qe(),s=lt(2);i.firstUpdatePass&&Nu(i,null,s,r);const o=We();if(n!==ws&&ea(o,s,n)){const a=i.data[St()];if(Fu(a,r)&&!xu(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Pa(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===ws&&(i=Z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Pu(e,t,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return Z;const r=[],i=Ir(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function xu(e,t){return t>=e.expandoStartIndex}function Nu(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[St()],o=xu(e,n);Fu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=pt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ou(n=Ru(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Ru(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ss(r))return e[Ts(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Ru(null,e,t,n[1],r),n=Ou(n,t.attrs,r),function(e,t,n,r){e[Ts(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Ou(r,e[s].hostAttrs,n);return Ou(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ts(o),u=Ss(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ln(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=Ts(e[a+1]);e[r+1]=Is(t,a),0!==t&&(e[t+1]=ks(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Is(a,0),0!==a&&(e[a+1]=ks(e[a+1],r)),a=r;else e[r+1]=Is(u,0),0===a?a=r:e[u+1]=ks(e[u+1],r),u=r;l&&(e[r+1]=Es(e[r+1])),lu(e,c,r,!0),lu(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ln(s,t)>=0&&(n[r+1]=Cs(n[r+1]))}(t,c,e,r,s),o=Is(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Ru(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Ou(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ou(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Dn(e,o,!!n||t[++s]))}return void 0===e?null:e}function Du(e,t,n){Dn(e,t,Ir(n))}function Pu(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Mu(1==(1&c)?Lu(u,t,n,i,Ss(c),o):void 0)||(Mu(s)||2==(2&c)&&(s=Lu(u,null,n,i,a,o)),function(e,t,n,r,i){const s=Oe(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ei.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ei.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Le(St(),n),i,s))}function Lu(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===ws&&(l=c?Z:void 0);let h=c?Pn(l,r):u===r?l:void 0;if(s&&!Mu(h)&&(h=Pn(t,r)),Mu(h)&&(a=h,o))return a;const d=e[i+1];i=o?Ts(d):Ss(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Pn(e,r))}return a}function Mu(e){return void 0!==e}function Fu(e,t){return 0!=(e.flags&(t?16:32))}function Uu(e,t=""){const n=We(),r=Qe(),i=e+de,s=r.firstCreatePass?Ns(r,i,1,t,null):r.data[i],o=n[i]=Oi(n[11],t);Yi(r,n,o,s),tt(s,!1)}function ju(e){return Vu("",e,""),ju}function Vu(e,t,n){const r=We(),i=oa(r,e,t,n);return i!==ws&&wo(r,St(),i),Vu}function qu(e,t,n,r,i){const s=We(),o=aa(s,e,t,n,r,i);return o!==ws&&wo(s,St(),o),qu}function $u(e,t,n,r,i,s,o){const a=We(),u=ua(a,e,t,n,r,i,s,o);return u!==ws&&wo(a,St(),u),$u}function Bu(e,t,n,r,i,s,o,a,u){const c=We(),l=ca(c,e,t,n,r,i,s,o,a,u);return l!==ws&&wo(c,St(),l),Bu}function zu(e,t,n,r,i,s,o,a,u,c,l){const h=We(),d=la(h,e,t,n,r,i,s,o,a,u,c,l);return d!==ws&&wo(h,St(),d),zu}function Zu(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=We(),p=ha(f,e,t,n,r,i,s,o,a,u,c,l,h,d);return p!==ws&&wo(f,St(),p),Zu}function Hu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=We(),m=da(g,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p);return m!==ws&&wo(g,St(),m),Hu}function Gu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=We(),v=fa(y,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m);return v!==ws&&wo(y,St(),v),Gu}function Ku(e){const t=We(),n=sa(t,e);return n!==ws&&wo(t,St(),n),Ku}function Wu(e,t,n){Au(Dn,ku,oa(We(),e,t,n),!0)}function Qu(e,t,n,r,i){Au(Dn,ku,aa(We(),e,t,n,r,i),!0)}function Yu(e,t,n,r,i,s,o){Au(Dn,ku,ua(We(),e,t,n,r,i,s,o),!0)}function Ju(e,t,n,r,i,s,o,a,u){Au(Dn,ku,ca(We(),e,t,n,r,i,s,o,a,u),!0)}function Xu(e,t,n,r,i,s,o,a,u,c,l){Au(Dn,ku,la(We(),e,t,n,r,i,s,o,a,u,c,l),!0)}function ec(e,t,n,r,i,s,o,a,u,c,l,h,d){Au(Dn,ku,ha(We(),e,t,n,r,i,s,o,a,u,c,l,h,d),!0)}function tc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Au(Dn,ku,da(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p),!0)}function nc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Au(Dn,ku,fa(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m),!0)}function rc(e){Au(Dn,ku,sa(We(),e),!0)}function ic(e,t,n){Tu(oa(We(),e,t,n))}function sc(e,t,n,r,i){Tu(aa(We(),e,t,n,r,i))}function oc(e,t,n,r,i,s,o){Tu(ua(We(),e,t,n,r,i,s,o))}function ac(e,t,n,r,i,s,o,a,u){Tu(ca(We(),e,t,n,r,i,s,o,a,u))}function uc(e,t,n,r,i,s,o,a,u,c,l){Tu(la(We(),e,t,n,r,i,s,o,a,u,c,l))}function cc(e,t,n,r,i,s,o,a,u,c,l,h,d){Tu(ha(We(),e,t,n,r,i,s,o,a,u,c,l,h,d))}function lc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Tu(da(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p))}function hc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Tu(fa(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m))}function dc(e){Tu(sa(We(),e))}function fc(e,t,n,r,i){return Cu(e,oa(We(),t,n,r),i,!1),fc}function pc(e,t,n,r,i,s,o){return Cu(e,aa(We(),t,n,r,i,s),o,!1),pc}function gc(e,t,n,r,i,s,o,a,u){return Cu(e,ua(We(),t,n,r,i,s,o,a),u,!1),gc}function mc(e,t,n,r,i,s,o,a,u,c,l){return Cu(e,ca(We(),t,n,r,i,s,o,a,u,c),l,!1),mc}function yc(e,t,n,r,i,s,o,a,u,c,l,h,d){return Cu(e,la(We(),t,n,r,i,s,o,a,u,c,l,h),d,!1),yc}function vc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){return Cu(e,ha(We(),t,n,r,i,s,o,a,u,c,l,h,d,f),p,!1),vc}function wc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){return Cu(e,da(We(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g),m,!1),wc}function bc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){return Cu(e,fa(We(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y),v,!1),bc}function _c(e,t,n){return Cu(e,sa(We(),t),n,!1),_c}function Ic(e,t,n){const r=We();return ea(r,ct(),t)&&zs(Qe(),Ct(),r,e,t,r[11],n,!0),Ic}function Tc(e,t,n){const r=We();if(ea(r,ct(),t)){const i=Qe(),s=Ct();zs(i,s,r,e,t,mo(pt(i.data),s,r),n,!0)}return Tc}const Ec=void 0;var Sc=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let kc={};function Cc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=xc(t);if(n)return n;const r=t.split("-")[0];if(n=xc(r),n)return n;if("en"===r)return Sc;throw new Error(`Missing locale data for the locale "${e}".`)}function Ac(e){return Cc(e)[Nc.PluralCase]}function xc(e){return e in kc||(kc[e]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[e]),kc[e]}var Nc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Rc=["zero","one","two","few","many"],Oc="en-US",Dc={marker:"element"},Pc={marker:"ICU"};var Lc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Mc=Oc;function Fc(e){var t;null==(t=e)&&I("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Mc=e.toLowerCase().replace(/_/g,"-"))}function Uc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Gi(e,0,n):Pe(n[i])}function jc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)$i(e,o,n[s[t]],a,!1)}}function Vc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];qc(r)||$c(r,t)&&null===Bc(r)&&zc(r,t.index)}}function qc(e){return!(64&e.type)}function $c(e,t){return qc(t)||e.index>t.index}function Bc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function zc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Qi(Uc,jc),e.insertBeforeIndex=t)}function Zc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Hc(e,t,n){const r=Rs(e,n,64,null,null);return Vc(t,r),r}function Gc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Kc=0,Wc=0;function Qc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Oi(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=Zi(i,r)),c===o?(l=r,h=s):(l=null,h=Pe(n[c])),null!==h){const t=(131070&u)>>>1;$i(i,h,n[t],l,!1);const r=Zc(e,t);if(null!==r&&"object"==typeof r){const t=Gc(r,n);null!==t&&Qc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];eo(i,Le(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Pc:const e=t[++a],r=t[++a];null===n[r]&&hi(n[r]=Pi(i,e),n);break;case Dc:const s=t[++a],o=t[++a];null===n[o]&&hi(n[o]=Li(i,s,null),n)}}}function Yc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=w(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=e.data[a];"string"==typeof c?eo(t[11],t[a],null,c,s,i,u):zs(e,c,t,s,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Di(t[11],l,i);break;case 2:Xc(e,Zc(e,a),t,i);break;case 3:Jc(e,Zc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Zc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Jc(e,n,r,t)}}s+=a}}function Jc(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Kc;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Yc(e,r,t.update[i],n,s)}}function Xc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Ac(t)(parseInt(e,10)),r=Rc[n];return void 0!==r?r:"other"}(t,Mc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Gc(t,n)!==i&&(el(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Qc(e,t.create[i],n,r)}}function el(e,t,n){let r=Gc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Le(r,n);null!==e&&ts(n[11],e)}else el(e,Zc(e,~r),n)}}}const tl=/\ufffd(\d+):?\d*\ufffd/gi,nl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,rl=/\ufffd(\d+)\ufffd/,il=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ol=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,al=/\uE500/g;function ul(e,t,n,r,i,s,o){const a=Os(e,r,1,null);let u=a<<Lc.SHIFT,c=et();t===c&&(c=null),null===c&&(u|=Lc.APPEND_EAGERLY),o&&(u|=Lc.COMMENT,void 0===Si&&(Si=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Gc(e,t);n=null!==i?e.remove[i]:Z}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Rs(e,a,o?32:1,null===s?"":s,null);Vc(n,l);const h=l.index;return tt(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Qi(Uc,jc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&I("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function cl(e,t,n,r,i,s,o){const a=o.match(tl),u=ul(e,t,n,s,r,a?null:o,!1);a&&ll(i,o,u.index,null,0,null)}function ll(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const u=o+2,c=t.split(tl);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=dl(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=l,e[a]=e.length-u,l}function hl(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function dl(e){return 1<<Math.min(e,31)}function fl(e){let t,n,r="",i=0,s=!1;for(;null!==(t=sl.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function pl(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Os(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(dl(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=l.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=yl(e,a,t,n,r,i.cases[c],s.join(""),l)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function gl(e){const t=[],n=[];let r=1,i=0;const s=ml(e=e.replace(il,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=ml(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function ml(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);il.test(n)?r.push(gl(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function yl(e,t,n,r,i,s,o,a){const u=[],c=[],l=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(l);const h=Nr(Re()).getInertBodyElement(o),d=ei(h)||h;return d?vl(e,t,n,r,u,c,l,d,i,a,0):0}function vl(e,t,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Os(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(Br.hasOwnProperty(p)){_l(i,Dc,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(tl)?Hr.hasOwnProperty(n)&&ll(o,t.value,a,t.name,0,zr[n]?Lr:Zr[n]?Mr:null):Il(i,a,t)}h=vl(e,t,n,r,i,s,o,d,a,c,l+1)|h,wl(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(tl);_l(i,null,m?"":g,u,a),wl(s,a,l),m&&(h=ll(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=rl.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];_l(i,Pc,"",u,a),pl(e,n,r,u,t,a),bl(s,a,l)}}d=d.nextSibling}return h}function wl(e,t,n){0===n&&e.push(t)}function bl(e,t,n){0===n&&(e.push(~t),e.push(t))}function _l(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function Il(e,t,n){e.push(t<<1|1,n.name,n.value)}const Tl=/\[(\ufffd.+?\ufffd?)\]/,El=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Sl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,kl=/{([A-Z0-9_]+)}/g,Cl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Al=/\/\*/,xl=/\d+\:(\d+)/;function Nl(e,t,n=-1){const r=Qe(),i=We(),s=de+e,o=$e(r.consts,t),a=et();r.firstCreatePass&&function(e,t,n,r,i,s){const o=et(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return fl(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return fl(e.substring(n,r))}}(i,s),h.replace(al," ")).split(ol);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=ml(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const t=l;""!==t&&cl(e,o,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);pl(e,n,u,t,r,ul(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),de+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),tt(et(),!1);else{const t=Hc(e,c[0],n);c.unshift([]),tt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=qi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],u=(o&Lc.COMMENT)===Lc.COMMENT,c=(o&Lc.APPEND_EAGERLY)===Lc.APPEND_EAGERLY,l=o>>>Lc.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Oi(i,a)),c&&null!==n&&$i(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ht(!0)}function Rl(){ht(!1)}function Ol(e,t,n){Nl(e,t,n),Rl()}function Dl(e,t){const n=Qe(),r=$e(n.consts,t);!function(e,t,n){const r=Je().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(nl.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);ll(i,s,r,t,hl(i),null)}}e.data[t]=i}}(n,e+de,r)}function Pl(e){return ea(We(),ct(),e)&&(Kc|=1<<Math.min(Wc,31)),Wc++,Pl}function Ll(e){!function(e,t,n){if(Wc>0){const r=e.data[n];Yc(e,t,Array.isArray(r)?r:r.update,at()-Wc-1,Kc)}Kc=0,Wc=0}(Qe(),We(),e+de)}function Ml(e,t={}){return function(e,t={}){let n=e;if(Tl.test(e)){const e={},t=[0];n=n.replace(El,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(xl),n=t?parseInt(t[1],10):0,r=Al.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(Sl,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(kl,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(Cl,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Fl(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)Fl(e[s],t,n,r,i);else{const s=Qe(),o=We();let a=Po(e)?e:m(e.provide),u=Ro(e);const c=Je(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Po(e)||!e.multi){const r=new Ut(u,i,Ra),f=Vl(a,t,i?l:l+d,h);-1===f?(en(Qt(c,o),s,a),Ul(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Vl(a,t,l+d,h),p=Vl(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){en(Qt(c,o),s,a);const l=function(e,t,n,r,i){const s=new Ut(e,n,Ra);return s.multi=[],s.index=t,s.componentProviders=0,jl(s,i,r&&!n),s}(i?$l:ql,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ul(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Ul(s,e,f>-1?f:p,jl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ul(e,t,n,r){const i=Po(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function jl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Vl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ql(e,t,n,r){return Bl(this.multi,[])}function $l(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=cn(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Bl(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Bl(i,s);return s}function Bl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zl(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Qe();if(r.firstCreatePass){const i=we(e);Fl(n,r.data,r.blueprint,i,!0),Fl(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Zl{}class Hl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Gl=(()=>{class e{}return e.NULL=new Hl,e})();function Kl(...e){}function Wl(e,t){return new Yl(Me(e,t))}const Ql=function(){return Wl(Je(),We())};let Yl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Ql,e})();function Jl(e){return e instanceof Yl?e.nativeElement:e}class Xl{}let eh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>th(),e})();const th=function(){const e=We(),t=je(Je().index,e);return function(e){return e[11]}(pe(t)?t:e)};let nh=(()=>{class e{}return e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null}),e})();class rh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ih=new rh("12.0.5");class sh{constructor(){}supports(e){return Qo(e)}create(e){return new ah(e)}}const oh=(e,t)=>t;class ah{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oh}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<hh(n,r,i)?t:n,o=hh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Qo(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ko()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new uh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ch{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class lh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ch,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class dh{constructor(){}supports(e){return e instanceof Map||Yo(e)}create(){return new fh}}class fh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Yo(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ph(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ph{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gh(){return new mh([new sh])}let mh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||gh()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=T({token:e,providedIn:"root",factory:gh}),e})();function yh(){return new vh([new dh])}let vh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||yh()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:yh}),e})();function wh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Pe(s)),ge(s))for(let e=fe;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&wh(t[1],t,n,r)}const o=n.type;if(8&o)wh(e,t,n.child,r);else if(32&o){const e=ki(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Xi(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ci(t[16]);wh(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class bh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return wh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ge(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Fi(e,n),Rn(t,n))}this._attachedToViewContainer=!1}Ui(this._lView[1],this._lView)}onDestroy(e){$s(this._lView[1],this._lView,null,e)}markForCheck(){uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){co(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){st(!0);try{co(e,t,n)}finally{st(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,rs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class _h extends bh{constructor(e){super(e),this._view=e}detectChanges(){lo(this._view)}checkNoChanges(){!function(e){st(!0);try{lo(e)}finally{st(!1)}}(this._view)}get context(){return null}}const Ih=function(e){return function(e,t,n){if(ye(e)&&!n){const n=je(e.index,t);return new bh(n,n)}return 47&e.type?new bh(t[16],t):null}(Je(),We(),16==(16&e))};let Th=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ih,e})();const Eh=[new dh],Sh=new mh([new sh]),kh=new vh(Eh),Ch=function(){return Rh(Je(),We())};let Ah=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ch,e})();const xh=Ah,Nh=class extends xh{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=xs(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ds(t,n,e),new bh(n)}};function Rh(e,t){return 4&e.type?new Nh(t,e,Wl(e,t)):null}class Oh{}class Dh{}const Ph=function(){return Vh(Je(),We())};let Lh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ph,e})();const Mh=Lh,Fh=class extends Mh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xt(this._hostTNode,this._hostLView);if(zt(e)){const t=Ht(e,this._hostLView),n=Zt(e);return new dn(t[1].data[n+8],t)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Uh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-fe}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Oh,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(ge(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Fh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=fe+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-fe?(t[4]=n[i],Nn(n,fe+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=es(i,s),a=n[11],u=Zi(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,rs(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),Nn(jh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Uh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);n&&(Rn(jh(this._lContainer),t),Ui(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);return n&&null!=Rn(jh(this._lContainer),t)?new bh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Uh(e){return e[8]}function jh(e){return e[8]||(e[8]=[])}function Vh(e,t){let n;const r=t[e.index];if(ge(r))n=r;else{let i;if(8&e.type)i=Pe(r);else{const n=t[11];i=n.createComment("");const r=Me(e,t);$i(n,Zi(n,r),i,function(e,t){return Oe(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=ro(r,t,i,e),ao(t,n)}return new Fh(n,e,t)}const qh={};class $h extends Gl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new Zh(t,this.ngModule)}}function Bh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const zh=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wi});class Zh extends Zl{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(vs).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Bh(this.componentDef.inputs)}get outputs(){return Bh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,qh,i);return s!==qh||r===qh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Xl,De),o=i.get(nh,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Oe(e))return e.selectRootElement(t,n===U.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Li(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?Ce:"math"===t?Ae:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wi,clean:fo,playerHandler:null,flags:0},d=qs(0,null,null,1,0,null,null,null,null,null),f=xs(null,d,h,l,null,null,s,a,o,i);let p,g;wt(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Ns(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(bo(a,u,!0),null!==e&&(jt(i,e,u),null!==a.classes&&os(i,e,a.classes),null!==a.styles&&ss(i,e,a.styles)));const c=r.createRenderer(e,t),l=xs(n,Vs(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(en(Qt(a,n),o,t.type),Ks(o,a),Qs(a,n.length,1)),ao(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)jt(a,c,["ng-version",ih.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!fs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&jt(a,c,e),t&&t.length>0&&os(a,c,t.join(" "))}if(g=Fe(d,de),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Je();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ys(e,r,t,Os(e,t,1,null),n));const i=cn(t,e,r.directiveStart,r);hi(i,t);const s=Me(r,t);return s&&hi(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Je();t.contentQueries(1,o,e.directiveStart)}const a=Je();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(kt(a.index),Hs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Gs(t,o)),o}(e,this.componentDef,f,h,[Fo]),Ds(d,f,null)}finally{Et()}return new Hh(this.componentType,p,Wl(g,f),f,g)}}class Hh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new _h(r),this.componentType=e}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Gh(e,t,n,r){return M(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Kh=new Map;class Wh extends Oh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $h(this);const n=he(e),r=e[Q]||null;r&&Fc(r),this._bootstrapComponents=Ti(n.bootstrap),this._r3Injector=Ao(e,t,[{provide:Oh,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Mo.THROW_IF_NOT_FOUND,n=O.Default){return e===Mo||e===Oh||e===_o?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qh extends Dh{constructor(e){super(),this.moduleType=e,null!==he(e)&&function(e){const t=new Set;!function e(n){const r=he(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Kh.get(i),n),Kh.set(i,n));const s=Ti(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Wh(this.moduleType,e)}}function Yh(e,t,n){const r=ot()+e,i=We();return i[r]===ws?Jo(i,r,n?t.call(n):t()):Xo(i,r)}function Jh(e,t,n,r){return ud(We(),ot(),e,t,n,r)}function Xh(e,t,n,r,i){return cd(We(),ot(),e,t,n,r,i)}function ed(e,t,n,r,i,s){return ld(We(),ot(),e,t,n,r,i,s)}function td(e,t,n,r,i,s,o){return hd(We(),ot(),e,t,n,r,i,s,o)}function nd(e,t,n,r,i,s,o,a){const u=ot()+e,c=We(),l=ra(c,u,n,r,i,s);return ea(c,u+4,o)||l?Jo(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Xo(c,u+5)}function rd(e,t,n,r,i,s,o,a,u){const c=ot()+e,l=We(),h=ra(l,c,n,r,i,s);return ta(l,c+4,o,a)||h?Jo(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):Xo(l,c+6)}function id(e,t,n,r,i,s,o,a,u,c){const l=ot()+e,h=We();let d=ra(h,l,n,r,i,s);return na(h,l+4,o,a,u)||d?Jo(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):Xo(h,l+7)}function sd(e,t,n,r,i,s,o,a,u,c,l){const h=ot()+e,d=We(),f=ra(d,h,n,r,i,s);return ra(d,h+4,o,a,u,c)||f?Jo(d,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):Xo(d,h+8)}function od(e,t,n,r){return dd(We(),ot(),e,t,n,r)}function ad(e,t){const n=e[t];return n===ws?void 0:n}function ud(e,t,n,r,i,s){const o=t+n;return ea(e,o,i)?Jo(e,o+1,s?r.call(s,i):r(i)):ad(e,o+1)}function cd(e,t,n,r,i,s,o){const a=t+n;return ta(e,a,i,s)?Jo(e,a+2,o?r.call(o,i,s):r(i,s)):ad(e,a+2)}function ld(e,t,n,r,i,s,o,a){const u=t+n;return na(e,u,i,s,o)?Jo(e,u+3,a?r.call(a,i,s,o):r(i,s,o)):ad(e,u+3)}function hd(e,t,n,r,i,s,o,a,u){const c=t+n;return ra(e,c,i,s,o,a)?Jo(e,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):ad(e,c+4)}function dd(e,t,n,r,i,s){let o=t+n,a=!1;for(let u=0;u<i.length;u++)ea(e,o++,i[u])&&(a=!0);return a?Jo(e,o,r.apply(s,i)):ad(e,o)}function fd(e,t){const n=Qe();let r;const i=e+de;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=be(r.type)),o=P(Ra);try{const e=Kt(!1),t=s();return Kt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,We(),i,t),t}finally{P(o)}}function pd(e,t,n){const r=e+de,i=We(),s=Ue(i,r);return bd(i,wd(i,r)?ud(i,ot(),t,s.transform,n,s):s.transform(n))}function gd(e,t,n,r){const i=e+de,s=We(),o=Ue(s,i);return bd(s,wd(s,i)?cd(s,ot(),t,o.transform,n,r,o):o.transform(n,r))}function md(e,t,n,r,i){const s=e+de,o=We(),a=Ue(o,s);return bd(o,wd(o,s)?ld(o,ot(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function yd(e,t,n,r,i,s){const o=e+de,a=We(),u=Ue(a,o);return bd(a,wd(a,o)?hd(a,ot(),t,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function vd(e,t,n){const r=e+de,i=We(),s=Ue(i,r);return bd(i,wd(i,r)?dd(i,ot(),t,s.transform,n,s):s.transform.apply(s,n))}function wd(e,t){return e[1].data[t].pure}function bd(e,t){return Wo.isWrapped(t)&&(t=Wo.unwrap(t),e[at()]=ws),t}function _d(e){return t=>{setTimeout(e,void 0,t)}}const Id=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(u=_d(u),a&&(a=_d(a)),c&&(c=_d(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function Td(){return this._results[Ko()]()}class Ed{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ko(),n=Ed.prototype;n[t]||(n[t]=Td)}get changes(){return this._changes||(this._changes=new Id)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=An(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sd{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sd(this.queryList)}setDirty(){this.queryList.setDirty()}}class kd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new kd(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Vd(e,t).matches&&this.queries[t].setDirty()}}class Cd{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Ad{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Ad(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Nd(t,i)),this.matchTNodeWithReadOption(e,t,un(t,e,i,!1,!1))}else n===Ah?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,un(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Yl||r===Lh||r===Ah&&4&t.type)this.addMatch(t.index,-2);else{const n=un(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Nd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Rd(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Wl(e,t):4&e.type?Rh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Yl?Wl(t,e):n===Ah?Rh(t,e):n===Lh?Vh(t,e):void 0}(e,t,r):cn(e,e[1],n,t)}function Od(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Rd(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Dd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Od(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=fe;e<o.length;e++){const t=o[e];t[17]===t[3]&&Dd(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Dd(n[1],n,i,r)}}}}}return r}function Pd(e){const t=We(),n=Qe(),r=gt();mt(r+1);const i=Vd(n,r);if(e.dirty&&Ve(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Dd(n,t,r,[]):Od(n,t,i,r);e.reset(s,Jl),e.notifyOnChanges()}return!0}return!1}function Ld(e,t,n){const r=Qe();r.firstCreatePass&&(jd(r,new Cd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Ud(r,We(),t)}function Md(e,t,n,r){const i=Qe();if(i.firstCreatePass){const s=Je();jd(i,new Cd(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Ud(i,We(),n)}function Fd(){return e=We(),t=gt(),e[19].queries[t].queryList;var e,t}function Ud(e,t,n){const r=new Ed(4==(4&n));$s(e,t,r,r.destroy),null===t[19]&&(t[19]=new kd),t[19].queries.push(new Sd(r))}function jd(e,t,n){null===e.queries&&(e.queries=new Ad),e.queries.track(new xd(t,n))}function Vd(e,t){return e.queries.getByIndex(t)}function qd(e,t){return Rh(e,t)}const $d=(()=>({"\u0275\u0275attribute":ia,"\u0275\u0275attributeInterpolate1":pa,"\u0275\u0275attributeInterpolate2":ga,"\u0275\u0275attributeInterpolate3":ma,"\u0275\u0275attributeInterpolate4":ya,"\u0275\u0275attributeInterpolate5":va,"\u0275\u0275attributeInterpolate6":wa,"\u0275\u0275attributeInterpolate7":ba,"\u0275\u0275attributeInterpolate8":_a,"\u0275\u0275attributeInterpolateV":Ia,"\u0275\u0275defineComponent":ee,"\u0275\u0275defineDirective":ue,"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275defineNgModule":se,"\u0275\u0275definePipe":ce,"\u0275\u0275directiveInject":Ra,"\u0275\u0275getInheritedFactory":fn,"\u0275\u0275inject":Qn,"\u0275\u0275injectAttribute":gn,"\u0275\u0275invalidFactory":Oa,"\u0275\u0275invalidFactoryDep":Yn,"\u0275\u0275templateRefExtractor":qd,"\u0275\u0275NgOnChangesFeature":Ie,"\u0275\u0275ProvidersFeature":zl,"\u0275\u0275CopyDefinitionFeature":Ho,"\u0275\u0275InheritDefinitionFeature":jo,"\u0275\u0275nextContext":Qa,"\u0275\u0275namespaceHTML":Nt,"\u0275\u0275namespaceMathML":xt,"\u0275\u0275namespaceSVG":At,"\u0275\u0275enableBindings":Ge,"\u0275\u0275disableBindings":Ke,"\u0275\u0275elementStart":La,"\u0275\u0275elementEnd":Ma,"\u0275\u0275element":Fa,"\u0275\u0275elementContainerStart":Ua,"\u0275\u0275elementContainerEnd":ja,"\u0275\u0275elementContainer":Va,"\u0275\u0275pureFunction0":Yh,"\u0275\u0275pureFunction1":Jh,"\u0275\u0275pureFunction2":Xh,"\u0275\u0275pureFunction3":ed,"\u0275\u0275pureFunction4":td,"\u0275\u0275pureFunction5":nd,"\u0275\u0275pureFunction6":rd,"\u0275\u0275pureFunction7":id,"\u0275\u0275pureFunction8":sd,"\u0275\u0275pureFunctionV":od,"\u0275\u0275getCurrentView":qa,"\u0275\u0275restoreView":Ye,"\u0275\u0275listener":Za,"\u0275\u0275projection":Xa,"\u0275\u0275syntheticHostProperty":Tc,"\u0275\u0275syntheticHostListener":Ha,"\u0275\u0275pipeBind1":pd,"\u0275\u0275pipeBind2":gd,"\u0275\u0275pipeBind3":md,"\u0275\u0275pipeBind4":yd,"\u0275\u0275pipeBindV":vd,"\u0275\u0275projectionDef":Ja,"\u0275\u0275hostProperty":Ic,"\u0275\u0275property":Da,"\u0275\u0275propertyInterpolate":eu,"\u0275\u0275propertyInterpolate1":tu,"\u0275\u0275propertyInterpolate2":nu,"\u0275\u0275propertyInterpolate3":ru,"\u0275\u0275propertyInterpolate4":iu,"\u0275\u0275propertyInterpolate5":su,"\u0275\u0275propertyInterpolate6":ou,"\u0275\u0275propertyInterpolate7":au,"\u0275\u0275propertyInterpolate8":uu,"\u0275\u0275propertyInterpolateV":cu,"\u0275\u0275pipe":fd,"\u0275\u0275queryRefresh":Pd,"\u0275\u0275viewQuery":Ld,"\u0275\u0275loadQuery":Fd,"\u0275\u0275contentQuery":Md,"\u0275\u0275reference":Ea,"\u0275\u0275classMap":Su,"\u0275\u0275classMapInterpolate1":Wu,"\u0275\u0275classMapInterpolate2":Qu,"\u0275\u0275classMapInterpolate3":Yu,"\u0275\u0275classMapInterpolate4":Ju,"\u0275\u0275classMapInterpolate5":Xu,"\u0275\u0275classMapInterpolate6":ec,"\u0275\u0275classMapInterpolate7":tc,"\u0275\u0275classMapInterpolate8":nc,"\u0275\u0275classMapInterpolateV":rc,"\u0275\u0275styleMap":Tu,"\u0275\u0275styleMapInterpolate1":ic,"\u0275\u0275styleMapInterpolate2":sc,"\u0275\u0275styleMapInterpolate3":oc,"\u0275\u0275styleMapInterpolate4":ac,"\u0275\u0275styleMapInterpolate5":uc,"\u0275\u0275styleMapInterpolate6":cc,"\u0275\u0275styleMapInterpolate7":lc,"\u0275\u0275styleMapInterpolate8":hc,"\u0275\u0275styleMapInterpolateV":dc,"\u0275\u0275styleProp":_u,"\u0275\u0275stylePropInterpolate1":fc,"\u0275\u0275stylePropInterpolate2":pc,"\u0275\u0275stylePropInterpolate3":gc,"\u0275\u0275stylePropInterpolate4":mc,"\u0275\u0275stylePropInterpolate5":yc,"\u0275\u0275stylePropInterpolate6":vc,"\u0275\u0275stylePropInterpolate7":wc,"\u0275\u0275stylePropInterpolate8":bc,"\u0275\u0275stylePropInterpolateV":_c,"\u0275\u0275classProp":Iu,"\u0275\u0275advance":bs,"\u0275\u0275template":Ta,"\u0275\u0275text":Uu,"\u0275\u0275textInterpolate":ju,"\u0275\u0275textInterpolate1":Vu,"\u0275\u0275textInterpolate2":qu,"\u0275\u0275textInterpolate3":$u,"\u0275\u0275textInterpolate4":Bu,"\u0275\u0275textInterpolate5":zu,"\u0275\u0275textInterpolate6":Zu,"\u0275\u0275textInterpolate7":Hu,"\u0275\u0275textInterpolate8":Gu,"\u0275\u0275textInterpolateV":Ku,"\u0275\u0275i18n":Ol,"\u0275\u0275i18nAttributes":Dl,"\u0275\u0275i18nExp":Pl,"\u0275\u0275i18nStart":Nl,"\u0275\u0275i18nEnd":Rl,"\u0275\u0275i18nApply":Ll,"\u0275\u0275i18nPostprocess":Ml,"\u0275\u0275resolveWindow":bi,"\u0275\u0275resolveDocument":_i,"\u0275\u0275resolveBody":Ii,"\u0275\u0275setComponentScope":te,"\u0275\u0275setNgModuleScope":oe,"\u0275\u0275sanitizeHtml":ni,"\u0275\u0275sanitizeStyle":ri,"\u0275\u0275sanitizeResourceUrl":si,"\u0275\u0275sanitizeScript":oi,"\u0275\u0275sanitizeUrl":ii,"\u0275\u0275sanitizeUrlOrResourceUrl":ci,"\u0275\u0275trustConstantHtml":ai,"\u0275\u0275trustConstantResourceUrl":ui,forwardRef:g,resolveForwardRef:m}))(),Bd=[];function zd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const Zd=wn("NgModule",e=>e,void 0,void 0,(e,t)=>Hd(e,t)),Hd=function(e,t={}){!function(e,t,n=!1){const r=An(t.declarations||Z);let i=null;Object.defineProperty(e,W,{configurable:!0,get:()=>(null===i&&(i=Sn().compileNgModule($d,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:An(t.bootstrap||Z).map(m),declarations:r.map(m),imports:An(t.imports||Z).map(m).map(zd),exports:An(t.exports||Z).map(m).map(zd),schemas:t.schemas?An(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,Y,{get:()=>{if(null===s){const t=Sn();s=t.compileFactory($d,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:ur(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,x,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||Z,imports:[(t.imports||Z).map(m),(t.exports||Z).map(m)]};o=Sn().compileInjector($d,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){Bd.push({moduleType:e,ngModule:t})}(e,t)},Gd=new Tn("Application Initializer");let Kd=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Kl,this.reject=Kl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if($a(t))e.push(t);else if(za(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Qn(Gd,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const Wd=new Tn("AppId"),Qd={provide:Wd,useFactory:function(){return`${Yd()}${Yd()}${Yd()}`},deps:[]};function Yd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jd=new Tn("Platform Initializer"),Xd=new Tn("Platform ID"),ef=new Tn("appBootstrapListener");let tf=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const nf=new Tn("LocaleId"),rf=new Tn("DefaultCurrencyCode");class sf{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const of=function(e){return new Qh(e)},af=of,uf=function(e){return Promise.resolve(of(e))},cf=function(e){const t=of(e),n=Ti(he(e).declarations).reduce((e,t)=>{const n=le(t);return n&&e.push(new Zh(n)),e},[]);return new sf(t,n)},lf=cf,hf=function(e){return Promise.resolve(cf(e))};let df=(()=>{class e{constructor(){this.compileModuleSync=af,this.compileModuleAsync=uf,this.compileModuleAndAllComponentsSync=lf,this.compileModuleAndAllComponentsAsync=hf}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const ff=(()=>Promise.resolve(0))();function pf(e){"undefined"==typeof Zone?ff.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class gf{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Id(!1),this.onMicrotaskEmpty=new Id(!1),this.onStable=new Id(!1),this.onError=new Id(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=B.requestAnimationFrame,t=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(B,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vf(e),e.isCheckStableRunning=!0,yf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return wf(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),bf(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return wf(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),bf(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,vf(e),yf(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,mf,Kl,Kl);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const mf={};function yf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function wf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bf(e){e._nesting--,yf(e)}class _f{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Id,this.onMicrotaskEmpty=new Id,this.onStable=new Id,this.onError=new Id}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let If=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gf.assertNotInAngularZone(),pf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Qn(gf))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})(),Tf=(()=>{class e{constructor(){this._applications=new Map,Cf.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Cf.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();class Ef{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Sf(e){Cf=e}let kf,Cf=new Ef,Af=!0,xf=!1;function Nf(){return xf=!0,Af}function Rf(){if(xf)throw new Error("Cannot enable prod mode after platform setup.");Af=!1}const Of=new Tn("AllowMultipleToken");class Df{constructor(e,t){this.name=e,this.token=t}}function Pf(e,t,n=[]){const r=`Platform: ${t}`,i=new Tn(r);return(t=[])=>{let s=Lf();if(!s||s.injector.get(Of,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:To,useValue:"platform"});!function(e){if(kf&&!kf.destroyed&&!kf.injector.get(Of,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");kf=e.get(Mf);const t=e.get(Jd,null);t&&t.forEach(e=>e())}(Mo.create({providers:e,name:r}))}return function(e){const t=Lf();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Lf(){return kf&&!kf.destroyed?kf:null}let Mf=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new _f:("zone.js"===e?void 0:e)||new gf({enableLongStackTrace:Nf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:gf,useValue:n}];return n.run(()=>{const t=Mo.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(mi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{jf(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return $a(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Kd);return e.runInitializers(),e.donePromise.then(()=>(Fc(i.injector.get(nf,Oc)||Oc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Ff({},t);return function(e,t,n){const r=new Qh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Uf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Qn(Mo))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Ff(e,t){return Array.isArray(t)?t.reduce(Ff,e):Object.assign(Object.assign({},e),t)}let Uf=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{gf.assertNotInAngularZone(),pf(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>{return(0,u.x)()((t=c,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Zl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Oh),i=n.create(Mo.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(If,null),a=o&&i.injector.get(Tf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),jf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;jf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ef,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Qn(gf),Qn(Mo),Qn(mi),Qn(Gl),Qn(Kd))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function jf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Vf{}class qf{}const $f={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bf=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||$f}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>zf(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>zf(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Qn(df),Qn(qf,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function zf(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Zf=function(e){return null},Hf=Pf(null,"core",[{provide:Xd,useValue:"unknown"},{provide:Mf,deps:[Mo]},{provide:Tf,deps:[]},{provide:tf,deps:[]}]),Gf=[{provide:Uf,useClass:Uf,deps:[gf,Mo,mi,Gl,Kd]},{provide:zh,deps:[gf],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Kd,useClass:Kd,deps:[[new tr,Gd]]},{provide:df,useClass:df,deps:[]},Qd,{provide:mh,useFactory:function(){return Sh},deps:[]},{provide:vh,useFactory:function(){return kh},deps:[]},{provide:nf,useFactory:function(e){return Fc(e=e||"undefined"!=typeof $localize&&$localize.locale||Oc),e},deps:[[new er(nf),new tr,new rr]]},{provide:rf,useValue:"USD"}];let Kf=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Qn(Uf))},e.\u0275mod=se({type:e}),e.\u0275inj=E({providers:Gf}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>l,GT:()=>u,cc:()=>m,on:()=>d,pX:()=>a});var r=n(7368),i=n(9001),s=n(8934);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8934:(e,t,n)=>{"use strict";n.d(t,{q4:()=>On,iC:()=>Zn,HU:()=>qn,vb:()=>Fn,JM:()=>Mn,u3:()=>Gn});var r=n(7368),i=n(1858),s=n(6304),o=n(7964),a=n(5725),u=n(1947),c=n(8678),l=n(2087);const h="@firebase/installations",d="0.5.4",f="w:0.5.4",p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function w(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function _({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function I(e,{refreshToken:t}){const n=_(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function S(e,t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:_(e),body:JSON.stringify({fid:t,authVersion:p,appId:e.appId,sdkVersion:f})},i=yield T(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield w("Create Installation",i)})).apply(this,arguments)}function C(e){return new Promise(t=>{setTimeout(t,e)})}const A=/^[cdef][\w-]{21}$/;function x(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return A.test(t)?t:""}catch(e){return""}}function N(e){return`${e.appName}!${e.appId}`}const R=new Map;function O(e,t){const n=N(e);D(n,t),function(e,t){const n=(!P&&"BroadcastChannel"in self&&(P=new BroadcastChannel("[Firebase] FID Change"),P.onmessage=e=>{D(e.data.key,e.data.fid)}),P);n&&n.postMessage({key:e,fid:t}),0===R.size&&P&&(P.close(),P=null)}(n,t)}function D(e,t){const n=R.get(e);if(n)for(const r of n)r(t)}let P=null;const L="firebase-installations-store";let M=null;function F(){return M||(M=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(L)}})),M}function U(e,t){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(e,t){const n=N(e),r=(yield F()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n);return yield i.put(t,n),yield r.complete,s&&s.fid===t.fid||O(e,t.fid),t})).apply(this,arguments)}function V(e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(e){const t=N(e),n=(yield F()).transaction(L,"readwrite");yield n.objectStore(L).delete(t),yield n.complete})).apply(this,arguments)}function $(e,t){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(e,t){const n=N(e),r=(yield F()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||O(e,o.fid),o})).apply(this,arguments)}function z(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e){let t;const n=yield $(e,n=>{const r=H(n),i=G(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function H(e){return J(e||{fid:x(),registrationStatus:0})}function G(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return K.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}function K(){return(K=(0,s.Z)(function*(e,t){try{return U(e,yield S(e,t))}catch(n){throw m(n)&&409===n.customData.serverCode?yield V(e):yield U(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function W(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(e){let t=yield Y(e);for(;1===t.registrationStatus;)yield C(100),t=yield Y(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield z(e);return n||t}return t})).apply(this,arguments)}function Y(e){return $(e,e=>{if(!e)throw g.create("installation-not-found");return J(e)})}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=te(e,n),i=I(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield T(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield w("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(e,t=!1){let n;const r=yield $(e.appConfig,r=>{if(!ce(r))throw g.create("not-registered");const i=r.authToken;if(!t&&le(i))return r;if(1===i.requestStatus)return n=ie(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=he(r);return n=ae(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(e,t){let n=yield oe(e.appConfig);for(;1===n.authToken.requestStatus;)yield C(100),n=yield oe(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r})).apply(this,arguments)}function oe(e){return $(e,e=>{if(!ce(e))throw g.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(function*(e,t){try{const n=yield X(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield U(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield U(e.appConfig,n)}else yield V(e.appConfig);throw n}})).apply(this,arguments)}function ce(e){return void 0!==e&&2===e.registrationStatus}function le(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield z(t.appConfig);return r?r.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function fe(){return(fe=(0,s.Z)(function*(e,t=!1){const n=e;return yield pe(n.appConfig),(yield ne(n,t)).token})).apply(this,arguments)}function pe(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,s.Z)(function*(e){const{registrationPromise:t}=yield z(e);t&&(yield t)})).apply(this,arguments)}function me(e){return g.create("missing-app-config-values",{valueName:e})}const ye="installations";(0,o._registerComponent)(new u.wA(ye,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw me("App Configuration");if(!e.name)throw me("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw me(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ye).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return fe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ve="@firebase/remote-config",we="0.3.3",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _e{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Ie(e=navigator){return e.languages&&e.languages[0]||e.language}class Te{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Ie()},a={method:"POST",headers:s,body:JSON.stringify(o)},u=fetch(i,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{yield Promise.race([u,c]),l=yield u}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let e;try{e=yield l.json()}catch(g){throw be.create("fetch-client-parse",{originalErrorMessage:g.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Ee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Se{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ke(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const Ce="app_namespace_store";class Ae{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(ke(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Ce,{keyPath:"compositeKey"})}}}catch(n){t(be.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ce],"readonly").objectStore(Ce),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(ke(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([Ce],"readwrite").objectStore(Ce),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(ke(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(u){s(be.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ce],"readwrite").objectStore(Ce),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(ke(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ne(){return(Ne=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:u}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!u)throw be.create("registration-app-id");const l=new Ae(u,n.name,t=t||"firebase"),h=new xe(l),d=new c.Yd(ve);d.logLevel=c.in.ERROR;const f=new Te(r,o.SDK_VERSION,t,i,s,u),p=new Ee(f,l),g=new _e(p,l,h,d),m=new Se(n,g,h,l,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ve,we),(0,o.registerVersion)(ve,we,"esm2017");const Re="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Pe,Le;function Me(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fe(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Pe||(Pe={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Le||(Le={}));const Ue="fcm_token_details_db",je="fcm_token_object_Store";function Ve(e){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ue))return null;let t=null;return(yield(0,l.openDb)(Ue,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(je))return;const i=n.transaction.objectStore(je),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Me(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(Ue),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),$e(t)?t:null})).apply(this,arguments)}function $e(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Be="firebase-messaging-store";let ze=null;function Ze(){return ze||(ze=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Be)}})),ze}function He(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(e){const t=Je(e),n=yield Ze(),r=yield n.transaction(Be).objectStore(Be).get(t);if(r)return r;{const t=yield Ve(e.appConfig.senderId);if(t)return yield Ke(e,t),t}})).apply(this,arguments)}function Ke(e,t){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(e,t){const n=Je(e),r=(yield Ze()).transaction(Be,"readwrite");return yield r.objectStore(Be).put(t,n),yield r.complete,t})).apply(this,arguments)}function Qe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e){const t=Je(e),n=(yield Ze()).transaction(Be,"readwrite");yield n.objectStore(Be).delete(t),yield n.complete})).apply(this,arguments)}function Je({appConfig:e}){return e.appId}const Xe=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e,t){const n=yield at(e),r=ct(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=yield fetch(ot(e.appConfig),i);s=yield t.json()}catch(o){throw Xe.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(e,t){const n=yield at(e),r=ct(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${ot(e.appConfig)}/${t.token}`,i);s=yield n.json()}catch(o){throw Xe.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-update-no-token");return s.token})).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield at(e)};try{const r=yield fetch(`${ot(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw Xe.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Xe.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function ot({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function at(e){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ct({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==De&&(i.web.applicationPubKey=r),i}const lt=6048e5;function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(e){const t=yield wt(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Me(t.getKey("auth")),p256dh:Me(t.getKey("p256dh"))},r=yield He(e.firebaseDependencies);if(r){if(_t(r.subscriptionOptions,n))return Date.now()>=r.createTime+lt?gt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield it(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return yt(e.firebaseDependencies,n)}return yt(e.firebaseDependencies,n)})).apply(this,arguments)}function ft(e){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(e){const t=yield He(e.firebaseDependencies);t&&(yield it(e.firebaseDependencies,t.token),yield Qe(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function gt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(e,t){try{const n=yield nt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Ke(e.firebaseDependencies,r),n}catch(n){throw yield ft(e),n}})).apply(this,arguments)}function yt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e,t){const n={token:yield et(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Ke(e,n),n.token})).apply(this,arguments)}function wt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fe(t)})})).apply(this,arguments)}function _t(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function It(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function Tt(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Et(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function St(e){return Xe.create("missing-app-config-values",{valueName:e})}Et("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Et("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw St("App Configuration Object");if(!e.name)throw St("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw St(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Ct(e){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Re,{scope:Oe}),e.swRegistration.update().catch(()=>{})}catch(t){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function xt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield Ct(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Rt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=De)})).apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){if(!navigator)throw Xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xe.create("permission-blocked");return yield Rt(e,null==t?void 0:t.vapidKey),yield xt(e,null==t?void 0:t.serviceWorkerRegistration),ht(e)})).apply(this,arguments)}function Pt(e,t,n){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(e,t,n){const r=Mt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mt(e){switch(e){case Le.NOTIFICATION_CLICKED:return"notification_open";case Le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ft(){return(Ft=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Le.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(It(n)):e.onMessageHandler.next(It(n)));const r=n.data;Tt(r)&&"1"===r["google.c.a.e"]&&(yield Pt(e,n.messageType,r))})).apply(this,arguments)}const Ut="@firebase/messaging",jt="0.9.4";function Vt(){return(Vt=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",e=>{const t=new kt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Ft.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Dt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Ut,jt),(0,o.registerVersion)(Ut,jt,"esm2017");const qt="analytics",$t="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bt="https://www.googletagmanager.com/gtag/js",zt=new c.Yd("@firebase/analytics");function Zt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Ht(e,t){const n=document.createElement("script");n.src=`${Bt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Gt(e,t,n,r,i,s){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Zt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){zt.error(a)}e("config",i,s)})).apply(this,arguments)}function Wt(e,t,n,r,i){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Zt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){zt.error(s)}})).apply(this,arguments)}function Yt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bt))return t;return null}const Jt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xt=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function en(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:en(r)},s=$t.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function rn(e){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(e,t=Xt,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Jt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ln;return setTimeout((0,s.Z)(function*(){u.abort()}),void 0!==n?n:6e4),on({appId:r,apiKey:i,measurementId:o},a,u,t)})).apply(this,arguments)}function on(e,t,n){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Xt){const{appId:s,measurementId:o}=e;try{yield un(r,t)}catch(u){if(o)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}try{const t=yield tn(e);return i.deleteThrottleMetadata(s),t}catch(u){if(!cn(u)){if(i.deleteThrottleMetadata(s),o)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}const t=503===Number(u.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,c),zt.debug(`Calling attemptFetch again in ${t} millis`),on(e,c,r,i)}})).apply(this,arguments)}function un(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class ln{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function hn(){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(){if(!(0,a.hl)())return zt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return zt.warn(Jt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const u=rn(e);u.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>zt.error(e)),t.push(u);const c=hn().then(e=>e?r.getId():void 0),[l,h]=yield Promise.all([u,c]);Yt()||Ht(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class pn{constructor(e){this.app=e}_delete(){return delete gn[this.app.options.appId],Promise.resolve()}}let gn={},mn=[];const yn={};let vn,wn,bn="dataLayer",_n=!1;function In(){return(In=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const En="@firebase/analytics",Sn="0.7.4";(0,o._registerComponent)(new u.wA(qt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:t});zt.warn(n.message)}}();const r=e.options.appId;if(!r)throw Jt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Jt.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gn[r])throw Jt.create("already-exists",{id:r});if(!_n){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Wt(e,t,n,s,o):"config"===i?yield Gt(e,t,n,r,s,o):e("set",s)}catch(a){zt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(gn,mn,yn);wn=e,vn=t,_n=!0}return gn[r]=function(e,t,n,r,i,s,o){return fn.apply(this,arguments)}(e,mn,yn,t,vn,bn,n),new pn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(e){try{const t=e.getProvider(qt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return In.apply(this,arguments)}(wn,gn[e.app.options.appId],t,n,r).catch(e=>zt.error(e))}(t,e,n,r)}}catch(t){throw Jt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(En,Sn),(0,o.registerVersion)(En,Sn,"esm2017");var kn=n(8489),Cn=n(8569),An=n(8318),xn=n(6599),Nn=n(2893),Rn=n(9098);const On=new r.GfV("7.2.0"),Dn="__angularfire_symbol__analyticsIsSupported",Pn="__angularfire_symbol__remoteConfigIsSupported",Ln="__angularfire_symbol__messagingIsSupported";function Mn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Dn]||(globalThis[Dn]=function(){return Tn.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Ln]||(globalThis[Ln]=function(){return Vt.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[Pn]||(globalThis[Pn]=function(){return Ne.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const Fn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Un(){}class jn{constructor(e,t=kn.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Vn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Un,{},Un,Un)),t.pipe((0,xn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new jn(Zone.current)),this.insideAngular=e.run(()=>new jn(Zone.current,Cn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $n(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Bn(e){return $n().ngZone.runOutsideAngular(()=>e())}function zn(e){return $n().ngZone.run(()=>e())}function Zn(e){return $n(),(t=$n(),function(e){return(e=e.lift(new Vn(t.ngZone))).pipe((0,Nn.R)(t.outsideAngular),(0,Rn.QV)(t.insideAngular))})(e);var t}const Hn=(e,t)=>{const n=void 0;return function(){return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),zn(()=>e.apply(n,arguments))}},Gn=(e,t)=>function(){let n;for(let e=0;e<arguments.length;e++)"function"==typeof arguments[e]&&(t&&(n||(n=zn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Un,{},Un,Un)))),arguments[e]=Hn(arguments[e],n));const r=Bn(()=>e.apply(this,arguments));if(!t){if(r instanceof An.y){const e=$n();return r.pipe((0,Nn.R)(e.outsideAngular),(0,Rn.QV)(e.insideAngular))}return zn(()=>r)}return r instanceof An.y?r.pipe(Zn):r instanceof Promise?zn(()=>new Promise((e,t)=>r.then(t=>zn(()=>e(t)),e=>zn(()=>t(e))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:zn(()=>r)}},6986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5725),i=n(1947),s=n(7964),o=n(8678);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.9",void 0)},7964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>T,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>g,_addOrOverwriteComponent:()=>m,_apps:()=>f,_clearComponents:()=>b,_components:()=>p,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>w,deleteApp:()=>C,getApp:()=>S,getApps:()=>k,initializeApp:()=>E,onLog:()=>N,registerVersion:()=>x,setLogLevel:()=>R});var r=n(6304),i=n(1947),s=n(8678),o=n(5725);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c="0.7.8",l=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(p.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of f.values())g(n,e);return!0}function v(e,t){return e.container.getProvider(t)}function w(e,t,n=h){v(e,t).clearInstance(n)}function b(){p.clear()}const _=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class I{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const T="9.4.1";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw _.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw _.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const u=new I(e,n,a);return f.set(r,u),u}function S(e=h){const t=f.get(e);if(!t)throw _.create("no-app",{appName:e});return t}function k(){return Array.from(f.values())}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;f.has(t)&&(f.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function x(e,t,n){var r;let s=null!==(r=d[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function N(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,s.Am)(e,t)}function R(e){(0,s.Ub)(e)}y(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),x(u,c,""),x(u,c,"esm2017"),x("fire-js","")},1947:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>u});var r=n(6304),i=n(5725);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8678:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>l,Am:()=>h});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},5725:(e,t,n)=>{"use strict";n.d(t,{BH:()=>u,LL:()=>S,ZR:()=>E,zI:()=>I,US:()=>i,tV:()=>o,$s:()=>F,r3:()=>C,Sg:()=>c,ne:()=>P,vZ:()=>x,ZB:()=>a,pd:()=>D,Rd:()=>T,m9:()=>U,z$:()=>l,jU:()=>f,ru:()=>p,d:()=>m,xb:()=>A,w1:()=>y,hl:()=>b,uI:()=>h,UG:()=>d,b$:()=>g,G6:()=>w,Mn:()=>v,xO:()=>R,zd:()=>O,eu:()=>_});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0;let c=(15&o)<<2|u>>6,l=63&u;a||(l=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function y(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return l().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function _(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function T(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(k,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new E(r,`${this.serviceName}: ${s} (${r}).`,n)}}const k=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(N(n)&&N(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N(e){return null!==e&&"object"==typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function O(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function F(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},1858:(e,t,n)=>{"use strict";n.d(t,{P2:()=>r.deleteApp,Mq:()=>r.getApp,C6:()=>r.getApps,ZF:()=>r.initializeApp,TP:()=>r.onLog,KN:()=>r.registerVersion,Ub:()=>r.setLogLevel});var r=n(7964);(0,r.registerVersion)("firebase","9.4.1","app")},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(6986);r.Z.registerVersion("firebase","9.4.1","app-compat")},14:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(6986),s=n(5725),o=n(7964);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var u=n(8678),c=n(1947);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new u.Yd("@firebase/auth");function f(e,...t){d.logLevel<=u.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw v(e,...t)}function g(e,...t){return v(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function w(e,t,...n){if(!e)throw v(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||b(t)}const I=new Map;function T(e){_(e instanceof Function,"Expected a class definition");let t=I.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,I.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new C(3e4,6e4);function O(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n,r,i={}){return L(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(x.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),x.fetch()(j(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function L(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),t);try{const t=new V(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw q(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);p(e,a)}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function F(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield D(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function j(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class V{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function $(){return($=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Q(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:G(W(i.auth_time)),issuedAtTime:G(W(i.iat)),expirationTime:G(W(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function W(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Y(e,Z(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield L(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=j(e,r,"/v1/token",`key=${i}`);return x.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return b("not implemented")}}function ce(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class le{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Y(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new le(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Y(e,function(e,t){return $.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:I,stsTokenManager:T}=t;w(v&&T,e,"internal-error");const E=ue.fromJSON(this.name,T);w("string"==typeof v,e,"internal-error"),ce(l,e.name),ce(h,e.name),w("boolean"==typeof b,e,"internal-error"),w("boolean"==typeof _,e,"internal-error"),ce(d,e.name),ce(f,e.name),ce(p,e.name),ce(g,e.name),ce(m,e.name),ce(y,e.name);const S=new le({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ue;r.updateFromServerResponse(t);const i=new le({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?le._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(T(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||T(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=le._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new fe(s,e,n)):new fe(s,e,n)})()}}function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(_e(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,s.z$)()){return/firefox\//i.test(e)}function me(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function ve(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function _e(e=(0,s.z$)()){return/webos/i.test(e)}function Ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Te(e=(0,s.z$)()){return Ie(e)||we(e)||_e(e)||be(e)||/windows phone/i.test(e)||ve(e)}function Ee(e,t=[]){let n;switch(e){case"Browser":n=pe((0,s.z$)());break;case"Worker":n=`${pe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Se{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;n._deleted||(n.persistenceManager=yield fe.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&T(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[T(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ke(e){return(0,s.m9)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ne{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Re(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",O(e,t))})).apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",O(e,t))})).apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",O(e,t))})).apply(this,arguments)}function Ue(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",O(e,t))})).apply(this,arguments)}function Ve(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function $e(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function ze(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function He(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}class Qe extends Ne{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Fe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ye(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",O(e,t))})).apply(this,arguments)}class Xe extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",O(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield F(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Ne{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);w(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let ut=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return w(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ct{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lt extends ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends lt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends lt{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ft=(()=>{class e extends lt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),pt=(()=>{class e extends lt{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Ne{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gt(n,i):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mt extends ct{constructor(e){w(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return mt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return mt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gt.fromJSON(e);return w(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return gt._create(n,t)}catch(r){return null}}}let yt=(()=>{class e extends lt{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signUp",O(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield le._fromIdTokenResponse(e,n,i),s=_t(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=_t(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function _t(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function It(){return(It=(0,r.Z)(function*(e){var t;const n=ke(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Tt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tt(e,t,n,r)}}function Et(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Tt._fromErrorAndOperation(e,n,t,r);throw n})}function St(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function kt(){return(kt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield xt(!0,n,t);const{providerUserInfo:r}=yield B(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=St(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Ct(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n=!1){const r=yield Y(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function xt(e,t,n){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(St(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Rt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Y(e,Et(r,i,t,e),n);w(s.idToken,r,"internal-error");const o=Q(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Dt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Et(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(ke(e),t)})).apply(this,arguments)}function Ft(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield xt(!1,n,t.providerId),Ct(n,t)})).apply(this,arguments)}function jt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return Rt((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return $t.apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithCustomToken",O(e,t))})).apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){const n=ke(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Zt._fromServerResponse(e,t):p(e,"internal-error")}}class Zt extends zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Zt(t)}}function Ht(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ht(r,i,n),yield $e(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Re((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){yield Le((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Re(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=zt._fromServerResponse(ke(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const{data:n}=yield Qt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&Ht(r,i,n),yield ze(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ut.credentialWithLink(t,n||E());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",O(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:S()?E():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Ht(n.auth,r,t);const{email:i}=yield Ve(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Ht(r.auth,i,n);const{email:o}=yield He(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function un(e,t){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Y(r,un(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Y(e,De(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class pn extends fn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class gn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class mn extends pn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends fn{constructor(e,t){super(e,"google.com",t)}}class vn extends pn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class _n{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ke(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>zt._fromServerResponse(n,e));w(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new _n(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,s);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function In(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",O(e,t))}class Tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Tn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Y(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Y(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},D(s,"POST","/v2/accounts/mfaEnrollment:withdraw",O(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const En=new WeakMap,Sn="__sak";class kn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cn=(()=>{class e extends kn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return me(e)||Ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),An=(()=>{class e extends kn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let xn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Nn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Rn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Nn("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function On(){return window}function Dn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Pn(){return(Pn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Ln="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Fn="fbase_key";class Un{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jn(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function Vn(){const e=indexedDB.open(Ln,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Fn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Ln);return new Un(e).toPromise()}(),t(yield Vn()))}))})}function qn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=(0,r.Z)(function*(e,t,n){const r=jn(e,!0).put({[Fn]:t,value:n});return new Un(r).toPromise()})).apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t){const n=jn(e,!1).get(t),r=yield new Un(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zn(e,t){const n=jn(e,!0).delete(t);return new Un(n).toPromise()}const Zn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Vn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Dn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=xn._getInstance(Dn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Rn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Vn();return yield qn(e,Sn,"1"),yield zn(e,Sn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>qn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Bn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=jn(e,!1).getAll();return new Un(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Hn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",O(e,t))}function Gn(){return(Gn=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Wn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Yn{constructor(e){this.auth=e,this.counter=Qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Jn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Qn))||void 0===n||n.execute(),""})()}}class Jn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Wn("rcb"),er=new C(3e4,6e4);class tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return w(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise((n,r)=>{const i=On().setTimeout(()=>{r(g(e,"network-request-failed"))},er.get());On()[Xn]=()=>{On().clearTimeout(i),delete On()[Xn];const s=On().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Kn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(e){return(0,r.Z)(function*(){return new Yn(e)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},ir),n){this.parameters=t,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(S()&&!Dn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Gn.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield lr(r,t,(0,s.m9)(n));return new or(i,e=>Lt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield xt(!1,r,"phone");const i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>Ft(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>jt(r,e))})).apply(this,arguments)}function lr(e,t,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w(n.type===rr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield In(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield Hn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t){yield Ct((0,s.m9)(e),t)})).apply(this,arguments)}let fr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ke(t)}verifyPhoneNumber(e,t){return lr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function pr(e,t){return t?T(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class gr extends Ne{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ye(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ye(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ye(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mr(e){return Dt(e.auth,new gr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Rt(n,new gr(e),e.bypassAuthState)}function vr(e){return wr.apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Ct(n,new gr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _r=new C(2e3,1e4);function Ir(){return(Ir=(0,r.Z)(function*(e,t,n){const r=ke(e);y(e,t,ct);const i=pr(r,n);return new Sr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);return new Sr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);return new Sr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Sr=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){_(1===e.filter.length,"Popup operations only handle one event");const t=Nn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,_r.get())};e()}}return e.currentPopupAction=null,e})();const kr=new Map;class Cr extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=kr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Ar.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}kr.set(t.auth._key(),n)}return t.bypassAuthState||kr.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,r.Z)(function*(e,t){const n=Or(t),r=Rr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function xr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(e,t){return Rr(e)._set(Or(t),"true")})).apply(this,arguments)}function Rr(e){return T(e._redirectPersistence)}function Or(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=ke(e);y(e,t,ct);const i=pr(r,n);return yield xr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);yield xr(i,r.auth);const o=yield jr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);yield xt(!1,r,t.providerId),yield xr(i,r.auth);const o=yield jr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield ke(e)._initializationPromise,Fr(e,t,!1)})).apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,r.Z)(function*(e,t,n=!1){const r=ke(e),i=pr(r,t),s=new Cr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function jr(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e){const t=Nn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Br(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($r(e))}saveEventToCache(e){this.cachedEventUids.add($r(e)),this.lastProcessedEventTime=Date.now()}}function $r(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Br({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function zr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gr=/^https?/;function Kr(){return(Kr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield zr(e);for(const r of t)try{if(Wr(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function Wr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gr.test(n))return!1;if(Hr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qr=new C(3e4,6e4);function Yr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Jr=null;function Xr(e){return Jr=Jr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Yr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yr(),n(g(e,"network-request-failed"))},timeout:Qr.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=On().gapi)||void 0===s?void 0:s.load)){const t=Wn("iframefcb");return On()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Jr=null,e})}(e),Jr}const ei=new C(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ni.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(e){const t=yield Xr(e),n=On().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=On().setTimeout(()=>{r(i)},ei.get());function o(){On().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ai(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ct){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof lt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ui="webStorageSupport";class ci extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ci(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",O(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",O(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let li=(()=>{class e{constructor(){}static assertion(e){return ci._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var hi,di="@firebase/auth",fi="0.19.3";class pi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gi(){return window}function mi(){return(mi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=gi();_(t.sessionId,"AuthEvent did not contain a session ID");const s=yield wi(t.sessionId),o={};return Ie()?o.ibi=i.packageName:we()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const{BuildInfo:t}=gi(),n={};Ie()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield zr(e,n)})).apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e,t,n){const{cordova:r}=gi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),we()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function wi(e){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e){const t=_i(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _i(e){if(_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee(hi)},s=new Se(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=ke(e.getProvider("auth").getImmediate()),new pi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,fi,void 0),(0,o.registerVersion)(di,fi,"esm2017");class Ii extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ti(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(e){const t=yield ki()._get(Ci(e));return t&&(yield ki()._remove(Ci(e))),t})).apply(this,arguments)}function Si(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function ki(){return T(Cn)}function Ci(e){return de("authEvent",e.config.apiKey,e.name)}function Ai(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function xi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ni(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ri(e=(0,s.z$)()){return!("file:"!==Ni()&&"ionic:"!==Ni()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oi(){try{const e=self.localStorage,t=Nn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Di()&&(0,s.hl)()}return!1}function Di(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pi(){return("http:"===Ni()||"https:"===Ni()||(0,s.ru)()||Ri())&&!((0,s.b$)()||(0,s.UG)())&&Oi()&&!Di()}function Li(){return Ri()&&"undefined"!=typeof document}function Mi(){return(Mi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},Ui=w,ji="persistence";function Vi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=$i(),n=de(ji,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function $i(){return"undefined"!=typeof window?window:null}const Bi=w;class zi{constructor(){this.browserResolver=T(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=Fr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;_(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(e,t,n,E(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ye(l)?"_blank":n),ge(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new oi(null);const d=window.open(t||"",u,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new oi(d)}(e,a,Nn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ai(e,t,n,E(),i),On().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ii.apply(this,arguments)}(e),r=new qr(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ui,{type:ui},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Kr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||me()||Ie()}}),this.cordovaResolver=T(class{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Ii(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=gi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),kr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Si(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return ki()._set(Ci(e),t)}(e,a);const u=yield function(e,t,n){return mi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=gi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return vi.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=gi(),o=setTimeout((0,r.Z)(function*(){yield Ti(e),t.onEvent(xi())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ti(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ai(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ai(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ai(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ai(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||xi())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;gi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=Fr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Mi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Zi(e){return e.unwrap()}function Hi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return fr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ft;break;case"facebook.com":r=dt;break;case"github.com":r=pt;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Gi(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Qi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.customData.operationType,r,"argument-error"),w(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_n._fromError(r,i)}(e,t));else if(r){const e=Hi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Hi(n)),additionalUserInfo:wn(e),user:Yi.getOrCreate(t)};var n})}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Gi(e,n.confirm(t))}})).apply(this,arguments)}class Qi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gi(Zi(this.auth),this.resolver.resolveSignIn(e))}}let Yi=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return En.has(t)||En.set(t,Tn._fromUser(t)),En.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,Ft(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return ur.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,function(e,t,n){return Er.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,jt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Gi(this.auth,function(e,t,n){return Tr.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Pr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return kt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return dr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return ln.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Ji=w;let Xi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ji(n,"invalid-api-key",{appName:e.name});let r=[he];if("undefined"!=typeof window){r=function(e,t){const n=$i();if(!(null==n?void 0:n.sessionStorage))return[];const r=de(ji,e,t);switch(n.sessionStorage.getItem(r)){case Fi.NONE:return[he];case Fi.LOCAL:return[Zn,An];case Fi.SESSION:return[An];default:return[]}}(n,e.name);for(const e of[Zn,Cn,An])r.includes(e)||r.push(e)}Ji(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ke(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Wt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Gi(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Ji(Pi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,zi);return t?Gi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){ke(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Ui(Object.values(Fi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Ui(t!==Fi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Ui(t===Fi.NONE,e,"unsupported-persistence-type"):Di()?Ui(t===Fi.NONE||t===Fi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Ui(t===Fi.NONE||Oi(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Fi.SESSION:n=An;break;case Fi.LOCAL:n=(yield T(Zn)._isAvailable())?Zn:Cn;break;case Fi.NONE:n=he;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gi(this._delegate,function(e){return It.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Gi(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return Gi(this._delegate,function(e,t){return Bt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Gi(this._delegate,function(e,t,n){return Lt((0,s.m9)(e),ut.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Gi(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return ar.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ji(Pi(),t._delegate,"operation-not-supported-in-this-environment"),Gi(t._delegate,function(e,t,n){return Ir.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Ji(Pi(),t._delegate,"operation-not-supported-in-this-environment"),yield Vi(t._delegate),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Jt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Fi,e})();function es(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Yi.getOrCreate(e)),error:t,complete:n}}let ts=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new fr(Zi(i.Z.auth()))}static credential(e,t){return fr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=fr.PROVIDER_ID,e})();const ns=w;var rs;(rs=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ut,FacebookAuthProvider:dt,GithubAuthProvider:pt,GoogleAuthProvider:ft,OAuthProvider:ht,SAMLAuthProvider:mt,PhoneAuthProvider:ts,PhoneMultiFactorGenerator:li,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;ns(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:Xi,AuthCredential:Ne,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rs.registerVersion("@firebase/auth-compat","0.2.3")},2087:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},8318:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5959:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},653:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},1906:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(e,t,n)=>{"use strict";n.d(t,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),s=n(878),o=n(8318);let a=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function u(e,t=0){return function(n){return n.lift(new c(e,t))}}class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2893:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(e){return e in o&&(delete o[e],!0)}const u={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(8277);class l extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const f=new d(l);var p=n(2293);class g extends r.y{constructor(e,t=0,n=f){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,p.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(e,t=0,n=f){return new g(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function m(e,t=0){return function(n){return n.lift(new y(e,t))}}class y{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)}}},6599:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6673);function i(){}var s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8569:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:(e,t,n)=>{"use strict";n.d(t,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2293:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},6425:(e,t,n)=>{"use strict";var r=n(7368);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new w((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let w=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:I,token:e,providedIn:"root"}),e})();function I(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function T(e){return e.replace(/\/index.html$/,"")}var E=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});const S=r.kL8;class k{}let C=(()=>{class e extends k{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(S(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:k,useClass:C}]}),e})();function x(e){return"server"===e}let N=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new R((0,r.LFG)(o),window)}),e})();class R{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=O(this.window.history)||O(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(Zy){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Zy){return!1}}}function O(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class D extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new D,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(L=L||document.querySelector("base"),L?L.getAttribute("href"):null);return null==t?null:function(e){P=P||document.createElement("a"),P.setAttribute("href",e);const t=P.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let P,L=null;const M=new r.OlP("TRANSITION_ID"),F=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[M,o,r.zs3],multi:!0}];class U{static init(){(0,r.VLi)(new U)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let j=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const V=new r.OlP("EventManagerPlugins");let q=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(V),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ${constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let B=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),z=(()=>{class e extends B{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Z),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Z))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Z(e){s().remove(e)}const H={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=/%COMP%/g;function K(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?K(e,i,n):(i=i.replace(G,e),n.push(i))}return n}function W(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Q=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Y(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new X(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=K(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(q),r.LFG(z),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Y{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(H[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=H[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=H[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,W(n)):this.eventManager.addEventListener(e,t,W(n))}}class J extends Y{constructor(e,t,n,r){super(e),this.component=n;const i=K(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(G,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(G,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class X extends Y{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=K(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ee=(()=>{class e extends ${constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const te=["alt","control","meta","shift"],ne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},re={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ie={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let se=(()=>{class e extends ${constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(te.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&re.hasOwnProperty(t)&&(t=re[t]))}return ne[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),te.forEach(r=>{r!=n&&(0,ie[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const oe=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){D.makeCurrent(),U.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),ae=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:V,useClass:ee,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:V,useClass:se,multi:!0,deps:[o]},[],{provide:Q,useClass:Q,deps:[q,z,r.AFp]},{provide:r.FYo,useExisting:Q},{provide:B,useExisting:z},{provide:z,useClass:z,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:q,useClass:q,deps:[V,r.R0b]},{provide:class{},useClass:j,deps:[]},[]];let ue=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:M,useExisting:r.AFp},F]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:ae,imports:[A,r.hGG]}),e})();"undefined"!=typeof window&&window;var ce=n(9764),le=n(878),he=n(5959),de=n(3895);class fe extends he.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new de.N;return this._value}next(e){super.next(this._value=e)}}var pe=n(6163),ge=n(8470),me=n(6673);class ye extends me.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ve extends me.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var we=n(6015),be=n(8318);function _e(e,t,n,r,i=new ve(e,n,r)){if(!i.closed)return t instanceof be.y?t.subscribe(i):(0,we.s)(t)(i)}var Ie=n(9342);const Te={};class Ee{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Se(e,this.resultSelector))}}class Se extends ye{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Te),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(_e(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Te?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const ke=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Ce=n(7471);function Ae(...e){return(0,Ce.J)(1)((0,le.of)(...e))}var xe=n(653);function Ne(e){return new be.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,ce.D)(n):(0,xe.c)()).subscribe(t)})}var Re=n(2875),Oe=n(9996),De=n(6882);function Pe(e,t){return"function"==typeof t?n=>n.pipe(Pe((n,r)=>(0,ce.D)(e(n,r)).pipe((0,Oe.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Le(e))}class Le{constructor(e){this.project=e}call(e,t){return t.subscribe(new Me(e,this.project))}}class Me extends De.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new De.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,De.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Fe=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Ue(e){return t=>0===e?(0,xe.c)():t.lift(new je(e))}class je{constructor(e){if(this.total=e,this.total<0)throw new Fe}call(e,t){return t.subscribe(new Ve(e,this.total))}}class Ve extends me.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function qe(...e){const t=e[e.length-1];return(0,pe.K)(t)?(e.pop(),n=>Ae(e,n,t)):t=>Ae(e,t)}function $e(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Be(e,t,n))}}class Be{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new ze(e,this.accumulator,this.seed,this.hasSeed))}}class ze extends me.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ze(e,t){return function(n){return n.lift(new He(e,t))}}class He{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ge(e,this.predicate,this.thisArg))}}class Ge extends me.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ke(e){return function(t){const n=new We(e),r=t.lift(n);return n.caught=r}}class We{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Qe(e,this.selector,this.caught))}}class Qe extends De.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new De.IY(this);this.add(r);const i=(0,De.ft)(n,r);i!==r&&this.add(i)}}}var Ye=n(3982);function Je(e,t){return(0,Ye.zg)(e,t,1)}function Xe(e){return function(t){return 0===e?(0,xe.c)():t.lift(new et(e))}}class et{constructor(e){if(this.total=e,this.total<0)throw new Fe}call(e,t){return t.subscribe(new tt(e,this.total))}}class tt extends me.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function nt(e=st){return t=>t.lift(new rt(e))}class rt{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new it(e,this.errorFactory))}}class it extends me.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function st(){return new ke}function ot(e=null){return t=>t.lift(new at(e))}class at{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ut(e,this.defaultValue))}}class ut extends me.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ct=n(3392);function lt(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ze((t,n)=>e(t,n,r)):ct.y,Ue(1),n?ot(t):nt(()=>new ke))}var ht=n(6599),dt=n(1564),ft=n(7570);class pt{constructor(e){this.callback=e}call(e,t){return t.subscribe(new gt(e,this.callback))}}class gt extends me.L{constructor(e,t){super(e),this.add(new ft.w(t))}}class mt{constructor(e,t){this.id=e,this.url=t}}class yt extends mt{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vt extends mt{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wt extends mt{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bt extends mt{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _t extends mt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It extends mt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt extends mt{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Et extends mt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends mt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ct{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class At{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nt{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Pt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lt(e){return new Pt(e)}function Mt(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Ft(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ut(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jt(e[i],t[i]))return!1;return!0}function jt(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Vt(e){return Array.prototype.concat.apply([],e)}function qt(e){return e.length>0?e[e.length-1]:null}function $t(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Bt(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,ce.D)(Promise.resolve(e)):(0,le.of)(e)}const zt={exact:function e(t,n,r){if(!Xt(t.segments,n.segments))return!1;if(!Wt(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Gt},Zt={exact:function(e,t){return Ut(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>jt(e[n],t[n]))},ignored:()=>!0};function Ht(e,t,n){return zt[n.paths](e.root,t.root,n.matrixParams)&&Zt[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Gt(e,t,n){return Kt(e,t,t.segments,n)}function Kt(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Xt(i,n)&&!t.hasChildren()&&!!Wt(i,n,r)}if(e.segments.length===n.length){if(!Xt(e.segments,n))return!1;if(!Wt(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Gt(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Xt(e.segments,i)&&!!Wt(e.segments,i,r)&&!!e.children.primary&&Kt(e.children.primary,t,s,r)}}function Wt(e,t,n){return t.every((t,r)=>Zt[n](e[r].parameters,t.parameters))}class Qt{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return nn.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$t(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class Jt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lt(this.parameters)),this._parameterMap}toString(){return hn(this)}}function Xt(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class en{}class tn{parse(e){const t=new mn(e);return new Qt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${sn(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${an(t)}=${an(e)}`).join("&"):`${an(t)}=${an(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const nn=new tn;function rn(e){return e.segments.map(e=>hn(e)).join("/")}function sn(e,t){if(!e.hasChildren())return rn(e);if(t){const t=e.children.primary?sn(e.children.primary,!1):"",n=[];return $t(e.children,(e,t)=>{t!==Dt&&n.push(`${t}:${sn(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return $t(e.children,(e,r)=>{r===Dt&&(n=n.concat(t(e,r)))}),$t(e.children,(e,r)=>{r!==Dt&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Dt?[sn(e.children.primary,!1)]:[`${n}:${sn(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${rn(e)}/${t[0]}`:`${rn(e)}/(${t.join("//")})`}}function on(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(e){return on(e).replace(/%3B/gi,";")}function un(e){return on(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cn(e){return decodeURIComponent(e)}function ln(e){return cn(e.replace(/\+/g,"%20"))}function hn(e){return`${un(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${un(e)}=${un(t[e])}`).join("")}`;var t}const dn=/^[^\/()?;=#]+/;function fn(e){const t=e.match(dn);return t?t[0]:""}const pn=/^[^=?&#]+/,gn=/^[^?&#]+/;class mn{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Yt(e,t)),n}parseSegment(){const e=fn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Jt(cn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fn(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=fn(this.remaining);e&&(n=e,this.capture(n))}e[cn(t)]=cn(n)}parseQueryParam(e){const t=function(e){const t=e.match(pn);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(gn);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=ln(t),i=ln(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Dt);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Yt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class yn{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vn(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=vn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return wn(e,this._root).map(e=>e.value)}}function vn(e,t){if(e===t.value)return t;for(const n of t.children){const t=vn(e,n);if(t)return t}return null}function wn(e,t){if(e===t.value)return[t];for(const n of t.children){const r=wn(e,n);if(r.length)return r.unshift(t),r}return[]}class bn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _n(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class In extends yn{constructor(e,t){super(e),this.snapshot=t,An(this,e)}toString(){return this.snapshot.toString()}}function Tn(e,t){const n=function(e,t){const n=new kn([],{},{},"",{},Dt,t,null,e.root,-1,{});return new Cn("",new bn(n,[]))}(e,t),r=new fe([new Jt("",{})]),i=new fe({}),s=new fe({}),o=new fe({}),a=new fe(""),u=new En(r,i,o,a,s,Dt,t,n.root);return u.snapshot=n.root,new In(new bn(u,[]),n)}class En{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(e=>Lt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(e=>Lt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sn(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kn{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends yn{constructor(e,t){super(t),this.url=e,An(this,t)}toString(){return xn(this._root)}}function An(e,t){t.value._routerState=e,t.children.forEach(t=>An(e,t))}function xn(e){const t=e.children.length>0?` { ${e.children.map(xn).join(", ")} } `:"";return`${e.value}${t}`}function Nn(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ut(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ut(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ut(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ut(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Rn(e,t){return Ut(e.params,t.params)&&function(e,t){return Xt(e,t)&&e.every((e,n)=>Ut(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Rn(e.parent,t.parent))}function On(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return On(e,t,r);return On(e,t)})}(e,t,n);return new bn(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Dn(t,e),e}}const n=new En(new fe((r=t.value).url),new fe(r.params),new fe(r.queryParams),new fe(r.fragment),new fe(r.data),r.outlet,r.component,r),i=t.children.map(t=>On(e,t));return new bn(n,i)}var r}function Dn(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Dn(e.children[n],t.children[n])}function Pn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ln(e){return"object"==typeof e&&null!=e&&e.outlets}function Mn(e,t,n,r,i){let s={};return r&&$t(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Qt(n.root===e?t:Fn(n.root,e,t),s,i)}function Fn(e,t,n){const r={};return $t(e.children,(e,i)=>{r[i]=e===t?n:Fn(e,t,n)}),new Yt(e.segments,r)}class Un{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Pn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ln);if(r&&r!==qt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jn{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Vn(e,t,n){if(e||(e=new Yt([],{})),0===e.segments.length&&e.hasChildren())return qn(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Ln(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Zn(a,u,t))return s;r+=2}else{if(!Zn(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Yt(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Yt(e.segments.slice(r.pathIndex),e.children),qn(t,0,i)}return r.match&&0===i.length?new Yt(e.segments,{}):r.match&&!e.hasChildren()?$n(e,t,n):r.match?qn(e,0,i):$n(e,t,n)}function qn(e,t,n){if(0===n.length)return new Yt(e.segments,{});{const r=function(e){return Ln(e[0])?e[0].outlets:{[Dt]:e}}(n),i={};return $t(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Vn(e.children[r],t,n))}),$t(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Yt(e.segments,i)}}function $n(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Ln(s)){const e=Bn(s.outlets);return new Yt(r,e)}if(0===i&&Pn(n[0])){r.push(new Jt(e.segments[t].path,zn(n[0]))),i++;continue}const o=Ln(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pn(a)?(r.push(new Jt(o,zn(a))),i+=2):(r.push(new Jt(o,{})),i++)}return new Yt(r,{})}function Bn(e){const t={};return $t(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=$n(new Yt([],{}),0,e))}),t}function zn(e){const t={};return $t(e,(e,n)=>t[n]=`${e}`),t}function Zn(e,t,n){return e==n.path&&Ut(t,n.parameters)}class Hn{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Nn(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=_n(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),$t(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=_n(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=_n(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Rt(e.value.snapshot))}),e.children.length&&this.forwardEvent(new xt(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Nn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Gn(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Gn(e){Nn(e.value),e.children.forEach(Gn)}class Kn{constructor(e,t){this.routes=e,this.module=t}}function Wn(e){return"function"==typeof e}function Qn(e){return e instanceof Qt}const Yn=Symbol("INITIAL_VALUE");function Jn(){return Pe(e=>function(...e){let t,n;return(0,pe.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,ge.k)(e[0])&&(e=e[0]),(0,Ie.n)(e,n).lift(new Ee(t))}(e.map(e=>e.pipe(Ue(1),qe(Yn)))).pipe($e((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Yn)return e;if(r===Yn&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Qn(r))return r}return e},e)},Yn),Ze(e=>e!==Yn),(0,Oe.U)(e=>Qn(e)?e:!0===e),Ue(1)))}let Xn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Wr]},encapsulation:2}),e})();function er(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];tr(r,nr(t,r))}}function tr(e,t){e.children&&er(e.children,t)}function nr(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function rr(e){const t=e.children&&e.children.map(rr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Dt&&(n.component=Xn),n}function ir(e){return e.outlet||Dt}function sr(e,t){const n=e.filter(e=>ir(e)===t);return n.push(...e.filter(e=>ir(e)!==t)),n}const or={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ar(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},or):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Ft)(n,e,t);if(!i)return Object.assign({},or);const s={};$t(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ur(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>cr(e,t,n)&&ir(n)!==Dt)}(e,n,r)){const i=new Yt(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&ir(s)!==Dt){const n=new Yt([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[ir(s)]=n}return i}(e,t,r,new Yt(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>cr(e,t,n))}(e,n,r)){const s=new Yt(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(cr(e,n,a)&&!i[ir(a)]){const n=new Yt([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[ir(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Yt(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function cr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function lr(e,t,n,r){return!!(ir(e)===r||r!==Dt&&cr(t,n,e))&&("**"===e.path||ar(t,e,n).matched)}function hr(e,t,n){return 0===t.length&&!e.children[n]}class dr{constructor(e){this.segmentGroup=e||null}}class fr{constructor(e){this.urlTree=e}}function pr(e){return new be.y(t=>t.error(new dr(e)))}function gr(e){return new be.y(t=>t.error(new fr(e)))}function mr(e){return new be.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class yr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=ur(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe((0,Oe.U)(e=>this.createUrlTree(vr(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ke(e=>{if(e instanceof fr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof dr)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe((0,Oe.U)(t=>this.createUrlTree(vr(t),e.queryParams,e.fragment))).pipe(Ke(e=>{if(e instanceof dr)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Yt([],{[Dt]:e}):e;return new Qt(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Oe.U)(e=>new Yt([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ce.D)(r).pipe(Je(r=>{const i=n.children[r],s=sr(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,Oe.U)(e=>({segment:e,outlet:r})))}),$e((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ze((t,n)=>e(t,n,r)):ct.y,Xe(1),n?ot(t):nt(()=>new ke))}())}expandSegment(e,t,n,r,i,s){return(0,ce.D)(n).pipe(Je(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Ke(e=>{if(e instanceof dr)return(0,le.of)(null);throw e}))),lt(e=>!!e),Ke((e,n)=>{if(e instanceof ke||"EmptyError"===e.name){if(hr(t,r,i))return(0,le.of)(new Yt([],{}));throw new dr(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return lr(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):pr(t):pr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gr(i):this.lineralizeSegments(n,i).pipe((0,Ye.zg)(n=>{const i=new Yt(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ar(t,r,i);if(!o)return pr(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?gr(l):this.lineralizeSegments(r,l).pipe((0,Ye.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,le.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Oe.U)(e=>(n._loadedConfig=e,new Yt(r,{})))):(0,le.of)(new Yt(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=ar(t,n,r);if(!s)return pr(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,Ye.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=ur(t,o,u,s),l=new Yt(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Oe.U)(e=>new Yt(o,e)));if(0===s.length&&0===c.length)return(0,le.of)(new Yt(o,{}));const h=ir(n)===i;return this.expandSegment(r,l,s,c,h?Dt:i,!0).pipe((0,Oe.U)(e=>new Yt(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,le.of)(new Kn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,le.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,Ye.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,Oe.U)(e=>(t._loadedConfig=e,e))):function(e){return new be.y(t=>t.error(Mt(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,le.of)(new Kn([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,le.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Wn(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Wn(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Bt(s)});return(0,le.of)(i).pipe(Jn(),(0,ht.b)(e=>{if(!Qn(e))return;const t=Mt(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Oe.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,le.of)(n);if(r.numberOfChildren>1||!r.children.primary)return mr(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Qt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return $t(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return $t(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Yt(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function vr(e){const t={};for(const n of Object.keys(e.children)){const r=vr(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Yt(e.segments.concat(t.segments),t.children)}return e}(new Yt(e.segments,t))}class wr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class br{constructor(e,t){this.component=e,this.route=t}}function _r(e,t,n){const r=e._root;return Tr(r,t?t._root:null,n,[r.value])}function Ir(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Tr(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_n(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xt(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xt(e.url,t.url)||!Ut(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(e,t)||!Ut(e.queryParams,t.queryParams);case"paramsChange":default:return!Rn(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Tr(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new br(a.outlet.component,o))}else o&&Er(t,a,i),i.canActivateChecks.push(new wr(r)),Tr(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),$t(s,(e,t)=>Er(e,n.getContext(t),i)),i}function Er(e,t,n){const r=_n(e),i=e.value;$t(r,(e,r)=>{Er(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new br(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Sr{}function kr(e){return new be.y(t=>t.error(e))}class Cr{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=ur(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const n=new kn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bn(n,t),i=new Cn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Sn(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=sr(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=xr(n);return r.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return hr(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!lr(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?qt(n).parameters:{};i=new kn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(e),ir(e),e.component,e,Nr(t),Rr(t)+n.length,Dr(e))}else{const r=ar(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new kn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(e),ir(e),e.component,e,Nr(t),Rr(t)+s.length,Dr(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=ur(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new bn(i,e)]}if(0===a.length&&0===c.length)return[new bn(i,[])];const l=ir(e)===r,h=this.processSegment(a,u,c,l?Dt:r);return null===h?null:[new bn(i,h)]}}function Ar(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function xr(e){const t=[],n=new Set;for(const r of e){if(!Ar(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=xr(r.children);t.push(new bn(r.value,e))}return t.filter(e=>!n.has(e))}function Nr(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Rr(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Or(e){return e.data||{}}function Dr(e){return e.resolve||{}}function Pr(e){return Pe(t=>{const n=e(t);return n?(0,ce.D)(n).pipe((0,Oe.U)(()=>t)):(0,le.of)(t)})}class Lr extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mr=new r.OlP("ROUTES");class Fr{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Oe.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Kn(Vt(i.injector.get(Mr,void 0,r.XFs.Self|r.XFs.Optional)).map(rr),i)}),Ke(e=>{throw t._loader$=void 0,e}));return t._loader$=new Re.c(n,()=>new he.xQ).pipe((0,dt.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,ce.D)(this.loader.load(e)):Bt(e()).pipe((0,Ye.zg)(e=>e instanceof r.YKP?(0,le.of)(e):(0,ce.D)(this.compiler.compileModuleAsync(e))))}}class Ur{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jr,this.attachRef=null}}class jr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ur,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Vr{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qr(e){throw e}function $r(e,t,n){return t.parse("/")}function Br(e,t){return(0,le.of)(null)}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class e{constructor(e,t,n,i,s,o,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new he.xQ,this.errorHandler=qr,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Br,afterPreactivation:Br},this.urlHandlingStrategy=new Vr,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Qt(new Yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fr(o,a,e=>this.triggerEvent(new kt(e)),e=>this.triggerEvent(new Ct(e))),this.routerState=Tn(this.currentUrlTree,this.rootComponentType),this.transitions=new fe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ze(e=>0!==e.id),(0,Oe.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Pe(e=>{let n=!1,r=!1;return(0,le.of)(e).pipe((0,ht.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pe(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,le.of)(e).pipe(Pe(e=>{const n=this.transitions.getValue();return t.next(new yt(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?xe.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Pe(e=>function(e,t,n,r,i){return new yr(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,Oe.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,ht.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,Ye.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new Cr(e,t,n,r,i,s).recognize();return null===o?kr(new Sr):(0,le.of)(o)}catch(o){return kr(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,Oe.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ht.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new _t(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new yt(n,this.serializeUrl(r),i,s);t.next(a);const u=Tn(r,this.rootComponentType).snapshot;return(0,le.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),xe.E}),Pr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,ht.b)(e=>{const t=new It(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Oe.U)(e=>Object.assign(Object.assign({},e),{guards:_r(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,Ye.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,le.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,ce.D)(e).pipe((0,Ye.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,le.of)(!0);const o=s.map(s=>{const o=Ir(s,t,i);let a;if(function(e){return e&&Wn(e.canDeactivate)}(o))a=Bt(o.canDeactivate(e,t,n,r));else{if(!Wn(o))throw new Error("Invalid CanDeactivate guard");a=Bt(o(e,t,n,r))}return a.pipe(lt())});return(0,le.of)(o).pipe(Jn())}(e.component,e.route,n,t,r)),lt(e=>!0!==e,!0))}(o,r,i,e).pipe((0,Ye.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,ce.D)(t).pipe(Je(t=>Ae(function(e,t){return null!==e&&t&&t(new At(e)),(0,le.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Nt(e)),(0,le.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ne(()=>{const i=t.guards.map(i=>{const s=Ir(i,t.node,n);let o;if(function(e){return e&&Wn(e.canActivateChild)}(s))o=Bt(s.canActivateChild(r,e));else{if(!Wn(s))throw new Error("Invalid CanActivateChild guard");o=Bt(s(r,e))}return o.pipe(lt())});return(0,le.of)(i).pipe(Jn())}));return(0,le.of)(i).pipe(Jn())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,le.of)(!0);const i=r.map(r=>Ne(()=>{const i=Ir(r,t,n);let s;if(function(e){return e&&Wn(e.canActivate)}(i))s=Bt(i.canActivate(t,e));else{if(!Wn(i))throw new Error("Invalid CanActivate guard");s=Bt(i(t,e))}return s.pipe(lt())}));return(0,le.of)(i).pipe(Jn())}(e,t.route,n))),lt(e=>!0!==e,!0))}(r,s,e,t):(0,le.of)(n)),(0,Oe.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,ht.b)(e=>{if(Qn(e.guardsResult)){const t=Mt(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Tt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ze(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),Pr(e=>{if(e.guards.canActivateChecks.length)return(0,le.of)(e).pipe((0,ht.b)(e=>{const t=new Et(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Pe(e=>{let t=!1;return(0,le.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Ye.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,le.of)(e);let s=0;return(0,ce.D)(i).pipe(Je(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,le.of)({});const s={};return(0,ce.D)(i).pipe((0,Ye.zg)(i=>function(e,t,n,r){const i=Ir(e,t,r);return Bt(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,ht.b)(e=>{s[i]=e}))),Xe(1),(0,Ye.zg)(()=>Object.keys(s).length===i.length?(0,le.of)(s):xe.E))}(e._resolve,e,t,r).pipe((0,Oe.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Sn(e,n).resolve),null)))}(e.route,t,n,r)),(0,ht.b)(()=>s++),Xe(1),(0,Ye.zg)(t=>s===i.length?(0,le.of)(e):xe.E))})),(0,ht.b)({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,ht.b)(e=>{const t=new St(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Pr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Oe.U)(e=>{const t=function(e,t,n){const r=On(e,t._root,n?n._root:void 0);return new In(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,ht.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,Oe.U)(e=>(new Hn(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,ht.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new pt(i))),Ke(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new wt(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new bt(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(ul){e.reject(ul)}}var i;return xe.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){er(e),this.config=e.map(rr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Mn(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Un(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return $t(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Un(n,t,r)}(n);if(s.toRoot())return Mn(t.root,new Yt([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new jn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new jn(e,e===t.root,0)}const r=Pn(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new jn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?qn(o.segmentGroup,o.index,s.commands):Vn(o.segmentGroup,o.index,s.commands);return Mn(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Qn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},zr):!1===t?Object.assign({},Zr):t,Qn(e))return Ht(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ht(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new vt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new wt(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(en),r.LFG(jr),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Gr=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new he.xQ,this.subscription=e.events.subscribe(e=>{e instanceof vt&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Kr(this.skipLocationChange),replaceUrl:Kr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kr(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Hr),r.Y36(En),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Kr(e){return""===e||!!e}let Wr=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(jr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Qr{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===En?this.route:e===jr?this.childContexts:this.parent.get(e,t)}}class Yr{}class Jr{preload(e,t){return(0,le.of)(null)}}let Xr=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Fr(t,n,t=>e.triggerEvent(new kt(t)),t=>e.triggerEvent(new Ct(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(e=>e instanceof vt),Je(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,ce.D)(n).pipe((0,Ce.J)(),(0,Oe.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,le.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,Ye.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Hr),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Yr))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ei=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ot&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ot(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Hr),r.LFG(N),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ti=new r.OlP("ROUTER_CONFIGURATION"),ni=new r.OlP("ROUTER_FORROOT_GUARD"),ri=[_,{provide:en,useClass:tn},{provide:Hr,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new Hr(null,e,t,n,r,i,s,Vt(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[en,jr,_,r.zs3,r.v3s,r.Sil,Mr,ti,[class{},new r.FiY],[class{},new r.FiY]]},jr,{provide:En,useFactory:function(e){return e.routerState.root},deps:[Hr]},{provide:r.v3s,useClass:r.EAV},Xr,Jr,class{preload(e,t){return t().pipe(Ke(()=>(0,le.of)(null)))}},{provide:ti,useValue:{enableTracing:!1}}];function ii(){return new r.PXZ("Router",Hr)}let si=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[ri,ci(t),{provide:ni,useFactory:ui,deps:[[Hr,new r.FiY,new r.tp0]]},{provide:ti,useValue:n||{}},{provide:m,useFactory:ai,deps:[a,[new r.tBr(v),new r.FiY],ti]},{provide:ei,useFactory:oi,deps:[Hr,N,ti]},{provide:Yr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Jr},{provide:r.PXZ,multi:!0,useFactory:ii},[li,{provide:r.ip1,multi:!0,useFactory:hi,deps:[li]},{provide:fi,useFactory:di,deps:[li]},{provide:r.tb,multi:!0,useExisting:fi}]]}}static forChild(t){return{ngModule:e,providers:[ci(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ni,8),r.LFG(Hr,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function oi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ei(e,t,n)}function ai(e,t,n={}){return n.useHash?new b(e,t):new w(e,t)}function ui(e){return"guarded"}function ci(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Mr,multi:!0,useValue:e}]}let li=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new he.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Hr),r=this.injector.get(ti);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,le.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(ti),n=this.injector.get(Xr),i=this.injector.get(ei),s=this.injector.get(Hr),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function hi(e){return e.appInitializer.bind(e)}function di(e){return e.bootstrapListener.bind(e)}const fi=new r.OlP("Router Initializer"),pi=[];let gi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[si.forRoot(pi)],si]}),e})(),mi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-header"]],decls:11,vars:0,consts:[[1,"navbar","is-dark"],[1,"navbar-brand"],[1,"navbar-item"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","Savings",1,"navbar-item"],["routerLink","History",1,"navbar-item"],["routerLink","Summary",1,"navbar-item"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r._UZ(2,"a",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"a",5),r._uU(6,"Savings Account"),r.qZA(),r.TgZ(7,"a",6),r._uU(8,"History"),r.qZA(),r.TgZ(9,"a",7),r._uU(10,"Summary"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[Gr],styles:[""]}),e})(),yi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"container"],[1,"content","has-text-centered"]],template:function(e,t){1&e&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"p"),r._uU(4," Made by Nick Rentschler "),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),e})(),vi=(()=>{class e{constructor(){this.title="ShirtTracker"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(e,t){1&e&&(r._UZ(0,"app-header"),r._UZ(1,"router-outlet"),r._UZ(2,"app-footer"))},directives:[mi,Wr,yi],styles:[""]}),e})();var wi=n(9748),bi=n(8569),_i=n(8934);function Ii(){return e=>e.lift(new Ti)}class Ti{call(e,t){return t.subscribe(new Ei(e))}}class Ei extends me.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Si{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ki(e,this.compare,this.keySelector))}}class ki extends me.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}n(14);var Ci,Ai=n(6986),xi=n(6304),Ni=n(7964),Ri=n(1947),Oi=n(8678),Di=n(5725),Pi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Li={},Mi=Mi||{},Fi=Pi||self;function Ui(){}function ji(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qi="closure_uid_"+(1e9*Math.random()>>>0),$i=0;function Bi(e,t,n){return e.call.apply(e.bind,arguments)}function zi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zi(e,t,n){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bi:zi).apply(null,arguments)}function Hi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ki(){this.s=this.s,this.o=this.o}var Wi={};Ki.prototype.s=!1,Ki.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,qi)&&e[qi]||(e[qi]=++$i)}(this);delete Wi[e]}},Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Yi=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Ji(e){return Array.prototype.concat.apply([],arguments)}function Xi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function es(e){return/^[\s\xa0]*$/.test(e)}var ts,ns=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function rs(e,t){return-1!=e.indexOf(t)}function is(e,t){return e<t?-1:e>t?1:0}e:{var ss=Fi.navigator;if(ss){var os=ss.userAgent;if(os){ts=os;break e}}ts=""}function as(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function us(e){const t={};for(const n in e)t[n]=e[n];return t}var cs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ls(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<cs.length;t++)n=cs[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hs(e){return hs[" "](e),e}hs[" "]=Ui;var ds,fs,ps=rs(ts,"Opera"),gs=rs(ts,"Trident")||rs(ts,"MSIE"),ms=rs(ts,"Edge"),ys=ms||gs,vs=rs(ts,"Gecko")&&!(rs(ts.toLowerCase(),"webkit")&&!rs(ts,"Edge"))&&!(rs(ts,"Trident")||rs(ts,"MSIE"))&&!rs(ts,"Edge"),ws=rs(ts.toLowerCase(),"webkit")&&!rs(ts,"Edge");function bs(){var e=Fi.document;return e?e.documentMode:void 0}e:{var _s="",Is=(fs=ts,vs?/rv:([^\);]+)(\)|;)/.exec(fs):ms?/Edge\/([\d\.]+)/.exec(fs):gs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fs):ws?/WebKit\/(\S+)/.exec(fs):ps?/(?:Version)[ \/]?(\S+)/.exec(fs):void 0);if(Is&&(_s=Is?Is[1]:""),gs){var Ts=bs();if(null!=Ts&&Ts>parseFloat(_s)){ds=String(Ts);break e}}ds=_s}var Es={};var Ss=Fi.document&&gs&&(bs()||parseInt(ds,10))||void 0,ks=function(){if(!Fi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fi.addEventListener("test",Ui,t),Fi.removeEventListener("test",Ui,t)}catch(n){}return e}();function Cs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function As(e,t){if(Cs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vs){e:{try{hs(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:xs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&As.Z.h.call(this)}}Cs.prototype.h=function(){this.defaultPrevented=!0},Gi(As,Cs);var xs={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ns="closure_listenable_"+(1e6*Math.random()|0),Rs=0;function Os(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Rs,this.ca=this.fa=!1}function Ds(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ps(e){this.src=e,this.g={},this.h=0}function Ls(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Qi(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ds(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ms(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ps.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ms(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Os(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Fs="closure_lm_"+(1e6*Math.random()|0),Us={};function js(e,t,n,r,i){if(r&&r.once)return qs(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)js(e,t[s],n,r,i);return null}return n=Ks(n),e&&e[Ns]?e.N(t,n,Vi(r)?!!r.capture:!!r,i):Vs(e,t,n,!1,r,i)}function Vs(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Vi(i)?!!i.capture:!!i,a=Hs(e);if(a||(e[Fs]=a=new Ps(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Zs;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ks||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qs(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)qs(e,t[s],n,r,i);return null}return n=Ks(n),e&&e[Ns]?e.O(t,n,Vi(r)?!!r.capture:!!r,i):Vs(e,t,n,!0,r,i)}function $s(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$s(e,t[s],n,r,i);else r=Vi(r)?!!r.capture:!!r,n=Ks(n),e&&e[Ns]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ms(s=e.g[t],n,r,i))&&(Ds(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Hs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ms(t,n,r,i)),(n=-1<e?t[e]:null)&&Bs(n))}function Bs(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ns])Ls(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hs(t))?(Ls(n,e),0==n.h&&(n.src=null,t[Fs]=null)):Ds(e)}}}function zs(e){return e in Us?Us[e]:Us[e]="on"+e}function Zs(e,t){if(e.ca)e=!0;else{t=new As(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bs(e),e=n.call(r,t)}return e}function Hs(e){return(e=e[Fs])instanceof Ps?e:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(e){return"function"==typeof e?e:(e[Gs]||(e[Gs]=function(t){return e.handleEvent(t)}),e[Gs])}function Ws(){Ki.call(this),this.i=new Ps(this),this.P=this,this.I=null}function Qs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Cs(t,e);else if(t instanceof Cs)t.target=t.target||e;else{var i=t;ls(t=new Cs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ys(o,r,!0,t)&&i}if(i=Ys(o=t.g=e,r,!0,t)&&i,i=Ys(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ys(o=t.g=n[s],r,!1,t)&&i}function Ys(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Ls(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Gi(Ws,Ki),Ws.prototype[Ns]=!0,Ws.prototype.removeEventListener=function(e,t,n,r){$s(this,e,t,n,r)},Ws.prototype.M=function(){if(Ws.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ds(n[r]);delete t.g[e],t.h--}}this.I=null},Ws.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ws.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Js=Fi.JSON.stringify;function Xs(){var e=oo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eo,to=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new no,e=>e.reset());class no{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ro(e){Fi.setTimeout(()=>{throw e},0)}function io(e,t){eo||function(){var e=Fi.Promise.resolve(void 0);eo=function(){e.then(ao)}}(),so||(eo(),so=!0),oo.add(e,t)}var so=!1,oo=new class{constructor(){this.h=this.g=null}add(e,t){const n=to.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function ao(){for(var e;e=Xs();){try{e.h.call(e.g)}catch(n){ro(n)}var t=to;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}so=!1}function uo(e,t){Ws.call(this),this.h=e||1,this.g=t||Fi,this.j=Zi(this.kb,this),this.l=Date.now()}function co(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lo(e,t,n){if("function"==typeof e)n&&(e=Zi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zi(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fi.setTimeout(e,t||0)}function ho(e){e.g=lo(()=>{e.g=null,e.i&&(e.i=!1,ho(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Gi(uo,Ws),(Ci=uo.prototype).da=!1,Ci.S=null,Ci.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qs(this,"tick"),this.da&&(co(this),this.start()))}},Ci.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ci.M=function(){uo.Z.M.call(this),co(this),delete this.g};class fo extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ho(this)}M(){super.M(),this.g&&(Fi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(e){Ki.call(this),this.h=e,this.g={}}Gi(po,Ki);var go=[];function mo(e,t,n,r){Array.isArray(n)||(n&&(go[0]=n.toString()),n=go);for(var i=0;i<n.length;i++){var s=js(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function yo(e){as(e.g,function(e,t){this.g.hasOwnProperty(t)&&Bs(e)},e),e.g={}}function vo(){this.g=!0}function wo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Js(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}po.prototype.M=function(){po.Z.M.call(this),yo(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vo.prototype.Aa=function(){this.g=!1},vo.prototype.info=function(){};var bo={},_o=null;function Io(){return _o=_o||new Ws}function To(e){Cs.call(this,bo.Ma,e)}function Eo(e){const t=Io();Qs(t,new To(t,e))}function So(e,t){Cs.call(this,bo.STAT_EVENT,e),this.stat=t}function ko(e){const t=Io();Qs(t,new So(t,e))}function Co(e,t){Cs.call(this,bo.Na,e),this.size=t}function Ao(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Fi.setTimeout(function(){e()},t)}bo.Ma="serverreachability",Gi(To,Cs),bo.STAT_EVENT="statevent",Gi(So,Cs),bo.Na="timingevent",Gi(Co,Cs);var xo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},No={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ro(){}function Oo(){}Ro.prototype.h=null;var Do,Po={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lo(){Cs.call(this,"d")}function Mo(){Cs.call(this,"c")}function Fo(){}function Uo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new po(this),this.P=Vo,this.W=new uo(e=ys?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jo}function jo(){this.i=null,this.g="",this.h=!1}Gi(Lo,Cs),Gi(Mo,Cs),Gi(Fo,Ro),Fo.prototype.g=function(){return new XMLHttpRequest},Fo.prototype.i=function(){return{}},Do=new Fo;var Vo=45e3,qo={},$o={};function Bo(e,t,n){e.K=1,e.v=da(oa(t)),e.s=n,e.U=!0,zo(e,null)}function zo(e,t){e.F=Date.now(),Ko(e),e.A=oa(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sa(n.h,"t",r),e.C=0,n=e.l.H,e.h=new jo,e.g=Su(e.l,n?t:null,!e.s),0<e.O&&(e.L=new fo(Zi(e.Ia,e,e.g),e.O)),mo(e.V,e.g,"readystatechange",e.gb),t=e.H?us(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Eo(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zo(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ho(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Go(e,n),r==$o){4==t&&(e.o=4,ko(14),i=!1),wo(e.j,e.m,null,"[Incomplete Response]");break}if(r==qo){e.o=4,ko(15),wo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wo(e.j,e.m,r,null),Xo(e,r)}Zo(e)&&r!=$o&&r!=qo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ko(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yu(t),t.L=!0,ko(11))):(wo(e.j,e.m,n,"[Invalid Chunked Response]"),Jo(e),Yo(e))}function Go(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$o:(n=Number(t.substring(n,r)),isNaN(n)?qo:(r+=1)+n>t.length?$o:(t=t.substr(r,n),e.C=r+n,t))}function Ko(e){e.Y=Date.now()+e.P,Wo(e,e.P)}function Wo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ao(Zi(e.eb,e),t)}function Qo(e){e.B&&(Fi.clearTimeout(e.B),e.B=null)}function Yo(e){0==e.l.G||e.I||bu(e.l,e)}function Jo(e){Qo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,co(e.W),yo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ra(n.i,e)))if(n.I=e.N,!e.J&&Ra(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wu(n),uu(n)}mu(n),ko(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ao(Zi(n.ab,n),6e3));if(1>=Na(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Iu(n,11)}else if((e.J||n.g==e)&&wu(n),!es(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(rs(e,"spdy")||rs(e,"quic")||rs(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Oa(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,ha(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Eu(r,r.H?r.la:null,r.W),o.J){Da(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Qo(a),Ko(a)),r.g=o}else gu(r);0<n.l.length&&hu(n)}else"stop"!=c[0]&&"close"!=c[0]||Iu(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Iu(n,7):au(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Eo(4)}catch(c){}}function ea(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ji(e)||"string"==typeof e)Yi(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ji(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ji(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function ta(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ta)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function na(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ra(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ra(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ra(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ci=Uo.prototype).setTimeout=function(e){this.P=e},Ci.gb=function(e){e=e.target;const t=this.L;t&&3==nu(e)?t.l():this.Ia(e)},Ci.Ia=function(e){try{if(e==this.g)e:{const l=nu(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||ys||this.g&&(this.h.h||this.g.ga()||ru(this.g)))){this.I||4!=l||7==t||Eo(8==t||0>=h?3:2),Qo(this);var n=this.g.ba();this.N=n;t:if(Zo(this)){var r=ru(this.g);e="";var i=r.length,s=4==nu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Jo(this),Yo(this);var o="";break t}this.h.i=new Fi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!es(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ko(12),Jo(this),Yo(this);break e}wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xo(this,n)}this.U?(Ho(this,l,o),ys&&this.i&&3==l&&(mo(this.V,this.W,"tick",this.fb),this.W.start())):(wo(this.j,this.m,o,null),Xo(this,o)),4==l&&Jo(this),this.i&&!this.I&&(4==l?bu(this.l,this):(this.i=!1,Ko(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),Jo(this),Yo(this)}}}catch(l){}},Ci.fb=function(){if(this.g){var e=nu(this.g),t=this.g.ga();this.C<t.length&&(Qo(this),Ho(this,e,t),this.i&&4!=e&&Ko(this))}},Ci.cancel=function(){this.I=!0,Jo(this)},Ci.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Eo(3),ko(17)),Jo(this),this.o=2,Yo(this)):Wo(this,this.Y-e)},(Ci=ta.prototype).R=function(){na(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ci.T=function(){return na(this),this.g.concat()},Ci.get=function(e,t){return ra(this.h,e)?this.h[e]:t},Ci.set=function(e,t){ra(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ci.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var ia=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof sa){this.g=void 0!==t?t:e.g,aa(this,e.j),this.s=e.s,ua(this,e.i),ca(this,e.m),this.l=e.l,t=e.h;var n=new _a;n.i=t.i,t.g&&(n.g=new ta(t.g),n.h=t.h),la(this,n),this.o=e.o}else e&&(n=String(e).match(ia))?(this.g=!!t,aa(this,n[1]||"",!0),this.s=fa(n[2]||""),ua(this,n[3]||"",!0),ca(this,n[4]),this.l=fa(n[5]||"",!0),la(this,n[6]||"",!0),this.o=fa(n[7]||"")):(this.g=!!t,this.h=new _a(null,this.g))}function oa(e){return new sa(e)}function aa(e,t,n){e.j=n?fa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ua(e,t,n){e.i=n?fa(t,!0):t}function ca(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function la(e,t,n){t instanceof _a?(e.h=t,function(e,t){t&&!e.j&&(Ia(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ta(this,t),Sa(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=pa(t,wa)),e.h=new _a(t,e.g))}function ha(e,t,n){e.h.set(t,n)}function da(e){return ha(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pa(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ga),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ga(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pa(t,ma,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pa(t,ma,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pa(n,"/"==n.charAt(0)?va:ya,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pa(n,ba)),e.join("")};var ma=/[#\/\?@]/g,ya=/[#\?:]/g,va=/[#\?]/g,wa=/[#\?@]/g,ba=/#/g;function _a(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ia(e){e.g||(e.g=new ta,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ta(e,t){Ia(e),t=ka(e,t),ra(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ra((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&na(e)))}function Ea(e,t){return Ia(e),t=ka(e,t),ra(e.g.h,t)}function Sa(e,t,n){Ta(e,t),0<n.length&&(e.i=null,e.g.set(ka(e,t),Xi(n)),e.h+=n.length)}function ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ca(e){this.l=e||Aa,e=Fi.PerformanceNavigationTiming?0<(e=Fi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Fi.g&&Fi.g.Ea&&Fi.g.Ea()&&Fi.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ci=_a.prototype).add=function(e,t){Ia(this),this.i=null,e=ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ci.forEach=function(e,t){Ia(this),this.g.forEach(function(n,r){Yi(n,function(n){e.call(t,n,r,this)},this)},this)},Ci.T=function(){Ia(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ci.R=function(e){Ia(this);var t=[];if("string"==typeof e)Ea(this,e)&&(t=Ji(t,this.g.get(ka(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ji(t,e[n])}return t},Ci.set=function(e,t){return Ia(this),this.i=null,Ea(this,e=ka(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ci.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ci.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Aa=10;function xa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Na(e){return e.h?1:e.g?e.g.size:0}function Ra(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oa(e,t){e.g?e.g.add(t):e.h=t}function Da(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pa(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Xi(e.i)}function La(){}function Ma(){this.g=new La}function Fa(e,t,n){const r=n||"";try{ea(e,function(e,n){let i=e;Vi(e)&&(i=Js(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ua(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ja(e){this.l=e.$b||null,this.j=e.ib||!1}function Va(e,t){Ws.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ca.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},La.prototype.stringify=function(e){return Fi.JSON.stringify(e,void 0)},La.prototype.parse=function(e){return Fi.JSON.parse(e,void 0)},Gi(ja,Ro),ja.prototype.g=function(){return new Va(this.l,this.j)},ja.prototype.i=function(e){return function(){return e}}({}),Gi(Va,Ws);var qa=0;function $a(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ba(e){e.readyState=4,e.l=null,e.j=null,e.A=null,za(e)}function za(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ci=Va.prototype).open=function(e,t){if(this.readyState!=qa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,za(this)},Ci.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ci.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ba(this)),this.readyState=qa},Ci.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$a(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ci.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ba(this):za(this),3==this.readyState&&$a(this)}},Ci.Ua=function(e){this.g&&(this.response=this.responseText=e,Ba(this))},Ci.Ta=function(e){this.g&&(this.response=e,Ba(this))},Ci.ha=function(){this.g&&Ba(this)},Ci.setRequestHeader=function(e,t){this.v.append(e,t)},Ci.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ci.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Za=Fi.JSON.parse;function Ha(e){Ws.call(this),this.headers=new ta,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ga,this.K=this.L=!1}Gi(Ha,Ws);var Ga="",Ka=/^https?$/i,Wa=["POST","PUT"];function Qa(e){return"content-type"==e.toLowerCase()}function Ya(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ja(e),eu(e)}function Ja(e){e.D||(e.D=!0,Qs(e,"complete"),Qs(e,"error"))}function Xa(e){if(e.h&&void 0!==Mi&&(!e.C[1]||4!=nu(e)||2!=e.ba()))if(e.v&&4==nu(e))lo(e.Fa,0,e);else if(Qs(e,"readystatechange"),4==nu(e)){e.h=!1;try{const u=e.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===u){var i=String(e.H).match(ia)[1]||null;if(!i&&Fi.self&&Fi.self.location){var s=Fi.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ka.test(i?i.toLowerCase():"")}n=r}if(n)Qs(e,"complete"),Qs(e,"success");else{e.m=6;try{var o=2<nu(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Ja(e)}}finally{eu(e)}}}function eu(e,t){if(e.g){tu(e);const r=e.g,i=e.C[0]?Ui:null;e.g=null,e.C=null,t||Qs(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function tu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fi.clearTimeout(e.A),e.A=null)}function nu(e){return e.g?e.g.readyState:0}function ru(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ga:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function iu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return as(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ha(e,t,n))}function su(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ou(e){this.za=0,this.l=[],this.h=new vo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=su("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=su("baseRetryDelayMs",5e3,e),this.$a=su("retryDelaySeedMs",1e4,e),this.Ya=su("forwardChannelMaxRetries",2,e),this.ra=su("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ca(e&&e.concurrentRequestLimit),this.Ca=new Ma,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function au(e){if(cu(e),3==e.G){var t=e.V++,n=oa(e.F);ha(n,"SID",e.J),ha(n,"RID",t),ha(n,"TYPE","terminate"),fu(e,n),(t=new Uo(e,e.h,t,void 0)).K=2,t.v=da(oa(n)),n=!1,Fi.navigator&&Fi.navigator.sendBeacon&&(n=Fi.navigator.sendBeacon(t.v.toString(),"")),!n&&Fi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Su(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ko(t)}Tu(e)}function uu(e){e.g&&(yu(e),e.g.cancel(),e.g=null)}function cu(e){uu(e),e.u&&(Fi.clearTimeout(e.u),e.u=null),wu(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Fi.clearTimeout(e.m),e.m=null)}function lu(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&hu(e)}function hu(e){xa(e.i)||e.m||(e.m=!0,io(e.Ha,e),e.C=0)}function du(e,t){var n;n=t?t.m:e.V++;const r=oa(e.F);ha(r,"SID",e.J),ha(r,"RID",n),ha(r,"AID",e.U),fu(e,r),e.o&&e.s&&iu(r,e.o,e.s),n=new Uo(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Oa(e.i,n),Bo(n,r,t)}function fu(e,t){e.j&&ea({},function(e,n){ha(t,n,e)})}function pu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zi(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Fa(a,e,"req"+n+"_")}catch(rc){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function gu(e){e.g||e.u||(e.Y=1,io(e.Ga,e),e.A=0)}function mu(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Ao(Zi(e.Ga,e),_u(e,e.A)),e.A++,0))}function yu(e){null!=e.B&&(Fi.clearTimeout(e.B),e.B=null)}function vu(e){e.g=new Uo(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=oa(e.oa);ha(t,"RID","rpc"),ha(t,"SID",e.J),ha(t,"CI",e.N?"0":"1"),ha(t,"AID",e.U),fu(e,t),ha(t,"TYPE","xmlhttp"),e.o&&e.s&&iu(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=da(oa(t)),n.s=null,n.U=!0,zo(n,e)}function wu(e){null!=e.v&&(Fi.clearTimeout(e.v),e.v=null)}function bu(e,t){var n=null;if(e.g==t){wu(e),yu(e),e.g=null;var r=2}else{if(!Ra(e.i,t))return;n=t.D,Da(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qs(r=Io(),new Co(r,n,t,i)),hu(e)}else gu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Na(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ao(Zi(e.Ha,e,t),_u(e,e.C)),e.C++,0)))}(e,t)||2==r&&mu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Iu(e,5);break;case 4:Iu(e,10);break;case 3:Iu(e,6);break;default:Iu(e,2)}}function _u(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Iu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zi(e.jb,e);n||(n=new sa("//www.google.com/images/cleardot.gif"),Fi.location&&"http"==Fi.location.protocol||aa(n,"https"),da(n)),function(e,t){const n=new vo;if(Fi.Image){const r=new Image;r.onload=Hi(Ua,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hi(Ua,n,r,"TestLoadImage: error",!1,t),r.onabort=Hi(Ua,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hi(Ua,n,r,"TestLoadImage: timeout",!1,t),Fi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else ko(2);e.G=0,e.j&&e.j.va(t),Tu(e),cu(e)}function Tu(e){e.G=0,e.I=-1,e.j&&(0==Pa(e.i).length&&0==e.l.length||(e.i.i.length=0,Xi(e.l),e.l.length=0),e.j.ua())}function Eu(e,t,n){let r=function(e){return e instanceof sa?oa(e):new sa(e,void 0)}(n);if(""!=r.i)t&&ua(r,t+"."+r.i),ca(r,r.m);else{const e=Fi.location;r=function(e,t,n,r){var i=new sa(null,void 0);return e&&aa(i,e),t&&ua(i,t),n&&ca(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&as(e.aa,function(e,t){ha(r,t,e)}),n=e.sa,(t=e.D)&&n&&ha(r,t,n),ha(r,"VER",e.ma),fu(e,r),r}function Su(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ha(n&&e.Ba&&!e.qa?new ja({ib:!0}):e.qa)).L=e.H,t}function ku(){}function Cu(){if(gs&&!(10<=Number(Ss)))throw Error("Environmental error: no available transport.")}function Au(e,t){Ws.call(this),this.g=new ou(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!es(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!es(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ru(this)}function xu(e){Lo.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nu(){Mo.call(this),this.status=1}function Ru(e){this.g=e}(Ci=Ha.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Do.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Do),this.g.onreadystatechange=Zi(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ya(this,s)}e=n||"";const i=new ta(this.headers);r&&ea(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=Qa;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Fi.FormData&&e instanceof Fi.FormData,!(0<=Qi(Wa,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tu(this),0<this.B&&((this.K=function(e){return gs&&function(){return e=Es,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=ns(String(ds)).split("."),n=ns("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=is(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||is(0==i[2].length,0==s[2].length)||is(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.pa,this)):this.A=lo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ya(this,s)}},Ci.pa=function(){void 0!==Mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qs(this,"timeout"),this.abort(8))},Ci.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qs(this,"complete"),Qs(this,"abort"),eu(this))},Ci.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eu(this,!0)),Ha.Z.M.call(this)},Ci.Fa=function(){this.s||(this.F||this.v||this.l?Xa(this):this.cb())},Ci.cb=function(){Xa(this)},Ci.ba=function(){try{return 2<nu(this)?this.g.status:-1}catch(fs){return-1}},Ci.ga=function(){try{return this.g?this.g.responseText:""}catch(fs){return""}},Ci.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Za(t)}},Ci.Da=function(){return this.m},Ci.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ci=ou.prototype).ma=8,Ci.G=1,Ci.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ci.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Uo(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=us(s),ls(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pu(this,i,t),ha(n=oa(this.F),"RID",e),ha(n,"CVER",22),this.D&&ha(n,"X-HTTP-Session-Id",this.D),fu(this,n),this.o&&s&&iu(n,this.o,s),Oa(this.i,i),this.Ra&&ha(n,"TYPE","init"),this.ja?(ha(n,"$req",t),ha(n,"SID","null"),i.$=!0,Bo(i,n,null)):Bo(i,n,t),this.G=2}}else 3==this.G&&(e?du(this,e):0==this.l.length||xa(this.i)||du(this))},Ci.Ga=function(){if(this.u=null,vu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ao(Zi(this.bb,this),e)}},Ci.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ko(10),uu(this),vu(this))},Ci.ab=function(){null!=this.v&&(this.v=null,uu(this),mu(this),ko(19))},Ci.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ko(2)):(this.h.info("Failed to ping google.com"),ko(1))},(Ci=ku.prototype).xa=function(){},Ci.wa=function(){},Ci.va=function(){},Ci.ua=function(){},Ci.Oa=function(){},Cu.prototype.g=function(e,t){return new Au(e,t)},Gi(Au,Ws),Au.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),io(Zi(e.hb,e,t))),ko(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Eu(e,null,e.W),hu(e)},Au.prototype.close=function(){au(this.g)},Au.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,lu(this.g,t)}else this.v?((t={}).__data__=Js(e),lu(this.g,t)):lu(this.g,e)},Au.prototype.M=function(){this.g.j=null,delete this.j,au(this.g),delete this.g,Au.Z.M.call(this)},Gi(xu,Lo),Gi(Nu,Mo),Gi(Ru,ku),Ru.prototype.xa=function(){Qs(this.g,"a")},Ru.prototype.wa=function(e){Qs(this.g,new xu(e))},Ru.prototype.va=function(e){Qs(this.g,new Nu(e))},Ru.prototype.ua=function(){Qs(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Au.prototype.send=Au.prototype.u,Au.prototype.open=Au.prototype.m,Au.prototype.close=Au.prototype.close,xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,No.COMPLETE="complete",Oo.EventType=Po,Po.OPEN="a",Po.CLOSE="b",Po.ERROR="c",Po.MESSAGE="d",Ws.prototype.listen=Ws.prototype.N,Ha.prototype.listenOnce=Ha.prototype.O,Ha.prototype.getLastError=Ha.prototype.La,Ha.prototype.getLastErrorCode=Ha.prototype.Da,Ha.prototype.getStatus=Ha.prototype.ba,Ha.prototype.getResponseJson=Ha.prototype.Qa,Ha.prototype.getResponseText=Ha.prototype.ga,Ha.prototype.send=Ha.prototype.ea;var Ou=Li.createWebChannelTransport=function(){return new Cu},Du=Li.getStatEventTarget=function(){return Io()},Pu=Li.ErrorCode=xo,Lu=Li.EventType=No,Mu=Li.Event=bo,Fu=Li.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uu=Li.FetchXmlHttpFactory=ja,ju=Li.WebChannel=Oo,Vu=Li.XhrIo=Ha;const qu="@firebase/firestore";class $u{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$u.UNAUTHENTICATED=new $u(null),$u.GOOGLE_CREDENTIALS=new $u("google-credentials-uid"),$u.FIRST_PARTY=new $u("first-party-uid"),$u.MOCK_USER=new $u("mock-user");let Bu="9.4.0";const zu=new Oi.Yd("@firebase/firestore");function Zu(){return zu.logLevel}function Hu(e,...t){if(zu.logLevel<=Oi.in.DEBUG){const n=t.map(Wu);zu.debug(`Firestore (${Bu}): ${e}`,...n)}}function Gu(e,...t){if(zu.logLevel<=Oi.in.ERROR){const n=t.map(Wu);zu.error(`Firestore (${Bu}): ${e}`,...n)}}function Ku(e,...t){if(zu.logLevel<=Oi.in.WARN){const n=t.map(Wu);zu.warn(`Firestore (${Bu}): ${e}`,...n)}}function Wu(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Qu(e="Unexpected state"){const t=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+e;throw Gu(t),new Error(t)}function Yu(e,t){e||Qu()}function Ju(e,t){return e}const Xu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ec extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nc{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class rc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($u.UNAUTHENTICATED))}shutdown(){}}class ic{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sc{constructor(e){this.t=e,this.currentUser=$u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new tc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,xi.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Hu("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Hu("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tc)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Hu("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yu("string"==typeof t.accessToken),new nc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yu(null===e||"string"==typeof e),new $u(e)}}class oc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=$u.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ac{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new oc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($u.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function cc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}uc.T=-1;class lc{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=cc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function hc(e,t){return e<t?-1:e>t?1:0}function dc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function fc(e){return e+"\0"}class pc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ec(Xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ec(Xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ec(Xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ec(Xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pc.fromMillis(Date.now())}static fromDate(e){return pc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hc(this.nanoseconds,e.nanoseconds):hc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gc(e)}static min(){return new gc(new pc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qu(),void 0===n?n=e.length-t:n>e.length-t&&Qu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bc extends wc{construct(e,t,n){return new bc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ec(Xu.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new bc(t)}static emptyPath(){return new bc([])}}const _c=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ic extends wc{construct(e,t,n){return new Ic(e,t,n)}static isValidIdentifier(e){return _c.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ic.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ic(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ec(Xu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ec(Xu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ec(Xu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ec(Xu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ic(t)}static emptyPath(){return new Ic([])}}class Tc{constructor(e){this.fields=e,e.sort(Ic.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let Ec=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kc(e){if(Yu(!!e),"string"==typeof e){let t=0;const n=Sc.exec(e);if(Yu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cc(e.seconds),nanos:Cc(e.nanos)}}function Cc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ac(e){return"string"==typeof e?Ec.fromBase64String(e):Ec.fromUint8Array(e)}function xc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nc(e){const t=e.mapValue.fields.__previous_value__;return xc(t)?Nc(t):t}function Rc(e){const t=kc(e.mapValue.fields.__local_write_time__.timestampValue);return new pc(t.seconds,t.nanos)}function Oc(e){return null==e}function Dc(e){return 0===e&&1/e==-1/0}function Pc(e){return"number"==typeof e&&Number.isInteger(e)&&!Dc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Lc{constructor(e){this.path=e}static fromPath(e){return new Lc(bc.fromString(e))}static fromName(e){return new Lc(bc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===bc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lc(new bc(e.slice()))}}function Mc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xc(e)?4:10:Qu()}function Fc(e,t){const n=Mc(e);if(n!==Mc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rc(e).isEqual(Rc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=kc(e.timestampValue),r=kc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ac(e.bytesValue).isEqual(Ac(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cc(e.geoPointValue.latitude)===Cc(t.geoPointValue.latitude)&&Cc(e.geoPointValue.longitude)===Cc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cc(e.integerValue)===Cc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cc(e.doubleValue),r=Cc(t.doubleValue);return n===r?Dc(n)===Dc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return dc(e.arrayValue.values||[],t.arrayValue.values||[],Fc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mc(n)!==mc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fc(n[i],r[i])))return!1;return!0}(e,t);default:return Qu()}}function Uc(e,t){return void 0!==(e.values||[]).find(e=>Fc(e,t))}function jc(e,t){const n=Mc(e),r=Mc(t);if(n!==r)return hc(n,r);switch(n){case 0:return 0;case 1:return hc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cc(e.integerValue||e.doubleValue),r=Cc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vc(e.timestampValue,t.timestampValue);case 4:return Vc(Rc(e),Rc(t));case 5:return hc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ac(e),r=Ac(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hc(n[i],r[i]);if(0!==e)return e}return hc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hc(Cc(e.latitude),Cc(t.latitude));return 0!==n?n:hc(Cc(e.longitude),Cc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jc(n[i],r[i]);if(e)return e}return hc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=hc(r[o],s[o]);if(0!==e)return e;const t=jc(n[r[o]],i[s[o]]);if(0!==t)return t}return hc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Qu()}}function Vc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hc(e,t);const n=kc(e),r=kc(t),i=hc(n.seconds,r.seconds);return 0!==i?i:hc(n.nanos,r.nanos)}function qc(e){return $c(e)}function $c(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=kc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ac(e.bytesValue).toBase64():"referenceValue"in e?Lc.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$c(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${$c(e.fields[i])}`;return n+"}"}(e.mapValue):Qu();var t}function Bc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zc(e){return!!e&&"integerValue"in e}function Zc(e){return!!e&&"arrayValue"in e}function Hc(e){return!!e&&"nullValue"in e}function Gc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kc(e){return!!e&&"mapValue"in e}function Wc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Wc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Qc{constructor(e){this.value=e}static empty(){return new Qc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=Ic.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Wc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Kc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Qc(Wc(this.value))}}function Yc(e){const t=[];return yc(e.fields,(e,n)=>{const r=new Ic([e]);if(Kc(n)){const e=Yc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Tc(t)}class Jc{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Jc(e,0,gc.min(),Qc.empty(),0)}static newFoundDocument(e,t,n){return new Jc(e,1,t,n,0)}static newNoDocument(e,t){return new Jc(e,2,t,Qc.empty(),0)}static newUnknownDocument(e,t){return new Jc(e,3,t,Qc.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Jc(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function el(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Xc(e,t,n,r,i,s,o)}function tl(e){const t=Ju(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+qc(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Oc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=pl(t.startAt)),t.endAt&&(e+="|ub:",e+=pl(t.endAt)),t.A=e}return t.A}function nl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!ml(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Fc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vl(e.startAt,t.startAt)&&vl(e.endAt,t.endAt)}function rl(e){return Lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class il extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new sl(e,t,n):"array-contains"===t?new cl(e,n):"in"===t?new ll(e,n):"not-in"===t?new hl(e,n):"array-contains-any"===t?new dl(e,n):new il(e,t,n)}static R(e,t,n){return"in"===t?new ol(e,n):new al(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(jc(t,this.value)):null!==t&&Mc(this.value)===Mc(t)&&this.P(jc(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qu()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sl extends il{constructor(e,t,n){super(e,t,n),this.key=Lc.fromName(n.referenceValue)}matches(e){const t=Lc.comparator(e.key,this.key);return this.P(t)}}class ol extends il{constructor(e,t){super(e,"in",t),this.keys=ul(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class al extends il{constructor(e,t){super(e,"not-in",t),this.keys=ul(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ul(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Lc.fromName(e.referenceValue))}class cl extends il{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zc(t)&&Uc(t.arrayValue,this.value)}}class ll extends il{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Uc(this.value.arrayValue,t)}}class hl extends il{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Uc(this.value.arrayValue,t)}}class dl extends il{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Uc(this.value.arrayValue,e))}}class fl{constructor(e,t){this.position=e,this.before=t}}function pl(e){return`${e.before?"b":"a"}:${e.position.map(e=>qc(e)).join(",")}`}class gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ml(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Lc.comparator(Lc.fromName(o.referenceValue),n.key):jc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function vl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fc(e.position[n],t.position[n]))return!1;return!0}class wl{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function bl(e,t,n,r,i,s,o,a){return new wl(e,t,n,r,i,s,o,a)}function _l(e){return new wl(e)}function Il(e){return!Oc(e.limit)&&"F"===e.limitType}function Tl(e){return!Oc(e.limit)&&"L"===e.limitType}function El(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sl(e){for(const t of e.filters)if(t.v())return t.field;return null}function kl(e){return null!==e.collectionGroup}function Cl(e){const t=Ju(e);if(null===t.V){t.V=[];const e=Sl(t),n=El(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new gl(e)),t.V.push(new gl(Ic.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new gl(Ic.keyField(),e))}}}return t.V}function Al(e){const t=Ju(e);if(!t.S)if("F"===t.limitType)t.S=el(t.path,t.collectionGroup,Cl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Cl(t))e.push(new gl(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new fl(t.endAt.position,!t.endAt.before):null,r=t.startAt?new fl(t.startAt.position,!t.startAt.before):null;t.S=el(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function xl(e,t,n){return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nl(e,t){return nl(Al(e),Al(t))&&e.limitType===t.limitType}function Rl(e){return`${tl(Al(e))}|lt:${e.limitType}`}function Ol(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${qc(t.value)}`;var t}).join(", ")}]`),Oc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+pl(e.startAt)),e.endAt&&(t+=", endAt: "+pl(e.endAt)),`Target(${t})`}(Al(e))}; limitType=${e.limitType})`}function Dl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!yl(e.startAt,Cl(e),t)||e.endAt&&yl(e.endAt,Cl(e),t))}(e,t)}function Pl(e){return(t,n)=>{let r=!1;for(const i of Cl(e)){const e=Ll(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ll(e,t,n){const r=e.field.isKeyField()?Lc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jc(r,i):Qu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qu()}}function Ml(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(t)?"-0":t}}function Fl(e){return{integerValue:""+e}}function Ul(e,t){return Pc(t)?Fl(t):Ml(e,t)}class jl{constructor(){this._=void 0}}function Vl(e,t,n){return e instanceof Bl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof zl?Zl(e,t):e instanceof Hl?Gl(e,t):function(e,t){const n=$l(e,t),r=Wl(n)+Wl(e.C);return zc(n)&&zc(e.C)?Fl(r):Ml(e.N,r)}(e,t)}function ql(e,t,n){return e instanceof zl?Zl(e,t):e instanceof Hl?Gl(e,t):n}function $l(e,t){return e instanceof Kl?zc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Bl extends jl{}class zl extends jl{constructor(e){super(),this.elements=e}}function Zl(e,t){const n=Ql(t);for(const r of e.elements)n.some(e=>Fc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends jl{constructor(e){super(),this.elements=e}}function Gl(e,t){let n=Ql(t);for(const r of e.elements)n=n.filter(e=>!Fc(e,r));return{arrayValue:{values:n}}}class Kl extends jl{constructor(e,t){super(),this.N=e,this.C=t}}function Wl(e){return Cc(e.integerValue||e.doubleValue)}function Ql(e){return Zc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Yl{constructor(e,t){this.field=e,this.transform=t}}class Jl{constructor(e,t){this.version=e,this.transformResults=t}}class Xl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xl}static exists(e){return new Xl(void 0,e)}static updateTime(e){return new Xl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class th{}function nh(e,t,n){e instanceof ah?function(e,t,n){const r=e.value.clone(),i=lh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uh?function(e,t,n){if(!eh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=lh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ch(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rh(e,t,n){e instanceof ah?function(e,t,n){if(!eh(e.precondition,t))return;const r=e.value.clone(),i=hh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(oh(t),r).setHasLocalMutations()}(e,t,n):e instanceof uh?function(e,t,n){if(!eh(e.precondition,t))return;const r=hh(e.fieldTransforms,n,t),i=t.data;i.setAll(ch(e)),i.setAll(r),t.convertToFoundDocument(oh(t),i).setHasLocalMutations()}(e,t,n):function(e,t){eh(e.precondition,t)&&t.convertToNoDocument(gc.min())}(e,t)}function ih(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$l(r.transform,e||null);null!=i&&(null==n&&(n=Qc.empty()),n.set(r.field,i))}return n||null}function sh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&dc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zl&&t instanceof zl||e instanceof Hl&&t instanceof Hl?dc(e.elements,t.elements,Fc):e instanceof Kl&&t instanceof Kl?Fc(e.C,t.C):e instanceof Bl&&t instanceof Bl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function oh(e){return e.isFoundDocument()?e.version:gc.min()}class ah extends th{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class uh extends th{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function ch(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function lh(e,t,n){const r=new Map;Yu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ql(o,a,n[i]))}return r}function hh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Vl(e,s,t))}return r}class dh extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class fh extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ph{constructor(e){this.count=e}}var gh,mh;function yh(e){switch(e){default:return Qu();case Xu.CANCELLED:case Xu.UNKNOWN:case Xu.DEADLINE_EXCEEDED:case Xu.RESOURCE_EXHAUSTED:case Xu.INTERNAL:case Xu.UNAVAILABLE:case Xu.UNAUTHENTICATED:return!1;case Xu.INVALID_ARGUMENT:case Xu.NOT_FOUND:case Xu.ALREADY_EXISTS:case Xu.PERMISSION_DENIED:case Xu.FAILED_PRECONDITION:case Xu.ABORTED:case Xu.OUT_OF_RANGE:case Xu.UNIMPLEMENTED:case Xu.DATA_LOSS:return!0}}function vh(e){if(void 0===e)return Gu("GRPC error has no .code"),Xu.UNKNOWN;switch(e){case gh.OK:return Xu.OK;case gh.CANCELLED:return Xu.CANCELLED;case gh.UNKNOWN:return Xu.UNKNOWN;case gh.DEADLINE_EXCEEDED:return Xu.DEADLINE_EXCEEDED;case gh.RESOURCE_EXHAUSTED:return Xu.RESOURCE_EXHAUSTED;case gh.INTERNAL:return Xu.INTERNAL;case gh.UNAVAILABLE:return Xu.UNAVAILABLE;case gh.UNAUTHENTICATED:return Xu.UNAUTHENTICATED;case gh.INVALID_ARGUMENT:return Xu.INVALID_ARGUMENT;case gh.NOT_FOUND:return Xu.NOT_FOUND;case gh.ALREADY_EXISTS:return Xu.ALREADY_EXISTS;case gh.PERMISSION_DENIED:return Xu.PERMISSION_DENIED;case gh.FAILED_PRECONDITION:return Xu.FAILED_PRECONDITION;case gh.ABORTED:return Xu.ABORTED;case gh.OUT_OF_RANGE:return Xu.OUT_OF_RANGE;case gh.UNIMPLEMENTED:return Xu.UNIMPLEMENTED;case gh.DATA_LOSS:return Xu.DATA_LOSS;default:return Qu()}}(mh=gh||(gh={}))[mh.OK=0]="OK",mh[mh.CANCELLED=1]="CANCELLED",mh[mh.UNKNOWN=2]="UNKNOWN",mh[mh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mh[mh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mh[mh.NOT_FOUND=5]="NOT_FOUND",mh[mh.ALREADY_EXISTS=6]="ALREADY_EXISTS",mh[mh.PERMISSION_DENIED=7]="PERMISSION_DENIED",mh[mh.UNAUTHENTICATED=16]="UNAUTHENTICATED",mh[mh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mh[mh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mh[mh.ABORTED=10]="ABORTED",mh[mh.OUT_OF_RANGE=11]="OUT_OF_RANGE",mh[mh.UNIMPLEMENTED=12]="UNIMPLEMENTED",mh[mh.INTERNAL=13]="INTERNAL",mh[mh.UNAVAILABLE=14]="UNAVAILABLE",mh[mh.DATA_LOSS=15]="DATA_LOSS";class wh{constructor(e,t){this.comparator=e,this.root=t||_h.EMPTY}insert(e,t){return new wh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_h.BLACK,null,null))}remove(e){return new wh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_h.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _h{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_h.RED,this.left=null!=r?r:_h.EMPTY,this.right=null!=i?i:_h.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _h(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _h.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _h.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_h.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qu();if(this.right.isRed())throw Qu();const e=this.left.check();if(e!==this.right.check())throw Qu();return e+(this.isRed()?0:1)}}_h.EMPTY=null,_h.RED=!0,_h.BLACK=!1,_h.EMPTY=new class{constructor(){this.size=0}get key(){throw Qu()}get value(){throw Qu()}get color(){throw Qu()}get left(){throw Qu()}get right(){throw Qu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _h(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ih{constructor(e){this.comparator=e,this.data=new wh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Th(this.data.getIterator())}getIteratorFrom(e){return new Th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ih))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ih(this.comparator);return t.data=e,t}}class Th{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Eh=new wh(Lc.comparator);function Sh(){return Eh}const kh=new wh(Lc.comparator);function Ch(){return kh}const Ah=new wh(Lc.comparator);function xh(){return Ah}const Nh=new Ih(Lc.comparator);function Rh(...e){let t=Nh;for(const n of e)t=t.add(n);return t}const Oh=new Ih(hc);function Dh(){return Oh}class Ph{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ph(gc.min(),n,Dh(),Sh(),Rh())}}class Lh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Lh(Ec.EMPTY_BYTE_STRING,t,Rh(),Rh(),Rh())}}class Mh{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Fh{constructor(e,t){this.targetId=e,this.O=t}}class Uh{constructor(e,t,n=Ec.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jh{constructor(){this.F=0,this.M=$h(),this.L=Ec.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Rh(),t=Rh(),n=Rh();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qu()}}),new Lh(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=$h()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Vh{constructor(e){this.tt=e,this.et=new Map,this.nt=Sh(),this.st=qh(),this.it=new Ih(hc)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Qu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(rl(e))if(0===n){const n=new Lc(e.path);this.ct(t,n,Jc.newNoDocument(n,gc.min()))}else Yu(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&rl(i.target)){const t=new Lc(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.ct(r,t,Jc.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=Rh();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Ph(e,t,this.it,this.nt,n);return this.nt=Sh(),this.st=qh(),this.it=new Ih(hc),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new jh,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Ih(hc),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Hu("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new jh),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function qh(){return new wh(Lc.comparator)}function $h(){return new wh(Lc.comparator)}const Bh={asc:"ASCENDING",desc:"DESCENDING"},zh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zh{constructor(e,t){this.databaseId=e,this.D=t}}function Hh(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gh(e,t){return e.D?t.toBase64():t.toUint8Array()}function Kh(e,t){return Hh(e,t.toTimestamp())}function Wh(e){return Yu(!!e),gc.fromTimestamp(function(e){const t=kc(e);return new pc(t.seconds,t.nanos)}(e))}function Qh(e,t){return function(e){return new bc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Yh(e){const t=bc.fromString(e);return Yu(_d(t)),t}function Jh(e,t){return Qh(e.databaseId,t.path)}function Xh(e,t){const n=Yh(t);if(n.get(1)!==e.databaseId.projectId)throw new ec(Xu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ec(Xu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lc(rd(n))}function ed(e,t){return Qh(e.databaseId,t)}function td(e){const t=Yh(e);return 4===t.length?bc.emptyPath():rd(t)}function nd(e){return new bc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rd(e){return Yu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function id(e,t,n){return{name:Jh(e,t),fields:n.value.mapValue.fields}}function sd(e,t,n){const r=Xh(e,t.name),i=Wh(t.updateTime),s=new Qc({mapValue:{fields:t.fields}}),o=Jc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function od(e,t){let n;if(t instanceof ah)n={update:id(e,t.key,t.value)};else if(t instanceof dh)n={delete:Jh(e,t.key)};else if(t instanceof uh)n={update:id(e,t.key,t.data),updateMask:bd(t.fieldMask)};else{if(!(t instanceof fh))return Qu();n={verify:Jh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Bl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kl)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Qu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qu()}(e,t.precondition)),n}function ad(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Xl.updateTime(Wh(e.updateTime)):void 0!==e.exists?Xl.exists(e.exists):Xl.none()}(t.currentDocument):Xl.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Yu("REQUEST_TIME"===t.setToServerValue),n=new Bl):"appendMissingElements"in t?n=new zl(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Hl(t.removeAllFromArray.values||[]):"increment"in t?n=new Kl(e,t.increment):Qu();const r=Ic.fromServerFormat(t.fieldPath);return new Yl(r,n)}(e,t)):[];if(t.update){const i=Xh(e,t.update.name),s=new Qc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Tc((e.fieldPaths||[]).map(e=>Ic.fromServerFormat(e)))}(t.updateMask);return new uh(i,s,e,n,r)}return new ah(i,s,n,r)}if(t.delete){const r=Xh(e,t.delete);return new dh(r,n)}if(t.verify){const r=Xh(e,t.verify);return new fh(r,n)}return Qu()}function ud(e,t){return{documents:[ed(e,t.path)]}}function cd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ed(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ed(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Gc(e.value))return{unaryFilter:{field:md(e.field),op:"IS_NAN"}};if(Hc(e.value))return{unaryFilter:{field:md(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gc(e.value))return{unaryFilter:{field:md(e.field),op:"IS_NOT_NAN"}};if(Hc(e.value))return{unaryFilter:{field:md(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:md(e.field),op:gd(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:md(e.field),direction:pd(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Oc(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=dd(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dd(t.endAt)),n}function ld(e){let t=td(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=hd(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new gl(yd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Oc(t)?null:t}(n.limit));let u=null;n.startAt&&(u=fd(n.startAt));let c=null;return n.endAt&&(c=fd(n.endAt)),bl(t,i,o,s,a,"F",u,c)}function hd(e){return e?void 0!==e.unaryFilter?[wd(e)]:void 0!==e.fieldFilter?[vd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>hd(e)).reduce((e,t)=>e.concat(t)):Qu():[]}function dd(e){return{before:e.before,values:e.position}}function fd(e){return new fl(e.values||[],!!e.before)}function pd(e){return Bh[e]}function gd(e){return zh[e]}function md(e){return{fieldPath:e.canonicalString()}}function yd(e){return Ic.fromServerFormat(e.fieldPath)}function vd(e){return il.create(yd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qu()}}(e.fieldFilter.op),e.fieldFilter.value)}function wd(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yd(e.unaryFilter.field);return il.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=yd(e.unaryFilter.field);return il.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yd(e.unaryFilter.field);return il.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yd(e.unaryFilter.field);return il.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qu()}}function bd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _d(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Id(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ed(t)),t=Td(e.get(n),t);return Ed(t)}function Td(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ed(e){return e+"\x01\x01"}function Sd(e){const t=e.length;if(Yu(t>=2),2===t)return Yu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),bc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Qu(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Qu()}s=t+2}return new bc(r)}class kd{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let Cd=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),Ad=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class xd{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}xd.store="mutations",xd.keyPath="batchId",xd.userMutationsIndex="userMutationsIndex",xd.userMutationsKeyPath=["userId","batchId"];let Nd=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Id(t)]}static key(e,t,n){return[e,Id(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class Rd{constructor(e,t){this.path=e,this.readTime=t}}class Od{constructor(e,t){this.path=e,this.version=t}}class Dd{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Dd.store="remoteDocuments",Dd.readTimeIndex="readTimeIndex",Dd.readTimeIndexPath="readTime",Dd.collectionReadTimeIndex="collectionReadTimeIndex",Dd.collectionReadTimeIndexPath=["parentPath","readTime"];let Pd=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class Ld{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Ld.store="targets",Ld.keyPath="targetId",Ld.queryTargetsIndexName="queryTargetsIndex",Ld.queryTargetsKeyPath=["canonicalId","targetId"];class Md{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Md.store="targetDocuments",Md.keyPath=["targetId","path"],Md.documentTargetsIndex="documentTargetsIndex",Md.documentTargetsKeyPath=["path","targetId"];let Fd=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),Ud=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),jd=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),Vd=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),qd=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const $d=[Ad.store,xd.store,Nd.store,Dd.store,Ld.store,Cd.store,Fd.store,Md.store,jd.store,Pd.store,Ud.store,Vd.store,qd.store],Bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Zd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zd((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Zd?t:Zd.resolve(t)}catch(e){return Zd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Zd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Zd.reject(t)}static resolve(e){return new Zd((t,n)=>{t(e)})}static reject(e){return new Zd((t,n)=>{n(e)})}static waitFor(e){return new Zd((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Zd.resolve(!1);for(const n of e)t=t.next(e=>e?Zd.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Hd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new tc,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Wd(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=ef(t.target.error);this.Et.reject(new Wd(e,n))}}static open(e,t,n,r){try{return new Hd(t,e.transaction(r,n))}catch(e){throw new Wd(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Hu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Yd(t)}}class Gd{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Gd.Rt((0,Di.z$)())&&Gu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hu("SimpleDb","Removing database:",e),Jd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Di.hl)())return!1;if(Gd.Pt())return!0;const e=(0,Di.z$)(),t=Gd.Rt(e),n=0<t&&t<10,r=Gd.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,xi.Z)(function*(){return t.db||(Hu("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Wd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new ec(Xu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new ec(Xu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Wd(e,n))},i.onupgradeneeded=e=>{Hu("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Hu("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,xi.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=Hd.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),Zd.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(Hu("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Kd{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Jd(this.kt.delete())}}class Wd extends ec{constructor(e,t){super(Xu.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qd(e){return"IndexedDbTransactionError"===e.name}class Yd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Jd(n)}add(e){return Hu("SimpleDb","ADD",this.store.name,e,e),Jd(this.store.add(e))}get(e){return Jd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Hu("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Hu("SimpleDb","DELETE",this.store.name,e),Jd(this.store.delete(e))}count(){return Hu("SimpleDb","COUNT",this.store.name),Jd(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Hu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Zd((n,r)=>{t.onerror=e=>{const t=ef(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Zd((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Kd(i),o=t(i.primaryKey,i.value,s);if(o instanceof Zd){const e=o.catch(e=>(s.done(),Zd.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Zd.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jd(e){return new Zd((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=ef(e.target.error);n(t)}})}let Xd=!1;function ef(e){const t=Gd.Rt((0,Di.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ec("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xd||(Xd=!0,setTimeout(()=>{throw e},0)),e}}return e}class tf extends zd{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function nf(e,t){const n=Ju(e);return Gd.St(n.Qt,t)}class rf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nh(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&rh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&rh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(gc.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rh())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(e,t)=>sh(e,t))&&dc(this.baseMutations,e.baseMutations,(e,t)=>sh(e,t))}}class sf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yu(e.mutations.length===n.length);let r=xh();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new sf(e,t,n,r)}}class of{constructor(e,t,n,r,i=gc.min(),s=gc.min(),o=Ec.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new of(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class af{constructor(e){this.Wt=e}}function uf(e,t){if(t.document)return sd(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Lc.fromSegments(t.noDocument.path),n=ff(t.noDocument.readTime),r=Jc.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Lc.fromSegments(t.unknownDocument.path),n=ff(t.unknownDocument.version);return Jc.newUnknownDocument(e,n)}return Qu()}function cf(e,t,n){const r=lf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Jh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hh(e,t.version.toTimestamp())}}(e.Wt,t);return new Dd(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=df(t.version),s=t.hasCommittedMutations;return new Dd(null,new Rd(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=df(t.version);return new Dd(new Od(e,n),null,null,!0,r,i)}return Qu()}function lf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hf(e){const t=new pc(e[0],e[1]);return gc.fromTimestamp(t)}function df(e){const t=e.toTimestamp();return new kd(t.seconds,t.nanoseconds)}function ff(e){const t=new pc(e.seconds,e.nanoseconds);return gc.fromTimestamp(t)}function pf(e,t){const n=(t.baseMutations||[]).map(t=>ad(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>ad(e.Wt,t)),i=pc.fromMillis(t.localWriteTimeMs);return new rf(t.batchId,i,n,r)}function gf(e){const t=ff(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ff(e.lastLimboFreeSnapshotVersion):gc.min();let r;var i;return void 0!==e.query.documents?(Yu(1===(i=e.query).documents.length),r=Al(_l(td(i.documents[0])))):r=function(e){return Al(ld(e))}(e.query),new of(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ec.fromBase64String(e.resumeToken))}function mf(e,t){const n=df(t.snapshotVersion),r=df(t.lastLimboFreeSnapshotVersion);let i;i=rl(t.target)?ud(e.Wt,t.target):cd(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Ld(t.targetId,tl(t.target),n,s,t.sequenceNumber,r,i)}function yf(e){const t=ld({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xl(t,t.limit,"L"):t}class vf{getBundleMetadata(e,t){return wf(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:ff(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return wf(e).put({bundleId:(n=t).id,createTime:df(Wh(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return bf(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:yf(t.bundledQuery),readTime:ff(t.readTime)};var t})}saveNamedQuery(e,t){return bf(e).put(function(e){return{name:e.name,readTime:df(Wh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wf(e){return nf(e,Vd.store)}function bf(e){return nf(e,qd.store)}class _f{constructor(){this.Gt=new If}addToCollectionParentIndex(e,t){return this.Gt.add(t),Zd.resolve()}getCollectionParents(e,t){return Zd.resolve(this.Gt.getEntries(t))}}class If{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ih(bc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ih(bc.comparator)).toArray()}}class Tf{constructor(){this.zt=new If}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Id(r)};return Ef(e).put(i)}return Zd.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fc(t),""],!1,!0);return Ef(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Sd(r.parent))}return n})}}function Ef(e){return nf(e,Ud.store)}const Sf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new kf(e,kf.DEFAULT_COLLECTION_PERCENTILE,kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cf(e,t,n){const r=e.store(xd.store),i=e.store(Nd.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{Yu(1===a)}));const c=[];for(const l of n.mutations){const e=Nd.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return Zd.waitFor(s).next(()=>c)}function Af(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qu();t=e.noDocument}return JSON.stringify(t).length}kf.DEFAULT_COLLECTION_PERCENTILE=10,kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kf.DEFAULT=new kf(41943040,kf.DEFAULT_COLLECTION_PERCENTILE,kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kf.DISABLED=new kf(-1,0,0);class xf{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Yu(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new xf(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rf(e).Kt({index:xd.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Of(e),s=Rf(e);return s.add({}).next(o=>{Yu("number"==typeof o);const a=new rf(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>od(e.Wt,t)),i=n.mutations.map(t=>od(e.Wt,t));return new xd(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Ih((e,t)=>hc(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Nd.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,Nd.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Zd.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return Rf(e).get(t).next(e=>e?(Yu(e.userId===this.userId),pf(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Zd.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Rf(e).Kt({index:xd.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Yu(t.batchId>=n),i=pf(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Rf(e).Kt({index:xd.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rf(e).Lt(xd.userMutationsIndex,t).next(e=>e.map(e=>pf(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Nd.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Of(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Sd(a);if(o===this.userId&&t.path.isEqual(c))return Rf(e).get(u).next(e=>{if(!e)throw Qu();Yu(e.userId===this.userId),i.push(pf(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ih(hc);const r=[];return t.forEach(t=>{const i=Nd.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Of(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=Sd(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),Zd.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Nd.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Ih(hc);return Of(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=Sd(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Rf(e).get(t).next(e=>{if(null===e)throw Qu();Yu(e.userId===this.userId),n.push(pf(this.N,e))}))}),Zd.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Cf(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Zd.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Zd.resolve();const n=IDBKeyRange.lowerBound(Nd.prefixForUser(this.userId)),r=[];return Of(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Sd(e[1]);r.push(t)}else n.done()}).next(()=>{Yu(0===r.length)})})}containsKey(e,t){return Nf(e,this.userId,t)}ee(e){return Df(e).get(this.userId).next(e=>e||new Ad(this.userId,-1,""))}}function Nf(e,t,n){const r=Nd.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Of(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Rf(e){return nf(e,xd.store)}function Of(e){return nf(e,Nd.store)}function Df(e){return nf(e,Ad.store)}class Pf{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Pf(0)}static ie(){return new Pf(-1)}}class Lf{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Pf(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>gc.fromTimestamp(new pc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ae(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Mf(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Yu(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Mf(e).Kt((s,o)=>{const a=gf(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Zd.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Mf(e).Kt((e,n)=>{const r=gf(n);t(r)})}re(e){return Ff(e).get(Fd.key).next(e=>(Yu(null!==e),e))}oe(e,t){return Ff(e).put(Fd.key,t)}ce(e,t){return Mf(e).put(mf(this.N,t))}ae(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=tl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Mf(e).Kt({range:r,index:Ld.queryTargetsIndexName},(e,n,r)=>{const s=gf(n);nl(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Uf(e);return t.forEach(t=>{const s=Id(t.path);r.push(i.put(new Md(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Zd.waitFor(r)}removeMatchingKeys(e,t,n){const r=Uf(e);return Zd.forEach(t,t=>{const i=Id(t.path);return Zd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Uf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Uf(e);let i=Rh();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Sd(e[1]),s=new Lc(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Id(t.path),r=IDBKeyRange.bound([n],[fc(n)],!1,!0);let i=0;return Uf(e).Kt({index:Md.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return Mf(e).get(t).next(e=>e?gf(e):null)}}function Mf(e){return nf(e,Ld.store)}function Ff(e){return nf(e,Fd.store)}function Uf(e){return nf(e,Md.store)}function jf(e){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,xi.Z)(function*(e){if(e.code!==Xu.FAILED_PRECONDITION||e.message!==Bd)throw e;Hu("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function qf([e,t],[n,r]){const i=hc(e,n);return 0===i?hc(t,r):i}class $f{constructor(e){this.ue=e,this.buffer=new Ih(qf),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();qf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Bf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;Hu("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,xi.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Qd(e)?Hu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield jf(e)}yield t._e(e)}))}}class zf{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Zd.resolve(uc.T);const n=new $f(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hu("LruGarbageCollector","Garbage collection skipped; disabled"),Zd.resolve(Sf)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Hu("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sf):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Hu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),Zu()<=Oi.in.DEBUG&&Hu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),Zd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Zf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new zf(e,t)}(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return Hf(e,n)}removeReference(e,t,n){return Hf(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Hf(e,t)}Ie(e,t){return function(e,t){let n=!1;return Df(e).jt(r=>Nf(e,r,t).next(e=>(e&&(n=!0),Zd.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Uf(e).delete([0,Id(s.path)])))});r.push(t)}}).next(()=>Zd.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Hf(e,t)}Ee(e,t){const n=Uf(e);let r,i=uc.T;return n.Kt({index:Md.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==uc.T&&t(new Lc(Sd(r)),i),i=o,r=s):i=uc.T}).next(()=>{i!==uc.T&&t(new Lc(Sd(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hf(e,t){return Uf(e).put(function(e,t){return new Md(0,Id(e.path),t)}(t,e.currentSequenceNumber))}class Gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){yc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return vc(this.inner)}}class Kf{constructor(){this.changes=new Gf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:gc.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Jc.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zd.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wf{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Jf(e).put(Xf(t),n)}removeEntry(e,t){const n=Jf(e),r=Xf(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Jf(e).get(Xf(t)).next(e=>this.Re(t,e))}be(e,t){return Jf(e).get(Xf(t)).next(e=>({document:this.Re(t,e),size:Af(e)}))}getEntries(e,t){let n=Sh();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Sh(),r=new wh(Lc.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Af(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Zd.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Jf(e).Kt({range:r},(e,t,r)=>{const o=Lc.fromSegments(e);for(;s&&Lc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Sh();const i=t.path.length+1,s={};if(n.isEqual(gc.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=lf(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Dd.collectionReadTimeIndex}return Jf(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=uf(this.N,n);t.path.isPrefixOf(o.key.path)?Dl(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Qf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Yf(e).get(Pd.key).next(e=>(Yu(!!e),e))}Ae(e,t){return Yf(e).put(Pd.key,t)}Re(e,t){if(t){const e=uf(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(gc.min()))return e}return Jc.newInvalidDocument(e)}}class Qf extends Kf{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Gf(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Ih((e,t)=>hc(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=cf(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=Af(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=cf(this.Se.N,Jc.newNoDocument(i,gc.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Zd.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Yf(e){return nf(e,Pd.store)}function Jf(e){return nf(e,Dd.store)}function Xf(e){return e.path.toArray()}class ep{constructor(e){this.N=e}Ct(e,t,n,r){Yu(n<r&&n>=0&&r<=11);const i=new Hd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Cd.store)}(e),function(e){e.createObjectStore(Ad.store,{keyPath:Ad.keyPath}),e.createObjectStore(xd.store,{keyPath:xd.keyPath,autoIncrement:!0}).createIndex(xd.userMutationsIndex,xd.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Nd.store)}(e),tp(e),function(e){e.createObjectStore(Dd.store)}(e));let s=Zd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Md.store),e.deleteObjectStore(Ld.store),e.deleteObjectStore(Fd.store)}(e),tp(e)),s=s.next(()=>function(e){const t=e.store(Fd.store),n=new Fd(0,0,gc.min().toTimestamp(),0);return t.put(Fd.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(xd.store).Lt().next(n=>{e.deleteObjectStore(xd.store),e.createObjectStore(xd.store,{keyPath:xd.keyPath,autoIncrement:!0}).createIndex(xd.userMutationsIndex,xd.userMutationsKeyPath,{unique:!0});const r=t.store(xd.store),i=n.map(e=>r.put(e));return Zd.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(jd.store,{keyPath:jd.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Pd.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Dd.store);t.createIndex(Dd.readTimeIndex,Dd.readTimeIndexPath,{unique:!1}),t.createIndex(Dd.collectionReadTimeIndex,Dd.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Vd.store,{keyPath:Vd.keyPath})}(e),function(e){e.createObjectStore(qd.store,{keyPath:qd.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(Dd.store).Kt((e,n)=>{t+=Af(n)}).next(()=>{const n=new Pd(t);return e.store(Pd.store).put(Pd.key,n)})}Ce(e){const t=e.store(Ad.store),n=e.store(xd.store);return t.Lt().next(t=>Zd.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(xd.userMutationsIndex,r).next(n=>Zd.forEach(n,n=>{Yu(n.userId===t.userId);const r=pf(this.N,n);return Cf(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Md.store),n=e.store(Dd.store);return e.store(Fd.store).get(Fd.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new bc(n),o=function(e){return[0,Id(e)]}(s);r.push(t.get(o).next(n=>n?Zd.resolve():(n=>t.put(new Md(0,Id(n),e.highestListenSequenceNumber)))(s)))}).next(()=>Zd.waitFor(r))})}ke(e,t){e.createObjectStore(Ud.store,{keyPath:Ud.keyPath});const n=t.store(Ud.store),r=new If,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Id(r)})}};return t.store(Dd.store).Kt({qt:!0},(e,t)=>{const n=new bc(e);return i(n.popLast())}).next(()=>t.store(Nd.store).Kt({qt:!0},([e,t,n],r)=>{const s=Sd(t);return i(s.popLast())}))}$e(e){const t=e.store(Ld.store);return t.Kt((e,n)=>{const r=gf(n),i=mf(this.N,r);return t.put(i)})}}function tp(e){e.createObjectStore(Md.store,{keyPath:Md.keyPath}).createIndex(Md.documentTargetsIndex,Md.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ld.store,{keyPath:Ld.keyPath}).createIndex(Ld.queryTargetsIndexName,Ld.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fd.store)}const np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rp{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!rp.bt())throw new ec(Xu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zf(this,r),this.We=t+"main",this.N=new af(a),this.Ge=new Gd(this.We,11,new ep(this.N)),this.ze=new Lf(this.referenceDelegate,this.N),this.Ht=new Tf,this.He=function(e,t){return new Wf(e,t)}(this.N,this.Ht),this.Je=new vf,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Gu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ec(Xu.FAILED_PRECONDITION,np);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new uc(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,xi.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,xi.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,xi.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sp(e).put(new jd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Qd(e))return Hu("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return ip(e).get(Cd.key).next(e=>Zd.resolve(this.an(e)))}un(e){return sp(e).delete(this.clientId)}hn(){var e=this;return(0,xi.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=nf(t,jd.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return Zd.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Zd.resolve(!0):ip(e).get(Cd.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new ec(Xu.FAILED_PRECONDITION,np);return!1}}return!(!this.networkEnabled||!this.inForeground)||sp(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Hu("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,xi.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Cd.store,jd.store],t=>{const n=new tf(t,uc.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>sp(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return xf.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Hu("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",$d,i=>(r=new tf(i,this.Le?this.Le.next():uc.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Gu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ec(Xu.FAILED_PRECONDITION,Bd);return n(r)}).next(e=>this.cn(r).next(()=>e)):this.Tn(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}Tn(e){return ip(e).get(Cd.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ec(Xu.FAILED_PRECONDITION,np)})}cn(e){const t=new Cd(this.clientId,this.allowTabSynchronization,Date.now());return ip(e).put(Cd.key,t)}static bt(){return Gd.bt()}on(e){const t=ip(e);return t.get(Cd.key).next(e=>this.an(e)?(Hu("IndexedDbPersistence","Releasing primary lease."),t.delete(Cd.key)):Zd.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Gu(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Di.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Hu("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Gu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Gi){Gu("Failed to set zombie client id.",Gi)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Gi){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ip(e){return nf(e,Cd.store)}function sp(e){return nf(e,jd.store)}function op(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ap{constructor(e,t){this.progress=e,this.En=t}}class up{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):kl(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Lc(t)).next(e=>{let t=Ch();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=Ch();return this.Ht.getCollectionParents(e,r).next(s=>Zd.forEach(s,s=>{const o=function(e,t){return new wl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Jc.newInvalidDocument(n),r=r.insert(n,i)),rh(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Dl(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=Rh();for(const s of t)for(const e of s.mutations)e instanceof uh&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class cp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Rh(),r=Rh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cp(e,t.fromCache,n,r)}}class lp{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(gc.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(Il(t)||Tl(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Zu()<=Oi.in.DEBUG&&Hu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ol(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new Ih(Pl(e));return t.forEach((t,r)=>{Dl(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Zu()<=Oi.in.DEBUG&&Hu("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.On.getDocumentsMatchingQuery(e,t,gc.min())}}class hp{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new wh(hc),this.qn=new Gf(e=>tl(e),nl),this.Kn=gc.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new up(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function dp(e,t,n,r){return new hp(e,t,n,r)}function fp(e,t){return pp.apply(this,arguments)}function pp(){return(pp=(0,xi.Z)(function*(e,t){const n=Ju(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new up(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Rh();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function gp(e,t){const n=Ju(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Zd.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Yu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function mp(e){const t=Ju(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function yp(e,t){const n=Ju(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return Yu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=Sh();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(vp(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(gc.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Zd.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function vp(e,t,n,r,i){let s=Rh();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Sh();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gc.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):Hu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function wp(e,t){const n=Ju(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function bp(e,t){const n=Ju(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,Zd.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new of(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function _p(e,t,n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,xi.Z)(function*(e,t,n){const r=Ju(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qd(e))throw e;Hu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Tp(e,t,n){const r=Ju(e);let i=gc.min(),s=Rh();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ju(e),i=r.qn.get(n);return void 0!==i?Zd.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Al(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:gc.min(),n?s:Rh())).next(e=>({documents:e,Gn:s})))}function Ep(e,t){const n=Ju(e),r=Ju(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function Sp(e){const t=Ju(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Ju(e);let i=Sh(),s=lf(n);const o=Jf(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Dd.readTimeIndex,range:a},(e,t)=>{const n=uf(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:hf(s)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:n})=>(t.Kn=n,e))}function kp(){return(kp=(0,xi.Z)(function*(e){const t=Ju(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Jf(e);let n=gc.min();return t.Kt({index:Dd.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=hf(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Cp(){return(Cp=(0,xi.Z)(function*(e,t,n,r){const i=Ju(e);let s=Rh(),o=Sh(),a=xh();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield bp(i,function(e){return Al(_l(bc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>vp(e,u,o,gc.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Ap(e,t){return xp.apply(this,arguments)}function xp(){return(xp=(0,xi.Z)(function*(e,t,n=Rh()){const r=yield bp(e,Al(yf(t.bundledQuery))),i=Ju(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Wh(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Ec.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class Np{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Zd.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Wh(n.createTime)}),Zd.resolve()}getNamedQuery(e,t){return Zd.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:yf(e.bundledQuery),readTime:Wh(e.readTime)}}(t)),Zd.resolve()}}class Rp{constructor(){this.Zn=new Ih(Op.ts),this.es=new Ih(Op.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Op(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Op(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Lc(new bc([])),n=new Op(t,e),r=new Op(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Lc(new bc([])),n=new Op(t,e),r=new Op(t,e+1);let i=Rh();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Op(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Op{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Lc.comparator(e.key,t.key)||hc(e.ls,t.ls)}static ns(e,t){return hc(e.ls,t.ls)||Lc.comparator(e.key,t.key)}}class Dp{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Ih(Op.ts)}checkEmpty(e){return Zd.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new rf(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Op(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Zd.resolve(s)}lookupMutationBatch(e,t){return Zd.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Zd.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Zd.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Zd.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Op(t,0),r=new Op(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),Zd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ih(hc);return t.forEach(e=>{const t=new Op(e,0),r=new Op(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Zd.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Lc.isDocumentKey(i)||(i=i.child(""));const s=new Op(new Lc(i),0);let o=new Ih(hc);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Zd.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Yu(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Zd.forEach(t.mutations,r=>{const i=new Op(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new Op(t,0),r=this.ds.firstAfterOrEqual(n);return Zd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Zd.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Pp{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new wh(Lc.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zd.resolve(n?n.document.clone():Jc.newInvalidDocument(t))}getEntries(e,t){let n=Sh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Jc.newInvalidDocument(e))}),Zd.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Sh();const i=new Lc(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Dl(t,i)&&(r=r.insert(i.key,i.clone()))}return Zd.resolve(r)}Ts(e,t){return Zd.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Lp(this)}getSize(e){return Zd.resolve(this.size)}}class Lp extends Kf{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Zd.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Mp{constructor(e){this.persistence=e,this.Es=new Gf(e=>tl(e),nl),this.lastRemoteSnapshotVersion=gc.min(),this.highestTargetId=0,this.Is=0,this.As=new Rp,this.targetCount=0,this.Rs=Pf.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),Zd.resolve()}getLastRemoteSnapshotVersion(e){return Zd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zd.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Zd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Zd.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Pf(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Zd.resolve()}updateTargetData(e,t){return this.ce(t),Zd.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Zd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Zd.waitFor(i).next(()=>r)}getTargetCount(e){return Zd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return Zd.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Zd.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Zd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Zd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Zd.resolve(n)}containsKey(e,t){return Zd.resolve(this.As.containsKey(t))}}class Fp{constructor(e,t){this.bs={},this.Le=new uc(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Mp(this),this.Ht=new _f,this.He=function(e,t){return new Pp(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new af(t),this.Je=new Np(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Dp(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Hu("MemoryPersistence","Starting transaction:",e);const r=new Up(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Zd.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Up extends zd{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ds=new Rp,this.Cs=null}static Ns(e){return new jp(e)}get xs(){if(this.Cs)return this.Cs;throw Qu()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Zd.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Zd.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Zd.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zd.forEach(this.xs,n=>{const r=Lc.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Zd.or([()=>Zd.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Vp(e,t){return`firestore_clients_${e}_${t}`}function qp(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function $p(e,t){return`firestore_targets_${e}_${t}`}class Bp{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ec(r.error.code,r.error.message))),s?new Bp(e,t,r.state,i):(Gu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ec(n.error.code,n.error.message))),i?new zp(e,n.state,r):(Gu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Dh();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Pc(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Zp(e,i):(Gu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hp{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hp(t.clientId,t.onlineState):(Gu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gp{constructor(){this.activeTargetIds=Dh()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kp{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new wh(hc),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Vp(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Gp),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xi.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(Vp(e.persistenceKey,r));if(t){const n=Zp.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem($p(this.persistenceKey,e));if(n){const r=zp.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($p(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hu("SharedClientState","READ",e,t),t}setItem(e,t){Hu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Hu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Gu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,xi.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ci(n.key);return t.ai(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ai(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=uc.T;if(null!=e)try{const n=JSON.parse(e);Yu("number"==typeof n),t=n}catch(e){Gu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==uc.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Bp(this.currentUser,e,t,n),i=qp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=qp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=$p(this.persistenceKey,e),i=new zp(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ci(e);return Zp.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return Bp.$s(new $u(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return zp.$s(r,t)}Xs(e){return Hp.$s(e)}li(e){var t=this;return(0,xi.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Hu("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Dh();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Wp{constructor(){this.yi=new Gp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Gp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Qp{Ti(e){}shutdown(){}}class Yp{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Hu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Hu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Xp{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class eg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Hu("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(Hu("RestConnection","Received: ",e),e),t=>{throw Ku("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Jp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Vu;o.listenOnce(Lu.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Pu.NO_ERROR:const t=o.getResponseJson();Hu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Pu.TIMEOUT:Hu("Connection",'RPC "'+e+'" timed out'),s(new ec(Xu.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const n=o.getStatus();if(Hu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xu).indexOf(t)>=0?t:Xu.UNKNOWN}(e.status);s(new ec(t,e.message))}else s(new ec(Xu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ec(Xu.UNAVAILABLE,"Connection failed."));break;default:Qu()}}finally{Hu("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ou(),i=Du(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Uu({})),this.Ui(s.initMessageHeaders,t),(0,Di.uI)()||(0,Di.b$)()||(0,Di.d)()||(0,Di.w1)()||(0,Di.Mn)()||(0,Di.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Hu("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new Xp({vi:e=>{c?Hu("Connection","Not sending because WebChannel is closed:",e):(u||(Hu("Connection","Opening WebChannel transport."),a.open(),u=!0),Hu("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,ju.EventType.OPEN,()=>{c||Hu("Connection","WebChannel transport opened.")}),h(a,ju.EventType.CLOSE,()=>{c||(c=!0,Hu("Connection","WebChannel transport closed"),l.$i())}),h(a,ju.EventType.ERROR,e=>{c||(c=!0,Ku("Connection","WebChannel transport errored:",e),l.$i(new ec(Xu.UNAVAILABLE,"The operation could not be completed")))}),h(a,ju.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];Yu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Hu("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=gh[e];if(void 0!==t)return vh(t)}(e),n=i.message;void 0===t&&(t=Xu.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new ec(t,n)),a.close()}else Hu("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Mu.STAT_EVENT,e=>{e.stat===Fu.PROXY?Hu("Connection","Detected buffering proxy"):e.stat===Fu.NOPROXY&&Hu("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function tg(){return"undefined"!=typeof window?window:null}function ng(){return"undefined"!=typeof document?document:null}function rg(e){return new Zh(e,!0)}class ig{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Hu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class sg{constructor(e,t,n,r,i,s,o){this.Oe=e,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new ig(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,xi.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,xi.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var n=this;return(0,xi.Z)(function*(){n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==e?n.ar.reset():t&&t.code===Xu.RESOURCE_EXHAUSTED?(Gu(t.toString()),Gu("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):t&&t.code===Xu.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(e=>{this.ir===t&&this.Er(e)},t=>{e(()=>{const e=new ec(Xu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ir(e)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.Ir(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}lr(){var e=this;this.state=5,this.ar.Xi((0,xi.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Hu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Hu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends sg{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i),this.N=r}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Yu(void 0===t||"string"==typeof t),Ec.fromBase64String(t||"")):(Yu(void 0===t||t instanceof Uint8Array),Ec.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Xu.UNKNOWN:vh(e.code);return new ec(t,e.message||"")}(o);n=new Uh(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Xh(e,r.document.name),s=Wh(r.document.updateTime),o=new Qc({mapValue:{fields:r.document.fields}}),a=Jc.newFoundDocument(i,s,o);n=new Mh(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Xh(e,r.document),s=r.readTime?Wh(r.readTime):gc.min(),o=Jc.newNoDocument(i,s);n=new Mh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Xh(e,r.document);n=new Mh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Qu();{const e=t.filter,r=new ph(e.count||0);n=new Fh(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return gc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gc.min():t.readTime?Wh(t.readTime):gc.min()}(e);return this.listener.Rr(t,n)}br(e){const t={};t.database=nd(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=rl(r)?{documents:ud(e,r)}:{query:cd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Gh(e,t.resumeToken):t.snapshotVersion.compareTo(gc.min())>0&&(n.readTime=Hh(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.mr(t)}Pr(e){const t={};t.database=nd(this.N),t.removeTarget=e,this.mr(t)}}class ag extends sg{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Yu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(e,t){return e&&e.length>0?(Yu(void 0!==t),e.map(e=>function(e,t){let n=Wh(e.updateTime?e.updateTime:t);return n.isEqual(gc.min())&&(n=Wh(t)),new Jl(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Wh(e.commitTime);return this.listener.Dr(n,t)}return Yu(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=nd(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>od(this.N,e))};this.mr(t)}}class ug extends class{}{constructor(e,t,n){super(),this.credentials=e,this.sr=t,this.N=n,this.kr=!1}$r(){if(this.kr)throw new ec(Xu.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xu.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ec(Xu.UNKNOWN,e.toString())})}Ki(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xu.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ec(Xu.UNKNOWN,e.toString())})}terminate(){this.kr=!0}}class cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Gu(t),this.Mr=!1):Hu("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class lg{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(e=>{n.enqueueAndForget((0,xi.Z)(function*(){var e;_g(s)&&(Hu("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,xi.Z)(function*(e){const t=Ju(e);t.Wr.add(4),yield fg(t),t.Hr.set("Unknown"),t.Wr.delete(4),yield hg(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Hr=new cg(n,r)}}function hg(e){return dg.apply(this,arguments)}function dg(){return(dg=(0,xi.Z)(function*(e){if(_g(e))for(const t of e.Gr)yield t(!0)})).apply(this,arguments)}function fg(e){return pg.apply(this,arguments)}function pg(){return(pg=(0,xi.Z)(function*(e){for(const t of e.Gr)yield t(!1)})).apply(this,arguments)}function gg(e,t){const n=Ju(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),bg(n)?wg(n):Kg(n).hr()&&yg(n,t))}function mg(e,t){const n=Ju(e),r=Kg(n);n.Qr.delete(t),r.hr()&&vg(n,t),0===n.Qr.size&&(r.hr()?r.wr():_g(n)&&n.Hr.set("Unknown"))}function yg(e,t){e.Jr.Y(t.targetId),Kg(e).br(t)}function vg(e,t){e.Jr.Y(t),Kg(e).Pr(t)}function wg(e){e.Jr=new Vh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.Qr.get(t)||null}),Kg(e).start(),e.Hr.Lr()}function bg(e){return _g(e)&&!Kg(e).ur()&&e.Qr.size>0}function _g(e){return 0===Ju(e).Wr.size}function Ig(e){e.Jr=void 0}function Tg(e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,xi.Z)(function*(e){e.Qr.forEach((t,n)=>{yg(e,t)})})).apply(this,arguments)}function Sg(e,t){return kg.apply(this,arguments)}function kg(){return(kg=(0,xi.Z)(function*(e,t){Ig(e),bg(e)?(e.Hr.qr(t),wg(e)):e.Hr.set("Unknown")})).apply(this,arguments)}function Cg(e,t,n){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,xi.Z)(function*(e,t,n){if(e.Hr.set("Online"),t instanceof Uh&&2===t.state&&t.cause)try{yield(r=(0,xi.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.Qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.Qr.delete(r),e.Jr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){Hu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield xg(e,n)}else if(t instanceof Mh?e.Jr.rt(t):t instanceof Fh?e.Jr.ft(t):e.Jr.at(t),!n.isEqual(gc.min()))try{const t=yield mp(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Jr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Qr.get(t);if(!n)return;e.Qr.set(t,n.withResumeToken(Ec.EMPTY_BYTE_STRING,n.snapshotVersion)),vg(e,t);const r=new of(n.target,t,1,n.sequenceNumber);yg(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){Hu("RemoteStore","Failed to raise snapshot:",t),yield xg(e,t)}var r})).apply(this,arguments)}function xg(e,t,n){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,xi.Z)(function*(e,t,n){if(!Qd(t))throw t;e.Wr.add(1),yield fg(e),e.Hr.set("Offline"),n||(n=()=>mp(e.localStore)),e.asyncQueue.enqueueRetryable((0,xi.Z)(function*(){Hu("RemoteStore","Retrying IndexedDB access"),yield n(),e.Wr.delete(1),yield hg(e)}))})).apply(this,arguments)}function Rg(e,t){return t().catch(n=>xg(e,n,t))}function Og(e){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,xi.Z)(function*(e){const t=Ju(e),n=Wg(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;Pg(t);)try{const e=yield wp(t.localStore,r);if(null===e){0===t.jr.length&&n.wr();break}r=e.batchId,Lg(t,e)}catch(e){yield xg(t,e)}Mg(t)&&Fg(t)})).apply(this,arguments)}function Pg(e){return _g(e)&&e.jr.length<10}function Lg(e,t){e.jr.push(t);const n=Wg(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function Mg(e){return _g(e)&&!Wg(e).ur()&&e.jr.length>0}function Fg(e){Wg(e).start()}function Ug(e){return jg.apply(this,arguments)}function jg(){return(jg=(0,xi.Z)(function*(e){Wg(e).Nr()})).apply(this,arguments)}function Vg(e){return qg.apply(this,arguments)}function qg(){return(qg=(0,xi.Z)(function*(e){const t=Wg(e);for(const n of e.jr)t.Sr(n.mutations)})).apply(this,arguments)}function $g(e,t,n){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,xi.Z)(function*(e,t,n){const r=e.jr.shift(),i=sf.from(r,t,n);yield Rg(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Og(e)})).apply(this,arguments)}function zg(e,t){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,xi.Z)(function*(e,t){var n;t&&Wg(e).Vr&&(yield(n=(0,xi.Z)(function*(e,t){if(yh(n=t.code)&&n!==Xu.ABORTED){const n=e.jr.shift();Wg(e).dr(),yield Rg(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Og(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),Mg(e)&&Fg(e)})).apply(this,arguments)}function Hg(e,t){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,xi.Z)(function*(e,t){const n=Ju(e);t?(n.Wr.delete(2),yield hg(n)):t||(n.Wr.add(2),yield fg(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function Kg(e){return e.Yr||(e.Yr=function(e,t,n){const r=Ju(e);return r.$r(),new og(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Tg.bind(null,e),Ci:Sg.bind(null,e),Rr:Cg.bind(null,e)}),e.Gr.push(function(){var t=(0,xi.Z)(function*(t){t?(e.Yr.dr(),bg(e)?wg(e):e.Hr.set("Unknown")):(yield e.Yr.stop(),Ig(e))});return function(e){return t.apply(this,arguments)}}())),e.Yr}function Wg(e){return e.Xr||(e.Xr=function(e,t,n){const r=Ju(e);return r.$r(),new ag(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Ug.bind(null,e),Ci:zg.bind(null,e),Cr:Vg.bind(null,e),Dr:$g.bind(null,e)}),e.Gr.push(function(){var t=(0,xi.Z)(function*(t){t?(e.Xr.dr(),yield Og(e)):(yield e.Xr.stop(),e.jr.length>0&&(Hu("RemoteStore",`Stopping write stream with ${e.jr.length} pending writes`),e.jr=[]))});return function(e){return t.apply(this,arguments)}}())),e.Xr}class Qg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Qg(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ec(Xu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(e,t){if(Gu("AsyncQueue",`${t}: ${e}`),Qd(e))return new ec(Xu.UNAVAILABLE,`${t}: ${e}`);throw e}class Jg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Lc.comparator(t.key,n.key):(e,t)=>Lc.comparator(e.key,t.key),this.keyedMap=Ch(),this.sortedSet=new wh(this.comparator)}static emptySet(e){return new Jg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xg{constructor(){this.Zr=new wh(Lc.comparator)}track(e){const t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):Qu():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,n)=>{e.push(n)}),e}}class em{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new em(e,t,Jg.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class tm{constructor(){this.no=void 0,this.listeners=[]}}class nm{constructor(){this.queries=new Gf(e=>Rl(e),Nl),this.onlineState="Unknown",this.so=new Set}}function rm(e,t){return im.apply(this,arguments)}function im(){return(im=(0,xi.Z)(function*(e,t){const n=Ju(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tm),i)try{s.no=yield n.onListen(r)}catch(e){const n=Yg(e,`Initialization of query '${Ol(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.io(n.onlineState),s.no&&t.ro(s.no)&&cm(n)})).apply(this,arguments)}function sm(e,t){return om.apply(this,arguments)}function om(){return(om=(0,xi.Z)(function*(e,t){const n=Ju(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function am(e,t){const n=Ju(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.ro(i)&&(r=!0);e.no=i}}r&&cm(n)}function um(e,t,n){const r=Ju(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function cm(e){e.so.forEach(e=>{e.next()})}class lm{constructor(e,t,n){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new em(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class hm{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class dm{constructor(e){this.N=e}zn(e){return Xh(this.N,e)}Hn(e){return e.metadata.exists?sd(this.N,e.document,!1):Jc.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Wh(e)}}class fm{constructor(e,t,n){this._o=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=pm(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,n=new dm(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Rh()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,xi.Z)(function*(){const t=yield function(e,t,n,r){return Cp.apply(this,arguments)}(e.localStore,new dm(e.N),e.documents,e._o.id),n=e.yo(e.documents);for(const r of e.queries)yield Ap(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new ap(Object.assign({},e.progress),t)})()}}function pm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class ym{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=Rh(),this.mutatedKeys=Rh(),this.Io=Pl(e),this.Ao=new Jg(this.Io)}get Ro(){return this.po}bo(e,t){const n=t?t.Po:new Xg,r=t?t.Ao:this.Ao;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Il(this.query)&&r.size===this.query.limit?r.last():null,u=Tl(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=Dl(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.vo(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Io(l,a)>0||u&&this.Io(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Il(this.query)||Tl(this.query))for(;s.size>this.query.limit;){const e=Il(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const i=e.Po.eo();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qu()}};return n(e)-n(t)}(e.type,t.type)||this.Io(e.doc,t.doc)),this.Vo(n);const s=t?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new em(this.query,e.Ao,r,i,e.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Xg,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(e=>this.po=this.po.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Rh(),this.Ao.forEach(e=>{this.Co(e.key)&&(this.Eo=this.Eo.add(e.key))});const t=[];return e.forEach(e=>{this.Eo.has(e)||t.push(new mm(e))}),this.Eo.forEach(n=>{e.has(n)||t.push(new gm(n))}),t}No(e){this.po=e.Gn,this.Eo=Rh();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return em.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class vm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wm{constructor(e){this.key=e,this.ko=!1}}class bm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new Gf(e=>Rl(e),Nl),this.Fo=new Map,this.Mo=new Set,this.Lo=new wh(Lc.comparator),this.Bo=new Map,this.Uo=new Rp,this.qo={},this.Ko=new Map,this.jo=Pf.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function _m(e,t){return Im.apply(this,arguments)}function Im(){return(Im=(0,xi.Z)(function*(e,t){const n=hy(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=yield bp(n.localStore,Al(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Tm(n,t,r,"current"===s),n.isPrimaryClient&&gg(n.remoteStore,e)}return i})).apply(this,arguments)}function Tm(e,t,n,r){return Em.apply(this,arguments)}function Em(){return(Em=(0,xi.Z)(function*(e,t,n,r){e.Wo=(t,n,r)=>{return(i=(0,xi.Z)(function*(e,t,n,r){let i=t.view.bo(n);i.Ln&&(i=yield Tp(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return $m(e,t.targetId,o.Do),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Tp(e.localStore,t,!0),s=new ym(t,i.Gn),o=s.bo(i.documents),a=Lh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);$m(e,n,u.Do);const c=new vm(t,n,s);return e.Oo.set(t,c),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),u.snapshot})).apply(this,arguments)}function Sm(e,t){return km.apply(this,arguments)}function km(){return(km=(0,xi.Z)(function*(e,t){const n=Ju(e),r=n.Oo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(e=>!Nl(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _p(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mg(n.remoteStore,r.targetId),Vm(n,r.targetId)}).catch(jf))):(Vm(n,r.targetId),yield _p(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Cm(){return(Cm=(0,xi.Z)(function*(e,t,n){const r=dy(e);try{const e=yield function(e,t){const n=Ju(e),r=pc.now(),i=t.reduce((e,t)=>e.add(t.key),Rh());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=ih(e,s.get(e.key));null!=t&&o.push(new uh(e.key,t,Yc(t.value.mapValue),Xl.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qo[e.currentUser.toKey()];r||(r=new wh(hc)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield Zm(r,e.changes),yield Og(r.remoteStore)}catch(e){const t=Yg(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function Am(e,t){return xm.apply(this,arguments)}function xm(){return(xm=(0,xi.Z)(function*(e,t){const n=Ju(e);try{const e=yield yp(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Bo.get(t);r&&(Yu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ko=!0:e.modifiedDocuments.size>0?Yu(r.ko):e.removedDocuments.size>0&&(Yu(r.ko),r.ko=!1))}),yield Zm(n,e,t)}catch(e){yield jf(e)}})).apply(this,arguments)}function Nm(e,t,n){const r=Ju(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.io(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ju(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.io(t)&&(r=!0)}),r&&cm(n)}(r.eventManager,t),e.length&&r.$o.Rr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Rm(e,t,n){return Om.apply(this,arguments)}function Om(){return(Om=(0,xi.Z)(function*(e,t,n){const r=Ju(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Bo.get(t),s=i&&i.key;if(s){let e=new wh(Lc.comparator);e=e.insert(s,Jc.newNoDocument(s,gc.min()));const n=Rh().add(s),i=new Ph(gc.min(),new Map,new Ih(hc),e,n);yield Am(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(t),zm(r)}else yield _p(r.localStore,t,!1).then(()=>Vm(r,t,n)).catch(jf)})).apply(this,arguments)}function Dm(e,t){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,xi.Z)(function*(e,t){const n=Ju(e),r=t.batch.batchId;try{const e=yield gp(n.localStore,t);jm(n,r,null),Um(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Zm(n,e)}catch(e){yield jf(e)}})).apply(this,arguments)}function Lm(e,t,n){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,xi.Z)(function*(e,t,n){const r=Ju(e);try{const e=yield function(e,t){const n=Ju(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Yu(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);jm(r,t,n),Um(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield Zm(r,e)}catch(n){yield jf(n)}})).apply(this,arguments)}function Fm(){return(Fm=(0,xi.Z)(function*(e,t){const n=Ju(e);_g(n.remoteStore)||Hu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Ju(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ko.get(e)||[];r.push(t),n.Ko.set(e,r)}catch(e){const n=Yg(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function Um(e,t){(e.Ko.get(t)||[]).forEach(e=>{e.resolve()}),e.Ko.delete(t)}function jm(e,t,n){const r=Ju(e);let i=r.qo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function Vm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Oo.delete(r),n&&e.$o.Go(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach(t=>{e.Uo.containsKey(t)||qm(e,t)})}function qm(e,t){e.Mo.delete(t.path.canonicalString());const n=e.Lo.get(t);null!==n&&(mg(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),zm(e))}function $m(e,t,n){for(const r of n)r instanceof gm?(e.Uo.addReference(r.key,t),Bm(e,r)):r instanceof mm?(Hu("SyncEngine","Document no longer in limbo: "+r.key),e.Uo.removeReference(r.key,t),e.Uo.containsKey(r.key)||qm(e,r.key)):Qu()}function Bm(e,t){const n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(Hu("SyncEngine","New document in limbo: "+n),e.Mo.add(r),zm(e))}function zm(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){const t=e.Mo.values().next().value;e.Mo.delete(t);const n=new Lc(bc.fromString(t)),r=e.jo.next();e.Bo.set(r,new wm(n)),e.Lo=e.Lo.insert(n,r),gg(e.remoteStore,new of(Al(_l(n.path)),r,2,uc.T))}}function Zm(e,t,n){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,xi.Z)(function*(e,t,n){const r=Ju(e),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Wo(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=cp.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=(0,xi.Z)(function*(e,t){const n=Ju(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Zd.forEach(t,t=>Zd.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Zd.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Qd(e))throw e;Hu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return(Km=(0,xi.Z)(function*(e,t){const n=Ju(e);if(!n.currentUser.isEqual(t)){Hu("SyncEngine","User change. New user:",t.toKey());const e=yield fp(n.localStore,t);n.currentUser=t,function(e,t){e.Ko.forEach(e=>{e.forEach(e=>{e.reject(new ec(Xu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ko.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield Zm(n,e.Wn)}})).apply(this,arguments)}function Wm(e,t){const n=Ju(e),r=n.Bo.get(t);if(r&&r.ko)return Rh().add(r.key);{let e=Rh();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Ro)}return e}}function Qm(e,t){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,xi.Z)(function*(e,t){const n=Ju(e),r=yield Tp(n.localStore,t.query,!0),i=t.view.No(r);return n.isPrimaryClient&&$m(n,t.targetId,i.Do),i})).apply(this,arguments)}function Jm(e){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,xi.Z)(function*(e){const t=Ju(e);return Sp(t.localStore).then(e=>Zm(t,e))})).apply(this,arguments)}function ey(e,t,n,r){return ty.apply(this,arguments)}function ty(){return(ty=(0,xi.Z)(function*(e,t,n,r){const i=Ju(e),s=yield function(e,t){const n=Ju(e),r=Ju(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Zd.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield Og(i.remoteStore):"acknowledged"===n||"rejected"===n?(jm(i,t,r||null),Um(i,t),function(e,t){Ju(Ju(e).In).te(t)}(i.localStore,t)):Qu(),yield Zm(i,s)):Hu("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ny(){return(ny=(0,xi.Z)(function*(e,t){const n=Ju(e);if(hy(n),dy(n),!0===t&&!0!==n.Qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield ry(n,e.toArray());n.Qo=!0,yield Hg(n.remoteStore,!0);for(const r of t)gg(n.remoteStore,r)}else if(!1===t&&!1!==n.Qo){const e=[];let t=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Vm(n,i),_p(n.localStore,i,!0))),mg(n.remoteStore,i)}),yield t,yield ry(n,e),function(e){const t=Ju(e);t.Bo.forEach((e,n)=>{mg(t.remoteStore,n)}),t.Uo.us(),t.Bo=new Map,t.Lo=new wh(Lc.comparator)}(n),n.Qo=!1,yield Hg(n.remoteStore,!1)}})).apply(this,arguments)}function ry(e,t,n){return iy.apply(this,arguments)}function iy(){return(iy=(0,xi.Z)(function*(e,t,n){const r=Ju(e),i=[],s=[];for(const o of t){let e;const t=r.Fo.get(o);if(t&&0!==t.length){e=yield bp(r.localStore,Al(t[0]));for(const e of t){const t=r.Oo.get(e),n=yield Qm(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Ep(r.localStore,o);e=yield bp(r.localStore,t),yield Tm(r,sy(t),o,!1)}i.push(e)}return r.$o.Rr(s),i})).apply(this,arguments)}function sy(e){return bl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function oy(e){const t=Ju(e);return Ju(Ju(t.localStore).persistence).pn()}function ay(e,t,n,r){return uy.apply(this,arguments)}function uy(){return(uy=(0,xi.Z)(function*(e,t,n,r){const i=Ju(e);if(i.Qo)Hu("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=yield Sp(i.localStore),r=Ph.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield Zm(i,e,r);break}case"rejected":yield _p(i.localStore,t,!0),Vm(i,t,r);break;default:Qu()}})).apply(this,arguments)}function cy(e,t,n){return ly.apply(this,arguments)}function ly(){return(ly=(0,xi.Z)(function*(e,t,n){const r=hy(e);if(r.Qo){for(const e of t){if(r.Fo.has(e)){Hu("SyncEngine","Adding an already active target "+e);continue}const t=yield Ep(r.localStore,e),n=yield bp(r.localStore,t);yield Tm(r,sy(t),n.targetId,!1),gg(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&(yield _p(r.localStore,e,!1).then(()=>{mg(r.remoteStore,e),Vm(r,e)}).catch(jf))}})).apply(this,arguments)}function hy(e){const t=Ju(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Am.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rm.bind(null,t),t.$o.Rr=am.bind(null,t.eventManager),t.$o.Go=um.bind(null,t.eventManager),t}function dy(e){const t=Ju(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lm.bind(null,t),t}class fy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xi.Z)(function*(){t.N=rg(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return dp(this.persistence,new lp,e.initialUser,this.N)}Jo(e){return new Fp(jp.Ns,this.N)}Ho(e){return new Wp}terminate(){var e=this;return(0,xi.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class py extends fy{constructor(e,t,n){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,xi.Z)(function*(){yield t().call(n,e),yield function(e){return kp.apply(this,arguments)}(n.localStore),yield n.Zo.initialize(n,e),yield dy(n.Zo.syncEngine),yield Og(n.Zo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Xo(e){return dp(this.persistence,new lp,e.initialUser,this.N)}Yo(e){return new Bf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kf.withCacheSize(this.cacheSizeBytes):kf.DEFAULT;return new rp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,tg(),ng(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Wp}}class gy extends py{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,xi.Z)(function*(){yield t().call(n,e);const r=n.Zo.syncEngine;n.sharedClientState instanceof Kp&&(n.sharedClientState.syncEngine={_i:ey.bind(null,r),mi:ay.bind(null,r),gi:cy.bind(null,r),pn:oy.bind(null,r),wi:Jm.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,xi.Z)(function*(e){yield function(e,t){return ny.apply(this,arguments)}(n.Zo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Ho(e){const t=tg();if(!Kp.bt(t))throw new ec(Xu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class my{initialize(e,t){var n=this;return(0,xi.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Nm(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=Gm.bind(null,n.syncEngine),yield Hg(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nm}createDatastore(e){const t=rg(e.databaseInfo.databaseId),n=new eg(e.databaseInfo);return function(e,t,n){return new ug(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Nm(this.syncEngine,e,0),s=Yp.bt()?new Yp:new Qp,new lg(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new bm(e,t,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xi.Z)(function*(e){const t=Ju(e);Hu("RemoteStore","RemoteStore shutting down."),t.Wr.add(5),yield fg(t),t.zr.shutdown(),t.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yy(e,t=10240){let n=0;return{read:()=>(0,xi.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,xi.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wy{constructor(e,t){this.nc=e,this.N=t,this.metadata=new tc,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(e=>{e&&e.wo()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,xi.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,xi.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,xi.Z)(function*(){const t=yield e.rc();if(null===t)return null;const n=e.sc.decode(t),r=Number(n);isNaN(r)&&e.oc(`length string (${n}) is not valid number`);const i=yield e.cc(r);return new hm(JSON.parse(i),t.length+r)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,xi.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}cc(e){var t=this;return(0,xi.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const n=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,xi.Z)(function*(){const t=yield e.nc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class by{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xi.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ec(Xu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,xi.Z)(function*(e,t){const n=Ju(e),r=nd(n.N)+"/documents",i={documents:t.map(e=>Jh(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Yu(!!t.found);const n=Xh(e,t.found.name),r=Wh(t.found.updateTime),i=new Qc({mapValue:{fields:t.found.fields}});return Jc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yu(!!t.missing),Yu(!!t.readTime);const n=Xh(e,t.missing),r=Wh(t.readTime);return Jc.newNoDocument(n,r)}(e,t):Qu()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Yu(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new dh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xi.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Lc.fromPath(n);e.mutations.push(new fh(r,e.precondition(r)))}),yield(n=(0,xi.Z)(function*(e,t){const n=Ju(e),r=nd(n.N)+"/documents",i={writes:t.map(e=>od(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qu();t=gc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ec(Xu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Xl.updateTime(t):Xl.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gc.min()))throw new ec(Xu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xl.updateTime(t)}return Xl.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _y{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new ig(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,xi.Z)(function*(){const t=new by(e.datastore),n=e.fc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.dc(t)}))}).catch(t=>{e.dc(t)})}))}fc(e){try{const t=this.updateFunction(e);return!Oc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!yh(t)}return!1}}class Iy{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=$u.UNAUTHENTICATED,this.clientId=lc.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,xi.Z)(function*(e){Hu("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,xi.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ec(Xu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xi.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=Yg(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Ty(e,t){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,xi.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Hu("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,xi.Z)(function*(e){r.isEqual(e)||(yield fp(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Sy(e,t){return ky.apply(this,arguments)}function ky(){return(ky=(0,xi.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield Cy(e);Hu("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,xi.Z)(function*(e,t){const n=Ju(e);n.asyncQueue.verifyOperationInProgress(),Hu("RemoteStore","RemoteStore received new credentials");const r=_g(n);n.Wr.add(3),yield fg(n),r&&n.Hr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Wr.delete(3),yield hg(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function Cy(e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,xi.Z)(function*(e){return e.offlineComponents||(Hu("FirestoreClient","Using default OfflineComponentProvider"),yield Ty(e,new fy)),e.offlineComponents})).apply(this,arguments)}function xy(e){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,xi.Z)(function*(e){return e.onlineComponents||(Hu("FirestoreClient","Using default OnlineComponentProvider"),yield Sy(e,new my)),e.onlineComponents})).apply(this,arguments)}function Ry(e){return Cy(e).then(e=>e.persistence)}function Oy(e){return Cy(e).then(e=>e.localStore)}function Dy(e){return xy(e).then(e=>e.remoteStore)}function Py(e){return xy(e).then(e=>e.syncEngine)}function Ly(e){return My.apply(this,arguments)}function My(){return(My=(0,xi.Z)(function*(e){const t=yield xy(e),n=t.eventManager;return n.onListen=_m.bind(null,t.syncEngine),n.onUnlisten=Sm.bind(null,t.syncEngine),n})).apply(this,arguments)}function Fy(e,t,n={}){const r=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t,n,r,i){const s=new vy({next:s=>{t.enqueueAndForget(()=>sm(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ec(Xu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ec(Xu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new lm(_l(n.path),s,{includeMetadataChanges:!0,fo:!0});return rm(e,o)}(yield Ly(e),e.asyncQueue,t,n,r)})),r.promise}function Uy(e,t,n={}){const r=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t,n,r,i){const s=new vy({next:n=>{t.enqueueAndForget(()=>sm(e,o)),n.fromCache&&"server"===r.source?i.reject(new ec(Xu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new lm(n,s,{includeMetadataChanges:!0,fo:!0});return rm(e,o)}(yield Ly(e),e.asyncQueue,t,n,r)})),r.promise}class jy{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Vy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vy&&e.projectId===this.projectId&&e.database===this.database}}const qy=new Map;function $y(e,t,n){if(!n)throw new ec(Xu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function By(e,t,n,r){if(!0===t&&!0===r)throw new ec(Xu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zy(e){if(!Lc.isDocumentKey(e))throw new ec(Xu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zy(e){if(Lc.isDocumentKey(e))throw new ec(Xu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Qu()}function Gy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ec(Xu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hy(e);throw new ec(Xu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ky(e,t){if(t<=0)throw new ec(Xu.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Wy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ec(Xu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ec(Xu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,By("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,e instanceof Vy?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ec(Xu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vy(e.options.projectId)}(e))}get app(){if(!this._app)throw new ec(Xu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ec(Xu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new rc;switch(e.type){case"gapi":const t=e.client;return Yu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ac(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ec(Xu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qy.get(e);t&&(Hu("ComponentProvider","Removing Datastore"),qy.delete(e),t.terminate())}(this),Promise.resolve()}}class Yy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yy(this.firestore,e,this._key)}}class Jy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jy(this.firestore,e,this._query)}}class Xy extends Jy{constructor(e,t,n){super(e,t,_l(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yy(this.firestore,null,new Lc(e))}withConverter(e){return new Xy(this.firestore,e,this._path)}}function ev(e,t,...n){if(e=(0,Di.m9)(e),$y("collection","path",t),e instanceof Qy){const r=bc.fromString(t,...n);return Zy(r),new Xy(e,null,r)}{if(!(e instanceof Yy||e instanceof Xy))throw new ec(Xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(bc.fromString(t,...n));return Zy(r),new Xy(e.firestore,null,r)}}function tv(e,t,...n){if(e=(0,Di.m9)(e),1===arguments.length&&(t=lc.I()),$y("doc","path",t),e instanceof Qy){const r=bc.fromString(t,...n);return zy(r),new Yy(e,null,new Lc(r))}{if(!(e instanceof Yy||e instanceof Xy))throw new ec(Xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(bc.fromString(t,...n));return zy(r),new Yy(e.firestore,e instanceof Xy?e.converter:null,new Lc(r))}}function nv(e,t){return e=(0,Di.m9)(e),t=(0,Di.m9)(t),(e instanceof Yy||e instanceof Xy)&&(t instanceof Yy||t instanceof Xy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rv(e,t){return e=(0,Di.m9)(e),t=(0,Di.m9)(t),e instanceof Jy&&t instanceof Jy&&e.firestore===t.firestore&&Nl(e._query,t._query)&&e.converter===t.converter}class iv{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new ig(this,"async_queue_retry"),this.Rc=()=>{const e=ng();e&&Hu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new tc;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,xi.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(Gi){if(!Qd(Gi))throw Gi;Hu("AsyncQueue","Operation failed with retryable error: "+Gi)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(e=>{throw this.Tc=e,this.Ec=!1,Gu("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ec=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const r=Qg.createAndSchedule(this,e,t,n,e=>this.Vc(e));return this.yc.push(r),r}bc(){this.Tc&&Qu()}verifyOperationInProgress(){}Sc(){var e=this;return(0,xi.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function sv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class ov{constructor(){this._progressObserver={},this._taskCompletionResolver=new tc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class av extends Qy{constructor(e,t){super(e,t),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cv(this),this._firestoreClient.terminate()}}function uv(e){return e._firestoreClient||cv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cv(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new jy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Iy(e._credentials,e._queue,r)}function lv(e,t,n){const r=new tc;return e.asyncQueue.enqueue((0,xi.Z)(function*(){try{yield Ty(e,n),yield Sy(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Xu.FAILED_PRECONDITION||e.code===Xu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function hv(e){if(e._initialized||e._terminated)throw new ec(Xu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ec(Xu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ic(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fv(Ec.fromBase64String(e))}catch(e){throw new ec(Xu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fv(Ec.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pv{constructor(e){this._methodName=e}}class gv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ec(Xu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ec(Xu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hc(this._lat,e._lat)||hc(this._long,e._long)}}const mv=/^__.*__$/;class yv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ah(e,this.data,t,this.fieldTransforms)}}class vv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qu()}}class bv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}Lc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Vv(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(wv(this.kc)&&mv.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class _v{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||rg(e)}jc(e,t,n,r=!1){return new bv({kc:e,methodName:t,Kc:n,path:Ic.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Iv(e){const t=e._freezeSettings(),n=rg(e._databaseId);return new _v(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tv(e,t,n,r,i,s={}){const o=e.jc(s.merge||s.mergeFields?2:0,t,n,i);Mv("Data must be an object, but it was:",o,r);const a=Pv(r,o);let u,c;if(s.merge)u=new Tc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Fv(t,r,n);if(!o.contains(i))throw new ec(Xu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qv(e,i)||e.push(i)}u=new Tc(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new yv(new Qc(a),u,c)}class Ev extends pv{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ev}}function Sv(e,t,n){return new bv({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class kv extends pv{_toFieldTransform(e){return new Yl(e.path,new Bl)}isEqual(e){return e instanceof kv}}class Cv extends pv{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Sv(this,e,!0),n=this.Qc.map(e=>Dv(e,t)),r=new zl(n);return new Yl(e.path,r)}isEqual(e){return this===e}}class Av extends pv{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Sv(this,e,!0),n=this.Qc.map(e=>Dv(e,t)),r=new Hl(n);return new Yl(e.path,r)}isEqual(e){return this===e}}class xv extends pv{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Kl(e.N,Ul(e.N,this.Wc));return new Yl(e.path,t)}isEqual(e){return this===e}}function Nv(e,t,n,r){const i=e.jc(1,t,n);Mv("Data must be an object, but it was:",i,r);const s=[],o=Qc.empty();yc(r,(e,r)=>{const a=jv(t,e,n);r=(0,Di.m9)(r);const u=i.Lc(a);if(r instanceof Ev)s.push(a);else{const e=Dv(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Tc(s);return new vv(o,a,i.fieldTransforms)}function Rv(e,t,n,r,i,s){const o=e.jc(1,t,n),a=[Fv(t,r,n)],u=[i];if(s.length%2!=0)throw new ec(Xu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Fv(t,s[d])),u.push(s[d+1]);const c=[],l=Qc.empty();for(let d=a.length-1;d>=0;--d)if(!qv(c,a[d])){const e=a[d];let t=u[d];t=(0,Di.m9)(t);const n=o.Lc(e);if(t instanceof Ev)c.push(e);else{const r=Dv(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new Tc(c);return new vv(l,h,o.fieldTransforms)}function Ov(e,t,n,r=!1){return Dv(n,e.jc(r?4:3,t))}function Dv(e,t){if(Lv(e=(0,Di.m9)(e)))return Mv("Unsupported field value:",t,e),Pv(e,t);if(e instanceof pv)return function(e,t){if(!wv(t.kc))throw t.Uc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Uc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dv(i,t.Bc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Di.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ul(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pc.fromDate(e);return{timestampValue:Hh(t.N,n)}}if(e instanceof pc){const n=new pc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hh(t.N,n)}}if(e instanceof gv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fv)return{bytesValue:Gh(t.N,e._byteString)};if(e instanceof Yy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Qh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc(`Unsupported field value: ${Hy(e)}`)}(e,t)}function Pv(e,t){const n={};return vc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,(e,r)=>{const i=Dv(r,t.Oc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Lv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pc||e instanceof gv||e instanceof fv||e instanceof Yy||e instanceof pv)}function Mv(e,t,n){if(!Lv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hy(n);throw t.Uc("an object"===r?e+" a custom object":e+" "+r)}}function Fv(e,t,n){if((t=(0,Di.m9)(t))instanceof dv)return t._internalPath;if("string"==typeof t)return jv(e,t);throw Vv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Uv=new RegExp("[~\\*/\\[\\]]");function jv(e,t,n){if(t.search(Uv)>=0)throw Vv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dv(...t.split("."))._internalPath}catch(r){throw Vv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ec(Xu.INVALID_ARGUMENT,a+e+u)}function qv(e,t){return e.some(e=>e.isEqual(t))}class $v{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bv extends $v{data(){return super.data()}}function zv(e,t){return"string"==typeof t?jv(e,t):t instanceof dv?t._internalPath:t._delegate._internalPath}class Zv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hv extends $v{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gv extends Hv{data(e={}){return super.data(e)}}class Kv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Gv(this._firestore,this._userDataWriter,n.key,n,new Zv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ec(Xu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Gv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Zv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Gv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wv(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qu()}}function Qv(e,t){return e instanceof Hv&&t instanceof Hv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kv&&t instanceof Kv&&e._firestore===t._firestore&&rv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Yv(e){if(Tl(e)&&0===e.explicitOrderBy.length)throw new ec(Xu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}function Xv(e,...t){for(const n of t)e=n._apply(e);return e}class ew extends Jv{constructor(e,t,n){super(),this.Gc=e,this.zc=t,this.Hc=n,this.type="where"}_apply(e){const t=Iv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ec(Xu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){aw(o,s);const t=[];for(const n of o)t.push(ow(r,e,n));a={arrayValue:{values:t}}}else a=ow(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||aw(o,s),a=Ov(n,"where",o,"in"===s||"not-in"===s);const u=il.create(i,s,a);return function(e,t){if(t.v()){const n=Sl(e);if(null!==n&&!n.isEqual(t.field))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=El(e);null!==r&&uw(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new ec(Xu.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Jy(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class tw extends Jv{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ec(Xu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ec(Xu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new gl(t,n);return function(e,t){if(null===El(e)){const n=Sl(e);null!==n&&uw(0,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new Jy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new wl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class nw extends Jv{constructor(e,t,n){super(),this.type=e,this.Yc=t,this.Xc=n}_apply(e){return new Jy(e.firestore,e.converter,xl(e._query,this.Yc,this.Xc))}}class rw extends Jv{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=sw(e,this.type,this.Zc,this.ta);return new Jy(e.firestore,e.converter,function(e,t){return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class iw extends Jv{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=sw(e,this.type,this.Zc,this.ta);return new Jy(e.firestore,e.converter,function(e,t){return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function sw(e,t,n,r){if(n[0]=(0,Di.m9)(n[0]),n[0]instanceof $v)return function(e,t,n,r,i){if(!r)throw new ec(Xu.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Cl(e))if(o.field.isKeyField())s.push(Bc(t,r.key));else{const e=r.data.field(o.field);if(xc(e))throw new ec(Xu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new fl(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Iv(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ec(Xu.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!kl(e)&&-1!==s.indexOf("/"))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(bc.fromString(s));if(!Lc.isDocumentKey(n))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Lc(n);a.push(Bc(t,i))}else{const e=Ov(n,r,s);a.push(e)}}return new fl(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ow(e,t,n){if("string"==typeof(n=(0,Di.m9)(n))){if(""===n)throw new ec(Xu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(t)&&-1!==n.indexOf("/"))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(bc.fromString(n));if(!Lc.isDocumentKey(r))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bc(e,new Lc(r))}if(n instanceof Yy)return Bc(e,n._key);throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hy(n)}.`)}function aw(e,t){if(!Array.isArray(e)||0===e.length)throw new ec(Xu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ec(Xu.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function uw(e,t,n){if(!n.isEqual(t))throw new ec(Xu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cw{convertValue(e,t="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qu()}}convertObject(e,t){const n={};return yc(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new gv(Cc(e.latitude),Cc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=kc(e);return new pc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bc.fromString(e);Yu(_d(n));const r=new Vy(n.get(1),n.get(3)),i=new Lc(n.popFirst(5));return r.isEqual(t)||Gu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function lw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hw extends cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yy(this.firestore,null,t)}}class dw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iv(e)}set(e,t,n){this._verifyNotCommitted();const r=fw(e,this._firestore),i=lw(r.converter,t,n),s=Tv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Xl.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=fw(e,this._firestore);let s;return s="string"==typeof(t=(0,Di.m9)(t))||t instanceof dv?Rv(this._dataReader,"WriteBatch.update",i._key,t,n,r):Nv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Xl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fw(e,this._firestore);return this._mutations=this._mutations.concat(new dh(t._key,Xl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ec(Xu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fw(e,t){if((e=(0,Di.m9)(e)).firestore!==t)throw new ec(Xu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class pw extends cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yy(this.firestore,null,t)}}function gw(e,t,n){e=Gy(e,Yy);const r=Gy(e.firestore,av),i=lw(e.converter,t,n);return vw(r,[Tv(Iv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xl.none())])}function mw(e,t,n,...r){e=Gy(e,Yy);const i=Gy(e.firestore,av),s=Iv(i);let o;return o="string"==typeof(t=(0,Di.m9)(t))||t instanceof dv?Rv(s,"updateDoc",e._key,t,n,r):Nv(s,"updateDoc",e._key,t),vw(i,[o.toMutation(e._key,Xl.exists(!0))])}function yw(e,...t){var n,r,i;e=(0,Di.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||sv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(sv(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof Yy)c=Gy(e.firestore,av),l=_l(e._key.path),u={next:n=>{t[o]&&t[o](ww(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Gy(e,Jy);c=Gy(n.firestore,av),l=n._query;const r=new pw(c);u={next:e=>{t[o]&&t[o](new Kv(c,r,n,e))},error:t[o+1],complete:t[o+2]},Yv(e._query)}return function(e,t,n,r){const i=new vy(r),s=new lm(t,i,n);return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return rm(yield Ly(e),s)})),()=>{i.ec(),e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return sm(yield Ly(e),s)}))}}(uv(c),l,a,u)}function vw(e,t){return function(e,t){const n=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t,n){return Cm.apply(this,arguments)}(yield Py(e),t,n)})),n.promise}(uv(e),t)}function ww(e,t,n){const r=n.docs.get(t._key),i=new pw(e);return new Hv(e,i,t._key,r,new Zv(n.hasPendingWrites,n.fromCache),t.converter)}class bw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Iv(e)}get(e){const t=fw(e,this._firestore),n=new hw(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Qu();const r=e[0];if(r.isFoundDocument())return new $v(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $v(this._firestore,n,t._key,null,t.converter);throw Qu()})}set(e,t,n){const r=fw(e,this._firestore),i=lw(r.converter,t,n),s=Tv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=fw(e,this._firestore);let s;return s="string"==typeof(t=(0,Di.m9)(t))||t instanceof dv?Rv(this._dataReader,"Transaction.update",i._key,t,n,r):Nv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=fw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fw(e,this._firestore),n=new pw(this._firestore);return super.get(e).then(e=>new Hv(this._firestore,n,t._key,e._document,new Zv(!1,!1),t.converter))}}function _w(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ec("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Iw(){if("undefined"==typeof Uint8Array)throw new ec("unimplemented","Uint8Arrays are not available in this environment.")}function Tw(){if("undefined"==typeof atob)throw new ec("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Bu=e}(Ni.SDK_VERSION),(0,Ni._registerComponent)(new Ri.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new av(r,new sc(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,Ni.registerVersion)(qu,"3.3.0",e),(0,Ni.registerVersion)(qu,"3.3.0","esm2017")}();class Ew{constructor(e){this._delegate=e}static fromBase64String(e){return Tw(),new Ew(fv.fromBase64String(e))}static fromUint8Array(e){return Iw(),new Ew(fv.fromUint8Array(e))}toBase64(){return Tw(),this._delegate.toBase64()}toUint8Array(){return Iw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class kw{enableIndexedDbPersistence(e,t){return function(e,t){hv(e=Gy(e,av));const n=uv(e),r=e._freezeSettings(),i=new my;return lv(n,i,new py(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){hv(e=Gy(e,av));const t=uv(e),n=e._freezeSettings(),r=new my;return lv(t,r,new gy(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ec(Xu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new tc;return e._queue.enqueueAndForgetEvenWhileRestricted((0,xi.Z)(function*(){try{yield(n=(0,xi.Z)(function*(e){if(!Gd.bt())return Promise.resolve();const t=e+"main";yield Gd.delete(t)}),function(e){return n.apply(this,arguments)})(op(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class Cw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ku("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Gy(e,Qy))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ku("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=$u.MOCK_USER;else{t=(0,Di.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ec(Xu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $u(s)}e._credentials=new ic(new nc(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,xi.Z)(function*(){const t=yield Ry(e),n=yield Dy(e);return t.setNetworkEnabled(!0),function(e){const t=Ju(e);return t.Wr.delete(0),hg(t)}(n)}))}(uv(e=Gy(e,av)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,xi.Z)(function*(){const t=yield Ry(e),n=yield Dy(e);return t.setNetworkEnabled(!1),(r=(0,xi.Z)(function*(e){const t=Ju(e);t.Wr.add(0),yield fg(t),t.Hr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(uv(e=Gy(e,av)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,By("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t){return Fm.apply(this,arguments)}(yield Py(e),t)})),t.promise}(uv(e=Gy(e,av)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new vy(t);return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t){Ju(e).so.add(t),t.next()}(yield Ly(e),n)})),()=>{n.ec(),e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return function(e,t){Ju(e).so.delete(t)}(yield Ly(e),n)}))}}(uv(e=Gy(e,av)),sv(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ec("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qw(this,ev(this._delegate,e))}catch(t){throw Dw(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ow(this,tv(this._delegate,e))}catch(t){throw Dw(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uw(this,function(e,t){if(e=Gy(e,Qy),$y("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ec(Xu.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jy(e,null,function(e){return new wl(bc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Dw(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){const r=yield function(e){return xy(e).then(e=>e.datastore)}(e);new _y(e.asyncQueue,r,t,n).run()})),n.promise}(uv(e=Gy(e,av)),n=>t(new bw(e,n)))}(this._delegate,t=>e(new xw(this,t)))}batch(){return uv(this._delegate),new Nw(new dw(this._delegate,e=>vw(this._delegate,e)))}loadBundle(e){return function(e,t){const n=uv(e=Gy(e,av)),r=new ov;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new wy(e,t)}(function(e,t){if(e instanceof Uint8Array)return yy(e,t);if(e instanceof ArrayBuffer)return yy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,rg(t));e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){!function(e,t,n){const r=Ju(e);var i;(i=(0,xi.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Ju(e),r=Wh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(pm(r));const i=new fm(r,e.localStore,t.N);let s=yield t.zo();for(;s;){const e=yield i.mo(s);e&&n._updateProgress(e),s=yield t.zo()}const o=yield i.complete();yield Zm(e,o.En,void 0),yield function(e,t){const n=Ju(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Ku("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Py(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,xi.Z)(function*(){return function(e,t){const n=Ju(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield Oy(e),t)}))}(uv(e=Gy(e,av)),t).then(t=>t?new Jy(e,null,t.query):null)}(this._delegate,e).then(e=>e?new Uw(this,e):null)}}class Aw extends cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ew(new fv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ow.forKey(t,this.firestore,null)}}class xw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}get(e){const t=$w(e);return this._delegate.get(t).then(e=>new Mw(this._firestore,new Hv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=$w(e);return n?(_w("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=$w(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=$w(e);return this._delegate.delete(t),this}}class Nw{constructor(e){this._delegate=e}set(e,t,n){const r=$w(e);return n?(_w("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=$w(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=$w(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let Rw=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Gv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fw(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new Aw(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class Ow{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}static forPath(e,t,n){if(e.length%2!=0)throw new ec("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ow(t,new Yy(t._delegate,n,new Lc(e)))}static forKey(e,t,n){return new Ow(t,new Yy(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qw(this.firestore,ev(this._delegate,e))}catch(t){throw Dw(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Di.m9)(e))instanceof Yy&&nv(this._delegate,e)}set(e,t){t=_w("DocumentReference.set",t);try{return t?gw(this._delegate,e,t):gw(this._delegate,e)}catch(n){throw Dw(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?mw(this._delegate,e):mw(this._delegate,e,t,...n)}catch(r){throw Dw(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return vw(Gy(e.firestore,av),[new dh(e._key,Xl.none())])}(this._delegate)}onSnapshot(...e){const t=Pw(e),n=Lw(e,e=>new Mw(this.firestore,new Hv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return yw(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Gy(e,Yy);const t=Gy(e.firestore,av),n=uv(t),r=new pw(t);return function(e,t){const n=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return(r=(0,xi.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Ju(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ec(Xu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Yg(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Oy(e),t,n);var r})),n.promise}(n,e._key).then(n=>new Hv(t,r,e._key,n,new Zv(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gy(e,Yy);const t=Gy(e.firestore,av);return Fy(uv(t),e._key,{source:"server"}).then(n=>ww(t,e,n))}(this._delegate):function(e){e=Gy(e,Yy);const t=Gy(e.firestore,av);return Fy(uv(t),e._key).then(n=>ww(t,e,n))}(this._delegate),t.then(e=>new Mw(this.firestore,new Hv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Ow(this.firestore,this._delegate.withConverter(e?Rw.getInstance(this.firestore,e):null))}}function Dw(e,t,n){return e.message=e.message.replace(t,n),e}function Pw(e){for(const t of e)if("object"==typeof t&&!Sw(t))return t;return{}}function Lw(e,t){var n,r;let i;return i=Sw(e[0])?e[0]:Sw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Mw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ow(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qv(this._delegate,e._delegate)}}class Fw extends Mw{data(e){const t=this._delegate.data(e);return function(e,t){e||Qu()}(void 0!==t),t}}class Uw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}where(e,t,n){try{return new Uw(this.firestore,Xv(this._delegate,function(e,t,n){const r=t,i=zv("where",e);return new ew(i,r,n)}(e,t,n)))}catch(r){throw Dw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Uw(this.firestore,Xv(this._delegate,function(e,t="asc"){const n=t,r=zv("orderBy",e);return new tw(r,n)}(e,t)))}catch(n){throw Dw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uw(this.firestore,Xv(this._delegate,function(e){return Ky("limit",e),new nw("limit",e,"F")}(e)))}catch(t){throw Dw(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Uw(this.firestore,Xv(this._delegate,function(e){return Ky("limitToLast",e),new nw("limitToLast",e,"L")}(e)))}catch(t){throw Dw(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Uw(this.firestore,Xv(this._delegate,function(...e){return new rw("startAt",e,!0)}(...e)))}catch(t){throw Dw(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uw(this.firestore,Xv(this._delegate,function(...e){return new rw("startAfter",e,!1)}(...e)))}catch(t){throw Dw(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uw(this.firestore,Xv(this._delegate,function(...e){return new iw("endBefore",e,!0)}(...e)))}catch(t){throw Dw(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uw(this.firestore,Xv(this._delegate,function(...e){return new iw("endAt",e,!1)}(...e)))}catch(t){throw Dw(t,"endAt()","Query.endAt()")}}isEqual(e){return rv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Gy(e,Jy);const t=Gy(e.firestore,av),n=uv(t),r=new pw(t);return function(e,t){const n=new tc;return e.asyncQueue.enqueueAndForget((0,xi.Z)(function*(){return(r=(0,xi.Z)(function*(e,t,n){try{const r=yield Tp(e,t,!0),i=new ym(t,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Yg(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Oy(e),t,n);var r})),n.promise}(n,e._query).then(n=>new Kv(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gy(e,Jy);const t=Gy(e.firestore,av),n=uv(t),r=new pw(t);return Uy(n,e._query,{source:"server"}).then(n=>new Kv(t,r,e,n))}(this._delegate):function(e){e=Gy(e,Jy);const t=Gy(e.firestore,av),n=uv(t),r=new pw(t);return Yv(e._query),Uy(n,e._query).then(n=>new Kv(t,r,e,n))}(this._delegate),t.then(e=>new Vw(this.firestore,new Kv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Pw(e),n=Lw(e,e=>new Vw(this.firestore,new Kv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return yw(this._delegate,t,n)}withConverter(e){return new Uw(this.firestore,this._delegate.withConverter(e?Rw.getInstance(this.firestore,e):null))}}class jw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Uw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new jw(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Fw(this._firestore,n))})}isEqual(e){return Qv(this._delegate,e._delegate)}}class qw extends Uw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ow(this.firestore,e):null}doc(e){try{return new Ow(this.firestore,void 0===e?tv(this._delegate):tv(this._delegate,e))}catch(t){throw Dw(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Gy(e.firestore,av),r=tv(e),i=lw(e.converter,t);return vw(n,[Tv(Iv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xl.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Ow(this.firestore,e))}isEqual(e){return nv(this._delegate,e._delegate)}withConverter(e){return new qw(this.firestore,this._delegate.withConverter(e?Rw.getInstance(this.firestore,e):null))}}function $w(e){return Gy(e,Yy)}class Bw{constructor(...e){this._delegate=new dv(...e)}static documentId(){return new Bw(Ic.keyField().canonicalString())}isEqual(e){return(e=(0,Di.m9)(e))instanceof dv&&this._delegate._internalPath.isEqual(e._internalPath)}}class zw{constructor(e){this._delegate=e}static serverTimestamp(){const e=new kv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new zw(e)}static delete(){const e=new Ev("deleteField");return e._methodName="FieldValue.delete",new zw(e)}static arrayUnion(...e){const t=function(...e){return new Cv("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new zw(t)}static arrayRemove(...e){const t=function(...e){return new Av("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new zw(t)}static increment(e){const t=function(e){return new xv("increment",e)}(e);return t._methodName="FieldValue.increment",new zw(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Zw={Firestore:Cw,GeoPoint:gv,Timestamp:pc,Blob:Ew,Transaction:xw,WriteBatch:Nw,DocumentReference:Ow,DocumentSnapshot:Mw,Query:Uw,QueryDocumentSnapshot:Fw,QuerySnapshot:Vw,CollectionReference:qw,FieldPath:Bw,FieldValue:zw,setLogLevel:function(e){!function(e){zu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Hw,Gw;Gw=(e,t)=>new Cw(e,t,new kw),(Hw=Ai.Z).INTERNAL.registerComponent(new Ri.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Gw(t,n)},"PUBLIC").setServiceProps(Object.assign({},Zw))),Hw.registerVersion("@firebase/firestore-compat","0.1.7");var Kw=n(1906),Ww=n(9098),Qw=n(8489),Yw=n(9291);class Jw extends he.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Xw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new de.N;if(this.isStopped||this.hasError?s=ft.w.EMPTY:(this.observers.push(e),s=new Yw.W(this,e)),r&&e.add(e=new Ww.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Qw.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class Xw{constructor(e,t){this.time=e,this.value=t}}function eb(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Jw(e,t,r),l=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function tb(e,t){return t?Pe(()=>e,t):Pe(()=>e)}var nb=n(2893),rb=n(2293);function ib(e=0,t,n){let r=-1;return(0,rb.k)(t)?r=Number(t)<1?1:Number(t):(0,pe.K)(t)&&(n=t),(0,pe.K)(n)||(n=bi.P),new be.y(t=>{const i=(0,rb.k)(e)?e:+e-n.now();return n.schedule(sb,i,{index:0,period:r,subscriber:t})})}function sb(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function ob(e,t){return n=>n.lift(new ab(e,t))}class ab{constructor(e,t){this.keySelector=e,this.flushes=t}call(e,t){return t.subscribe(new ub(e,this.keySelector,this.flushes))}}class ub extends De.Ds{constructor(e,t,n){super(e),this.keySelector=t,this.values=new Set,n&&this.add((0,De.ft)(n,new De.IY(this)))}notifyNext(){this.values.clear()}notifyError(e){this._error(e)}_next(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}_useKeySelector(e){let t;const{destination:n}=this;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)}_finalizeNext(e,t){const{values:n}=this;n.has(e)||(n.add(e),this.destination.next(t))}}var cb=n(1858);ib(0,300).pipe(Je(()=>(0,ce.D)((0,cb.C6)())),ob()),new r.OlP("angularfire2._apps"),new r.FiY,new r.FiY,(0,_i.u3)(cb.P2,!0),(0,_i.u3)(cb.Mq,!0),(0,_i.u3)(cb.C6,!0),(0,_i.u3)(cb.ZF,!0),(0,_i.u3)(cb.TP,!0),(0,_i.u3)(cb.KN,!0),(0,_i.u3)(cb.Ub,!0);const lb=new Map,hb={activated:!1,tokenObservers:[]},db={initialized:!1,enabled:!1};function fb(e){return lb.get(e)||hb}function pb(e,t){lb.set(e,t)}function gb(){return db}class mb{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xi.Z)(function*(){t.stop();try{t.pending=new Di.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Di.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const yb=new Di.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function vb(e){if(!fb(e).activated)throw yb.create("use-before-activation",{appName:e.name})}function wb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function bb(e,t){return _b.apply(this,arguments)}function _b(){return(_b=(0,xi.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw yb.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw yb.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw yb.create("fetch-parse-error",{originalErrorMessage:h.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yb.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function Ib(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Tb="firebase-app-check-store",Eb="debug-token";let Sb=null;function kb(){return Sb||(Sb=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(yb.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Tb,{keyPath:"compositeKey"})}}}catch(n){t(yb.create("storage-open",{originalErrorMessage:n.message}))}}),Sb)}function Cb(e){return Ob(Pb(e))}function Ab(e){return Nb(Eb,e)}function xb(){return Ob(Eb)}function Nb(e,t){return Rb.apply(this,arguments)}function Rb(){return(Rb=(0,xi.Z)(function*(e,t){const n=(yield kb()).transaction(Tb,"readwrite"),r=n.objectStore(Tb).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(yb.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function Ob(e){return Db.apply(this,arguments)}function Db(){return(Db=(0,xi.Z)(function*(e){const t=(yield kb()).transaction(Tb,"readonly"),n=t.objectStore(Tb).get(e);return new Promise((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(yb.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})})).apply(this,arguments)}function Pb(e){return`${e.options.appId}-${e.name}`}const Lb=new Oi.Yd("@firebase/app-check");function Mb(){return(Mb=(0,xi.Z)(function*(e){if((0,Di.hl)()){let n;try{n=yield Cb(e)}catch(t){Lb.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return n}})).apply(this,arguments)}function Fb(e,t){return(0,Di.hl)()?function(e,t){return Nb(Pb(e),t)}(e,t).catch(e=>{Lb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ub(){return(Ub=(0,xi.Z)(function*(){let e;try{e=yield xb()}catch(Il){}if(e)return e;{const e=wb();return Ab(e).catch(e=>Lb.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`)),e}})).apply(this,arguments)}function jb(){return gb().enabled}function Vb(){return qb.apply(this,arguments)}function qb(){return(qb=(0,xi.Z)(function*(){const e=gb();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $b={error:"UNKNOWN_ERROR"};function Bb(e){return zb.apply(this,arguments)}function zb(){return(zb=(0,xi.Z)(function*(e,t=!1){const n=e.app;vb(n);const r=fb(n);let i,s,o=r.token;if(!o){const e=yield r.cachedTokenPromise;e&&Kb(e)&&(o=e,pb(n,Object.assign(Object.assign({},r),{token:o})),Gb(n,{token:o.token}))}if(!t&&o&&Kb(o))return{token:o.token};if(jb()){const t=yield bb(Ib(n,yield Vb()),e.platformLoggerProvider);return yield Fb(n,t),pb(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{o=yield r.provider.getToken()}catch(a){Lb.error(a),i=a}return o?(s={token:o.token},pb(n,Object.assign(Object.assign({},r),{token:o})),yield Fb(n,o)):s=Wb(i),Gb(n,s),s})).apply(this,arguments)}function Zb(e,t,n,r){const{app:i}=e,s=fb(i),o={next:n,error:r,type:t},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const t=function(e){const{app:t}=e;return new mb((0,xi.Z)(function*(){let n;if(n=fb(t).token?yield Bb(e,!0):yield Bb(e),n.error)throw n.error}),()=>!0,()=>{const e=fb(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e);a.tokenRefresher=t}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&Kb(s.token)){const e=s.token;Promise.resolve().then(()=>n({token:e.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(e=>{e&&Kb(e)&&n({token:e.token})}).catch(()=>{});pb(i,a)}function Hb(e,t){const n=fb(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),pb(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Gb(e,t){const n=fb(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Kb(e){return e.expireTimeMillis-Date.now()>0}function Wb(e){return{token:(t=$b,Di.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class Qb{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=fb(this.app);for(const t of e)Hb(this.app,t.next);return Promise.resolve()}}function Yb(){return(Yb=(0,xi.Z)(function*(e,t){const n=yield Bb(e,t);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}const Jb="app-check-internal";(0,Ni._registerComponent)(new Ri.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new Qb(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Jb).initialize()})),(0,Ni._registerComponent)(new Ri.wA(Jb,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>Bb(t,e),addTokenListener:e=>Zb(t,"INTERNAL",e),removeTokenListener:e=>Hb(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ni.registerVersion)("@firebase/app-check","0.5.1");const Xb="app-check";class e_{constructor(){return(0,_i.vb)(Xb)}}ib(0,300).pipe(Je(()=>(0,ce.D)((0,_i.vb)(Xb))),ob()),new r.OlP("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new r.FiY,new r.FiY,(0,_i.u3)(function(e,t){return Yb.apply(this,arguments)},!0),(0,_i.u3)(function(e=(0,Ni.getApp)(),t){e=(0,Di.m9)(e);const n=(0,Ni._getProvider)(e,"app-check");if(gb().initialized||function(){const e=(0,Di.Rd)(),t=gb();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new Di.BH;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return Ub.apply(this,arguments)}())}(),jb()&&Vb().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw yb.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=fb(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return Mb.apply(this,arguments)}(e).then(t=>(t&&Kb(t)&&pb(e,Object.assign(Object.assign({},fb(e)),{token:t})),t)),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,pb(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),r},!0),(0,_i.u3)(function(e,t,n,r){let i=()=>{},s=()=>{};return i=null!=t.next?t.next.bind(t):t,null!=t.error?s=t.error.bind(t):n&&(s=n),Zb(e,"EXTERNAL",i,s),()=>Hb(e.app,i)},!0),(0,_i.u3)(function(e,t){const n=e.app,r=fb(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),pb(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))},!0);var t_=n(9001);const n_=new r.OlP("angularfire2.auth.use-emulator"),r_=new r.OlP("angularfire2.auth.settings"),i_=new r.OlP("angularfire2.auth.tenant-id"),s_=new r.OlP("angularfire2.auth.langugage-code"),o_=new r.OlP("angularfire2.auth.use-device-language"),a_=new r.OlP("angularfire.auth.persistence"),u_=(e,t,n,r,i,s,o,a)=>(0,wi.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let c_=(()=>{class e{constructor(e,t,r,i,s,o,a,u,c,l,h,d){const f=new he.xQ,p=(0,le.of)(void 0).pipe((0,Ww.QV)(s.outsideAngular),Pe(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,14)))),(0,Oe.U)(()=>(0,wi.on)(e,i,t)),(0,Oe.U)(e=>u_(e,i,o,u,c,l,a,h)),eb({bufferSize:1,refCount:!1}));if(x(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,le.of)(null);else{p.pipe(lt()).subscribe();const e=p.pipe(Pe(e=>e.getRedirectResult().then(e=>e,()=>null)),_i.iC,eb({bufferSize:1,refCount:!1})),t=p.pipe(Pe(e=>new be.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Pe(e=>new be.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(tb(t),(0,nb.R)(s.outsideAngular),(0,Ww.QV)(s.insideAngular)),this.user=e.pipe(tb(n),(0,nb.R)(s.outsideAngular),(0,Ww.QV)(s.insideAngular)),this.idToken=this.user.pipe(Pe(e=>e?(0,ce.D)(e.getIdToken()):(0,le.of)(null))),this.idTokenResult=this.user.pipe(Pe(e=>e?(0,ce.D)(e.getIdTokenResult()):(0,le.of)(null))),this.credential=(0,Kw.T)(e,f,this.authState.pipe(Ze(e=>!e))).pipe((0,Oe.U)(e=>(null==e?void 0:e.user)?e:null),(0,nb.R)(s.outsideAngular),(0,Ww.QV)(s.insideAngular))}return(0,wi.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(wi.Dh),r.LFG(wi.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(_i.HU),r.LFG(n_,8),r.LFG(r_,8),r.LFG(i_,8),r.LFG(s_,8),r.LFG(o_,8),r.LFG(a_,8),r.LFG(e_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function l_(e,t){return function(e,t=bi.z){return new be.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function h_(e,t){return l_(e,t).pipe((0,Oe.U)(e=>({payload:e,type:"query"})))}function d_(e,t){return h_(e,t).pipe(qe(void 0),Ii(),(0,Oe.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function f_(e,t,n){return d_(e,n).pipe($e((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return p_(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return p_(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return p_(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new Si(void 0,void 0)),(0,Oe.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function p_(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function g_(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(0,wi.GT)(c_,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class m_{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=d_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Oe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(qe(void 0),Ii(),Ze(([e,t])=>t.length>0||!e),(0,Oe.U)(([e,t])=>t),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe($e((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=g_(e);return f_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),_i.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new y_(this.ref.doc(e),this.afs)}}class y_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=T_(n,t);return new m_(r,i,this.afs)}snapshotChanges(){return l_(this.ref,this.afs.schedulers.outsideAngular).pipe(qe(void 0),Ii(),(0,Oe.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Oe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ce.D)(this.ref.get(e)).pipe(_i.iC)}}class v_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?d_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Ze(e=>e.length>0),_i.iC):d_(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe($e((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=g_(e);return f_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),_i.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(_i.iC)}}const w_=new r.OlP("angularfire2.enableFirestorePersistence"),b_=new r.OlP("angularfire2.firestore.persistenceSettings"),__=new r.OlP("angularfire2.firestore.settings"),I_=new r.OlP("angularfire2.firestore.use-emulator");function T_(e,t=(e=>e)){return{query:t(e),ref:e}}let E_=(()=>{class e{constructor(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){this.schedulers=o;const y=(0,wi.on)(e,s,t),v=u;c&&u_(y,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!x(i)){const t=()=>{try{return(0,ce.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,le.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,le.of)(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=T_(n,t),s=this.schedulers.ngZone.run(()=>r);return new m_(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new v_(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new y_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(wi.Dh),r.LFG(wi.xv,8),r.LFG(w_,8),r.LFG(__,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(_i.HU),r.LFG(b_,8),r.LFG(I_,8),r.LFG(c_,8),r.LFG(n_,8),r.LFG(r_,8),r.LFG(i_,8),r.LFG(s_,8),r.LFG(o_,8),r.LFG(a_,8),r.LFG(e_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),S_=(()=>{class e{constructor(){t_.Z.registerVersion("angularfire",_i.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:w_,useValue:!0},{provide:b_,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[E_]}),e})();const k_={apiKey:"AIzaSyAe7ljanBIqAkIkAgX4tw35gI0v3GSnOUs",authDomain:"shirt-tracker.firebaseapp.com",projectId:"shirt-tracker",storageBucket:"shirt-tracker.appspot.com",messagingSenderId:"112850782186",appId:"1:112850782186:web:39805de8324c678d469493",measurementId:"G-CRCZB4CHQY"};let C_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[vi]}),e.\u0275inj=r.cJS({providers:[],imports:[[ue,gi,wi.hO.initializeApp(k_),S_]]}),e})();(0,r.G48)(),oe().bootstrapModule(C_).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})}},e=>{"use strict";e(e.s=6425)}]);