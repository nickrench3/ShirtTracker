(self.webpackChunkshirt_tracker=self.webpackChunkshirt_tracker||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7368:function(e,t,n){"use strict";n.d(t,{deG:function(){return vn},tb:function(){return zd},AFp:function(){return jd},ip1:function(){return Vd},CZH:function(){return Ud},hGG:function(){return Uf},z2F:function(){return xf},sBO:function(){return ph},Sil:function(){return nf},_Vd:function(){return Vl},EJc:function(){return Kd},SBq:function(){return Bl},qLn:function(){return ci},vpe:function(){return fd},gxx:function(){return fo},tBr:function(){return Gn},XFs:function(){return R},GSi:function(){return ba},OlP:function(){return yn},zs3:function(){return Ao},ZZ4:function(){return ah},aQg:function(){return ch},soG:function(){return Gd},LVF:function(){return Md},YKP:function(){return Eh},v3s:function(){return Of},h0i:function(){return Th},PXZ:function(){return Ef},R0b:function(){return of},FiY:function(){return Kn},Lbi:function(){return Zd},g9A:function(){return $d},Qsj:function(){return zl},FYo:function(){return Zl},JOm:function(){return yi},Tiy:function(){return Gl},q3G:function(){return Kr},tp0:function(){return Qn},EAV:function(){return Pf},Rgc:function(){return wh},dDg:function(){return ff},DyG:function(){return _n},q4F:function(){return Wl},GfV:function(){return Kl},s_b:function(){return Ch},ifc:function(){return V},eFA:function(){return Sf},G48:function(){return If},Gpc:function(){return g},X6Q:function(){return bf},_c5:function(){return Ff},VLi:function(){return mf},c2e:function(){return Hd},zSh:function(){return go},wAp:function(){return Ic},vHH:function(){return v},EiD:function(){return Hr},mCW:function(){return Ar},qzn:function(){return mr},JVY:function(){return vr},pB0:function(){return Ir},eBb:function(){return _r},L6k:function(){return wr},LAX:function(){return br},cg1:function(){return wc},Tjo:function(){return Mf},kL8:function(){return _c},yhl:function(){return yr},dqk:function(){return $},sIi:function(){return Bo},CqO:function(){return Ma},QGY:function(){return Pa},F4k:function(){return La},zlt:function(){return Vh},RDi:function(){return Ce},AaK:function(){return d},z3N:function(){return gr},qOj:function(){return Oo},TTD:function(){return _e},_Bn:function(){return Ll},xp6:function(){return ds},uIk:function(){return Qo},ekj:function(){return pu},Suo:function(){return kd},Xpm:function(){return ee},lG2:function(){return ue},Yz7:function(){return T},cJS:function(){return E},oAB:function(){return se},Yjl:function(){return ce},Y36:function(){return Ta},_UZ:function(){return xa},qZA:function(){return Aa},TgZ:function(){return ka},n5z:function(){return un},Ikx:function(){return pc},LFG:function(){return $n},$8M:function(){return ln},NdJ:function(){return Fa},CRH:function(){return Ad},Q6J:function(){return Sa},iGM:function(){return Sd},MAs:function(){return ma},LSH:function(){return Yr},kYT:function(){return oe},YNc:function(){return ga},_uU:function(){return Nu},Gf:function(){return Cd}});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function _(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function b(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${_(e)} found${n}`)}function I(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return C(e,A)||C(e,N)}function C(e,t){return e.hasOwnProperty(t)?e[t]:null}function k(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(O))?e[x]:null}const A=l({"\u0275prov":l}),x=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var R=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let D;function P(e){const t=D;return D=e,t}function L(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==t?t:void b(d(e),"Injector")}function M(e){return{toString:e}.toString()}var F=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),V=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const U="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,$=U||B||j||q,Z={},z=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Q=l({"\u0275loc":l}),Y=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let X=0;function ee(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||V.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=X++,n.inputs=ae(e.inputs,t),n.outputs=ae(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ne):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(re):null,n})}function te(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ne),r.pipeDefs=()=>n.map(re)}function ne(e){return le(e)||function(e){return e[G]||null}(e)}function re(e){return function(e){return e[K]||null}(e)}const ie={};function se(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ie[e.id]=e.type),t})}function oe(e,t){return M(()=>{const n=he(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function ae(e,t){if(null==e)return Z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ue=ee;function ce(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function le(e){return e[H]||null}function he(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function me(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(Y)?e[Y]:null}class we{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function _e(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Te),Ie}function Ie(){const e=Ee(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Te(e,t,n,r){const i=Ee(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new we(u&&u.currentValue,t,o===Z),e[r]=t}function Ee(e){return e.__ngSimpleChanges__||null}let Se;function Ce(e){Se=e}function ke(){return void 0!==Se?Se:"undefined"!=typeof document?document:void 0}function Ae(e){return!!e.listen}_e.ngInherit=!0;const xe={createRenderer:(e,t)=>ke()};function Ne(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return Ne(t[e])}function Re(e,t){return Ne(t[e.index])}function De(e,t){return e.data[t]}function Pe(e,t){return e[t]}function Le(e,t){const n=t[e];return de(n)?n:n[0]}function Me(e){return 4==(4&e[2])}function Fe(e){return 128==(128&e[2])}function Ve(e,t){return null==t?null:e[t]}function Ue(e){e[18]=0}function je(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const qe={lFrame:yt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Be(){return qe.bindingsEnabled}function $e(){qe.bindingsEnabled=!0}function Ze(){qe.bindingsEnabled=!1}function ze(){return qe.lFrame.lView}function He(){return qe.lFrame.tView}function Ge(e){return qe.lFrame.contextLView=e,e[8]}function Ke(){let e=We();for(;null!==e&&64===e.type;)e=e.parent;return e}function We(){return qe.lFrame.currentTNode}function Qe(){const e=qe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ye(e,t){const n=qe.lFrame;n.currentTNode=e,n.isParent=t}function Je(){return qe.lFrame.isParent}function Xe(){qe.lFrame.isParent=!1}function et(){return qe.isInCheckNoChangesMode}function tt(e){qe.isInCheckNoChangesMode=e}function nt(){const e=qe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function rt(){return qe.lFrame.bindingIndex}function it(e){return qe.lFrame.bindingIndex=e}function st(){return qe.lFrame.bindingIndex++}function ot(e){const t=qe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function at(e){qe.lFrame.inI18n=e}function ut(e,t){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=e,ct(t)}function ct(e){qe.lFrame.currentDirectiveIndex=e}function lt(e){const t=qe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ht(){return qe.lFrame.currentQueryIndex}function dt(e){qe.lFrame.currentQueryIndex=e}function ft(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function pt(e,t,n){if(n&R.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&R.Host||(r=ft(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=qe.lFrame=mt();return r.currentTNode=t,r.lView=e,!0}function gt(e){const t=mt(),n=e[1];qe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function mt(){const e=qe.lFrame,t=null===e?null:e.child;return null===t?yt(e):t}function yt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function vt(){const e=qe.lFrame;return qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wt=vt;function _t(){const e=vt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bt(){return qe.lFrame.selectedIndex}function It(e){qe.lFrame.selectedIndex=e}function Tt(){const e=qe.lFrame;return De(e.tView,e.selectedIndex)}function Et(){qe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function St(){qe.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function Ct(){qe.lFrame.currentNamespace=null}function kt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function At(e,t,n){Ot(e,t,3,n)}function xt(e,t,n,r){(3&e[2])===n&&Ot(e,t,n,r)}function Nt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ot(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Rt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Rt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Dt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Pt(e,t,n){const r=Ae(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Mt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Lt(e){return 3===e||4===e||6===e}function Mt(e){return 64===e.charCodeAt(0)}function Ft(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Vt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Vt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Ut(e){return-1!==e}function jt(e){return 32767&e}function qt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Bt=!0;function $t(e){const t=Bt;return Bt=e,t}let Zt=0;function zt(e,t){const n=Gt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ht(r.data,e),Ht(t,null),Ht(r.blueprint,null));const i=Kt(e,t),s=e.injectorIndex;if(Ut(i)){const e=jt(i),n=qt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Ht(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Wt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Zt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Qt(e,t,n){if(n&R.Optional)return e;b(t,"NodeInjector")}function Yt(e,t,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&R.Optional):L(t,r,n&R.Optional)}finally{P(s)}}return Qt(r,t,n)}function Jt(e,t,n,r=R.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(J)?e[J]:void 0;return"number"==typeof t?t>=0?255&t:en:t}(n);if("function"==typeof s){if(!pt(t,e,r))return r&R.Host?Qt(i,n,r):Yt(t,n,r,i);try{const e=s(r);if(null!=e||r&R.Optional)return e;b(n)}finally{wt()}}else if("number"==typeof s){let i=null,o=Gt(e,t),a=-1,u=r&R.Host?t[16][6]:null;for((-1===o||r&R.SkipSelf)&&(a=-1===o?Kt(e,t):t[o+8],-1!==a&&on(r,!1)?(i=t[1],o=jt(a),t=qt(a,t)):o=-1);-1!==o;){const e=t[1];if(sn(s,o,e.data)){const e=tn(o,t,n,i,r,u);if(e!==Xt)return e}a=t[o+8],-1!==a&&on(r,t[1].data[o+8]===u)&&sn(s,o,t)?(i=e,o=jt(a),t=qt(a,t)):o=-1}}}return Yt(t,n,r,i)}const Xt={};function en(){return new an(Ke(),ze())}function tn(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=nn(a,o,n,null==r?ge(a)&&Bt:r!=o&&0!=(3&a.type),i&R.Host&&s===a);return null!==u?rn(t,o,u,a):Xt}function nn(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&ye(e)&&e.type===n)return u}return null}function rn(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Dt){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(_(s[n]));const a=$t(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;pt(e,r,R.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&P(u),$t(a),o.resolving=!1,wt()}}return i}function sn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function on(e,t){return!(e&R.Self||e&R.Host&&t)}class an{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Jt(this._tNode,this._lView,e,void 0,t)}}function un(e){return M(()=>{const t=e.prototype.constructor,n=t[Y]||cn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Y]||cn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function cn(e){return y(e)?()=>{const t=cn(m(e));return t&&t()}:ve(e)}function ln(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Lt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Ke(),e)}const hn="__annotations__",dn="__parameters__";function fn(e,t,n,r,i){return M(()=>{const s=pn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(hn)?n[hn]:Object.defineProperty(n,hn,{value:[]})[hn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function pn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function gn(e,t,n){return M(()=>{const r=pn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(dn)?e[dn]:Object.defineProperty(e,dn,{value:[]})[dn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const mn=function(){return gn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>ln(e)}))}();class yn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vn=new yn("AnalyzeForEntryComponents");function wn(){const e=$.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const _n=Function;function bn(e){return"function"==typeof e}function In(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),In(r,t)):t!==e&&t.push(r)}return t}function Tn(e,t){e.forEach(e=>Array.isArray(e)?Tn(e,t):t(e))}function En(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Sn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Cn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function kn(e,t,n){let r=xn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function An(e,t){const n=xn(e,t);if(n>=0)return e[1|n]}function xn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Nn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,On=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Rn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Dn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Pn{constructor(e){this._reflect=e||$.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Cn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Nn.test(n)||Dn.test(n)||On.test(n)&&!Rn.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Ln(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(dn)&&e[dn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Cn(e.length)}parameters(e){if(!bn(e))return[];const t=Mn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Ln(e.decorators):e.hasOwnProperty(hn)?e[hn]:null}annotations(e){if(!bn(e))return[];const t=Mn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Ln(t[e])}),n}return e.hasOwnProperty("__prop__metadata__")?e.__prop__metadata__:null}propMetadata(e){if(!bn(e))return{};const t=Mn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return bn(e)&&this._ownPropMetadata(e,Mn(e))||{}}hasLifecycleHook(e,t){return e instanceof _n&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${d(e)}`}resourceUri(e){return`./${d(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Ln(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Mn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Fn={},Vn=/\n/gm,Un=l({provide:String,useValue:l});let jn;function qn(e){const t=jn;return jn=e,t}function Bn(e,t=R.Default){if(void 0===jn)throw new Error("inject() must be called from an injection context");return null===jn?L(e,void 0,t):jn.get(e,t&R.Optional?null:void 0,t)}function $n(e,t=R.Default){return(D||Bn)(m(e),t)}function Zn(e){throw new Error("invalid")}function zn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=R.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push($n(e,n))}else t.push($n(r))}return t}function Hn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Gn=Hn(gn("Inject",e=>({token:e})),-1),Kn=Hn(gn("Optional"),8),Wn=Hn(gn("Self"),2),Qn=Hn(gn("SkipSelf"),4),Yn=Hn(gn("Host"),1);let Jn,Xn,er=null;function tr(e){return nr((er=er||new Pn).parameters(e))}function nr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof Kn||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof Qn||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof Wn||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof Yn||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof Gn)t.token=r.token;else if(r instanceof mn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function rr(){if(void 0===Jn&&(Jn=null,$.trustedTypes))try{Jn=$.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Jn}function ir(e){var t;return(null===(t=rr())||void 0===t?void 0:t.createHTML(e))||e}function sr(){if(void 0===Xn&&(Xn=null,$.trustedTypes))try{Xn=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Xn}function or(e){var t;return(null===(t=sr())||void 0===t?void 0:t.createHTML(e))||e}function ar(e){var t;return(null===(t=sr())||void 0===t?void 0:t.createScript(e))||e}function ur(e){var t;return(null===(t=sr())||void 0===t?void 0:t.createScriptURL(e))||e}class cr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lr extends cr{getTypeName(){return"HTML"}}class hr extends cr{getTypeName(){return"Style"}}class dr extends cr{getTypeName(){return"Script"}}class fr extends cr{getTypeName(){return"URL"}}class pr extends cr{getTypeName(){return"ResourceURL"}}function gr(e){return e instanceof cr?e.changingThisBreaksApplicationSecurity:e}function mr(e,t){const n=yr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function yr(e){return e instanceof cr&&e.getTypeName()||null}function vr(e){return new lr(e)}function wr(e){return new hr(e)}function _r(e){return new dr(e)}function br(e){return new fr(e)}function Ir(e){return new pr(e)}function Tr(e){const t=new Sr(e);return function(){try{return!!(new window.DOMParser).parseFromString(ir(""),"text/html")}catch(e){return!1}}()?new Er(t):t}class Er{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ir(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Sr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ir(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=ir(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Cr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ar(e){return(e=String(e)).match(Cr)||e.match(kr)?e:"unsafe:"+e}function xr(e){return(e=String(e)).split(",").map(e=>Ar(e.trim())).join(", ")}function Nr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Or(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Rr=Nr("area,br,col,hr,img,wbr"),Dr=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pr=Nr("rp,rt"),Lr=Or(Pr,Dr),Mr=Or(Rr,Or(Dr,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Or(Pr,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lr),Fr=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vr=Nr("srcset"),Ur=Or(Fr,Vr,Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jr=Nr("script,style,template");class qr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Mr.hasOwnProperty(t))return this.sanitizedSomething=!0,!jr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Ur.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Fr[i]&&(s=Ar(s)),Vr[i]&&(s=xr(s)),this.buf.push(" ",t,'="',Zr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Mr.hasOwnProperty(t)&&!Rr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Zr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Br=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$r=/([^\#-~ |!])/g;function Zr(e){return e.replace(/&/g,"&amp;").replace(Br,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($r,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zr;function Hr(e,t){let n=null;try{zr=zr||Tr(e);let r=t?String(t):"";n=zr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zr.getInertBodyElement(r)}while(r!==s);return ir((new qr).sanitizeChildren(Gr(n)||n))}finally{if(n){const e=Gr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Gr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Kr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Wr(e){const t=ri();return t?or(t.sanitize(Kr.HTML,e)||""):mr(e,"HTML")?or(gr(e)):Hr(ke(),w(e))}function Qr(e){const t=ri();return t?t.sanitize(Kr.STYLE,e)||"":mr(e,"Style")?gr(e):w(e)}function Yr(e){const t=ri();return t?t.sanitize(Kr.URL,e)||"":mr(e,"URL")?gr(e):Ar(w(e))}function Jr(e){const t=ri();if(t)return ur(t.sanitize(Kr.RESOURCE_URL,e)||"");if(mr(e,"ResourceURL"))return ur(gr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Xr(e){const t=ri();if(t)return ar(t.sanitize(Kr.SCRIPT,e)||"");if(mr(e,"Script"))return ar(gr(e));throw new Error("unsafe value used in a script context")}function ei(e){return ir(e[0])}function ti(e){return function(e){var t;return(null===(t=rr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ni(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Jr:Yr}(t,n)(e)}function ri(){const e=ze();return e&&e[12]}function ii(e,t){e.__ngContext__=t}function si(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function oi(e){return e.ngDebugContext}function ai(e){return e.ngOriginalError}function ui(e,...t){e.error(...t)}class ci{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||ui}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?oi(e)?oi(e):this._findContext(ai(e)):null}_findOriginalError(e){let t=ai(e);for(;t&&ai(t);)t=ai(t);return t}}const li=/^>|^->|<!--|-->|--!>|<!-$/g,hi=/(<|>)/,di=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function fi(e){return e.ownerDocument.defaultView}function pi(e){return e.ownerDocument}function gi(e){return e.ownerDocument.body}function mi(e){return e instanceof Function?e():e}var yi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let vi;function wi(e,t){return vi(e,t)}function _i(e){const t=e[3];return fe(t)?t[3]:t}function bi(e){return Ti(e[13])}function Ii(e){return Ti(e[4])}function Ti(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Ei(e,t,n,r,i){if(null!=r){let s,o=!1;fe(r)?s=r:de(r)&&(o=!0,r=r[0]);const a=Ne(r);0===e&&null!==n?null==i?Mi(t,n,a):Li(t,n,a,i||null,!0):1===e&&null!==n?Li(t,n,a,i||null,!0):2===e?Ki(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Ne(n)&&Ei(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Qi(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Si(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}function Ci(e,t,n){Ae(e)?e.setValue(t,n):t.textContent=n}function ki(e,t){return e.createComment(function(e){return e.replace(li,e=>e.replace(hi,"\u200b$1\u200b"))}(t))}function Ai(e,t,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function xi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,je(i,-1)),n.splice(r,1)}function Ni(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&xi(s,r),t>0&&(e[n-1][4]=r[4]);const o=Sn(e,10+t);Qi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Oi(e,t){if(!(256&t[2])){const n=t[11];Ae(n)&&n.destroyNode&&Qi(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ri(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Ri(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Ri(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ri(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Dt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ne(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&xi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Di(e,t,n){return Pi(e,t.parent,n)}function Pi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===V.None||t===V.Emulated)return null}return Re(r,n)}function Li(e,t,n,r,i){Ae(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Mi(e,t,n){Ae(e)?e.appendChild(t,n):t.appendChild(n)}function Fi(e,t,n,r,i){null!==r?Li(e,t,n,r,i):Mi(e,t,n)}function Vi(e,t){return Ae(e)?e.parentNode(t):t.parentNode}function Ui(e,t,n){return Bi(e,t,n)}function ji(e,t,n){return 40&e.type?Re(e,n):null}let qi,Bi=ji;function $i(e,t){Bi=e,qi=t}function Zi(e,t,n,r){const i=Di(e,r,t),s=t[11],o=Ui(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fi(s,i,n[a],o,!1);else Fi(s,i,n,o,!1);void 0!==qi&&qi(s,r,t,n,i)}function zi(e,t){if(null!==t){const n=t.type;if(3&n)return Re(t,e);if(4&n)return Gi(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return zi(e,n);{const n=e[t.index];return fe(n)?Gi(-1,n):Ne(n)}}if(32&n)return wi(t,e)()||Ne(e[t.index]);{const n=Hi(e,t);return null!==n?Array.isArray(n)?n[0]:zi(_i(e[16]),n):zi(e,t.next)}}return null}function Hi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Gi(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return zi(e,r)}return t[7]}function Ki(e,t,n){const r=Vi(e,t);r&&function(e,t,n,r){Ae(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Wi(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&ii(Ne(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Wi(e,t,n.child,r,i,s,!1),Ei(t,e,i,a,s);else if(32&u){const o=wi(n,r);let u;for(;u=o();)Ei(t,e,i,u,s);Ei(t,e,i,a,s)}else 16&u?Yi(e,t,r,n,i,s):Ei(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Qi(e,t,n,r,i,s){Wi(n,r,e.firstChild,t,i,s,!1)}function Yi(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ei(t,e,i,a[u],s);else Wi(e,t,a,o[3],i,s,!0)}function Ji(e,t,n){Ae(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Xi(e,t,n){Ae(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function es(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}function ts(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==es(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ns(e){return 4===e.type&&"ng-template"!==e.value}function rs(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function is(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Lt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!rs(e,u,n)||""===u&&1===t.length){if(ss(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!ts(e.attrs,c,n)){if(ss(r))return!1;o=!0}continue}const l=os(8&r?"class":u,i,ns(e),n);if(-1===l){if(ss(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==es(t,c,0)||2&r&&c!==e){if(ss(r))return!1;o=!0}}}}else{if(!o&&!ss(r)&&!ss(u))return!1;if(o&&ss(u))continue;o=!1,r=u|1&r}}return ss(r)||o}function ss(e){return 0==(1&e)}function os(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function as(e,t,n=!1){for(let r=0;r<t.length;r++)if(is(e,t[r],n))return!0;return!1}function us(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function cs(e,t){return e?":not("+t.trim()+")":t}function ls(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ss(o)||(t+=cs(s,i),i=""),r=o,s=s||!ss(r);n++}return""!==i&&(t+=cs(s,i)),t}const hs={};function ds(e){fs(He(),ze(),bt()+e,et())}function fs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&At(t,r,n)}else{const r=e.preOrderHooks;null!==r&&xt(t,r,0,n)}It(n)}function ps(e,t){return e<<17|t<<2}function gs(e){return e>>17&32767}function ms(e){return 2|e}function ys(e){return(131068&e)>>2}function vs(e,t){return-131069&e|t<<2}function ws(e){return 1|e}function _s(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];dt(i),n.contentQueries(2,t[s],s)}}}function bs(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ue(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function Is(e,t,n,r,i){let s=e.data[t];if(null===s)s=Ts(e,t,n,r,i),qe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=Qe();s.injectorIndex=null===e?-1:e.injectorIndex}return Ye(s,!0),s}function Ts(e,t,n,r,i){const s=We(),o=Je(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Es(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ss(e,t,n){gt(t);try{const r=e.viewQuery;null!==r&&ro(1,r,n);const i=e.template;null!==i&&As(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_s(e,t),e.staticViewQueries&&ro(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Js(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,_t()}}function Cs(e,t,n,r){const i=t[2];if(256==(256&i))return;gt(t);const s=et();try{Ue(t),it(e.bindingStartIndex),null!==n&&As(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&At(t,n,null)}else{const n=e.preOrderHooks;null!==n&&xt(t,n,0,null),Nt(t,0)}if(function(e){for(let t=bi(e);null!==t;t=Ii(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&je(r,1),n[2]|=1024}}}(t),function(e){for(let t=bi(e);null!==t;t=Ii(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Fe(n)&&Cs(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&_s(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&At(t,n)}else{const n=e.contentHooks;null!==n&&xt(t,n,1),Nt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)It(~r);else{const i=r,s=n[++e],o=n[++e];ut(s,i),o(2,t[i])}}}finally{It(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Qs(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ro(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&At(t,n)}else{const n=e.viewHooks;null!==n&&xt(t,n,2),Nt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,je(t[3],-1))}finally{_t()}}function ks(e,t,n,r){const i=t[10],s=!et(),o=Me(t);try{s&&!o&&i.begin&&i.begin(),o&&Ss(e,t,r),Cs(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function As(e,t,n,r,i){const s=bt(),o=2&r;try{It(-1),o&&t.length>20&&fs(e,t,20,et()),n(r,i)}finally{It(s)}}function xs(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ns(e,t,n){Be()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||zt(n,t),ii(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ye(r);s&&Zs(t,n,r);const u=rn(t,e,a,n);ii(u,t),null!==o&&Gs(0,a-i,u,r,0,o),s&&(Le(n.index,t)[8]=u)}}(e,t,n,Re(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qe.lFrame.currentDirectiveIndex;try{It(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];ct(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Us(r,i)}}finally{It(-1),ct(o)}}(e,t,n))}function Os(e,t,n=Re){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Rs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ds(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ds(e,t,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:hs);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ps(e,t,n,r){const i=so(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&oo(e).push(r,i.length-1))}function Ls(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ms(e,t,n,r,i,s,o,a){const u=Re(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(co(e,n,c,r,i),ge(t)&&function(e,t){const n=Le(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ae(s)?s.setProperty(u,r,i):Mt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Fs(e,t,n,r){let i=!1;if(Be()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];as(n,o.selectors,!1)&&(i||(i=[]),Wt(zt(n,t),e,o.type),ye(o)?(js(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Bs(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Es(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ft(n.mergedAttrs,c.hostAttrs),$s(e,n,t,u,c),qs(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||ns(t)?null:Ks(n,i);s.push(c),o=Ls(n,u,o),a=Ls(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Ft(n.mergedAttrs,n.attrs),i}function Vs(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Us(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function js(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function qs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Bs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function $s(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ve(i.type)),o=new Dt(s,ye(i),null);e.blueprint[r]=o,n[r]=o,Vs(e,t,0,r,Es(e,n,i.hostVars,hs),i)}function Zs(e,t,n){const r=Re(t,e),i=Rs(n),s=e[10],o=Xs(e,bs(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function zs(e,t,n,r,i,s){const o=Re(e,t);Hs(t[11],o,s,e.value,n,r,i)}function Hs(e,t,n,r,i,s,o){if(null==s)Ae(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?w(s):o(s,r||"",i);Ae(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Gs(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Ks(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ws(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Qs(e,t){const n=Le(t,e);if(Fe(n)){const e=n[1];80&n[2]?Cs(e,n,e.template,n[8]):n[5]>0&&Ys(n)}}function Ys(e){for(let n=bi(e);null!==n;n=Ii(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Cs(e,t,e.template,t[8])}else t[5]>0&&Ys(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Le(t[n],e);Fe(r)&&r[5]>0&&Ys(r)}}function Js(e,t){const n=Le(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ss(r,n,n[8])}function Xs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function eo(e){for(;e;){e[2]|=64;const t=_i(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function to(e,t,n){const r=t[10];r.begin&&r.begin();try{Cs(e,t,e.template,n)}catch(i){throw uo(t,i),i}finally{r.end&&r.end()}}function no(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=si(n),i=r[1];ks(i,r,i.template,n)}}(e[8])}function ro(e,t,n){dt(0),t(e,n)}const io=(()=>Promise.resolve(null))();function so(e){return e[7]||(e[7]=[])}function oo(e){return e.cleanup||(e.cleanup=[])}function ao(e,t,n){return(null===e||ye(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function uo(e,t){const n=e[9],r=n?n.get(ci,null):null;r&&r.handleError(t)}function co(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function lo(e,t,n){const r=Oe(t,e);Ci(e[11],r,n)}function ho(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const fo=new yn("INJECTOR",-1);class po{get(e,t=Fn){if(t===Fn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const go=new yn("Set Injector scope."),mo={},yo={};let vo;function wo(){return void 0===vo&&(vo=new po),vo}function _o(e,t=null,n=null,r){return new bo(e,n,t||wo(),r)}class bo{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Tn(t,n=>this.processProvider(n,e,t)),Tn([e],e=>this.processInjectorType(e,[],i)),this.records.set(fo,Eo(void 0,this));const s=this.records.get(go);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fn,n=R.Default){this.assertNotDestroyed();const r=qn(this);try{if(!(n&R.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof yn)&&S(e);t=n&&this.injectableDefInScope(n)?Eo(Io(e),mo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&R.Self?wo():this.parent).get(e,t=n&R.Optional&&t===Fn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Vn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{qn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=k(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{Tn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Tn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=ve(s)||(()=>new s);this.records.set(s,Eo(a,mo));const u=r.providers;if(null!=u&&!o){const t=e;Tn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Co(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return So(e)?Eo(void 0,e.useValue):Eo(To(e),mo)}(e);if(Co(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Eo(void 0,mo,!0),t.factory=()=>zn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===mo&&(t.value=yo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Io(e){const t=S(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof yn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Cn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[A]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function To(e,t,n){let r;if(Co(e)){const t=m(e);return ve(t)||Io(t)}if(So(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...zn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>$n(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||Io(t);r=()=>new t(...zn(e.deps))}var i;return r}function Eo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function So(e){return null!==e&&"object"==typeof e&&Un in e}function Co(e){return"function"==typeof e}const ko=function(e,t,n){return function(e,t=null,n=null,r){const i=_o(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Ao=(()=>{class e{static create(e,t){return Array.isArray(e)?ko(e,t,""):ko(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Fn,e.NULL=new po,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>$n(fo)}),e.__NG_ELEMENT_ID__=-1,e})();function xo(e,t){kt(si(e)[1],Ke())}function No(e){return Object.getPrototypeOf(e.prototype).constructor}function Oo(e){let t=No(e.type),n=!0;const r=[e];for(;t;){let i;if(ye(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Ro(e.inputs),t.declaredInputs=Ro(e.declaredInputs),t.outputs=Ro(e.outputs);const n=i.hostBindings;n&&Lo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Do(e,s),o&&Po(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),ye(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Oo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ft(i.hostAttrs,n=Ft(n,i.hostAttrs))}}(r)}function Ro(e){return e===Z?{}:e===z?[]:e}function Do(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Po(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Lo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Mo=["providersResolver"],Fo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Vo(e){let t,n=No(e.type);t=ye(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Mo)r[i]=t[i];if(ye(t))for(const i of Fo)r[i]=t[i]}let Uo=null;function jo(){if(!Uo){const e=$.Symbol;if(e&&e.iterator)Uo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Uo=n)}}}return Uo}class qo{constructor(e){this.wrapped=e}static wrap(e){return new qo(e)}static unwrap(e){return qo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof qo}}function Bo(e){return!!$o(e)&&(Array.isArray(e)||!(e instanceof Map)&&jo()in e)}function $o(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zo(e,t,n){return e[t]=n}function zo(e,t){return e[t]}function Ho(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Go(e,t,n,r){const i=Ho(e,t,n);return Ho(e,t+1,r)||i}function Ko(e,t,n,r,i){const s=Go(e,t,n,r);return Ho(e,t+2,i)||s}function Wo(e,t,n,r,i,s){const o=Go(e,t,n,r);return Go(e,t+2,i,s)||o}function Qo(e,t,n,r){const i=ze();return Ho(i,st(),t)&&(He(),zs(Tt(),i,e,t,n,r)),Qo}function Yo(e,t){let n=!1,r=rt();for(let s=1;s<t.length;s+=2)n=Ho(e,r++,t[s])||n;if(it(r),!n)return hs;let i=t[0];for(let s=1;s<t.length;s+=2)i+=w(t[s])+t[s+1];return i}function Jo(e,t,n,r){return Ho(e,st(),n)?t+w(n)+r:hs}function Xo(e,t,n,r,i,s){const o=Go(e,rt(),n,i);return ot(2),o?t+w(n)+r+w(i)+s:hs}function ea(e,t,n,r,i,s,o,a){const u=Ko(e,rt(),n,i,o);return ot(3),u?t+w(n)+r+w(i)+s+w(o)+a:hs}function ta(e,t,n,r,i,s,o,a,u,c){const l=Wo(e,rt(),n,i,o,u);return ot(4),l?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c:hs}function na(e,t,n,r,i,s,o,a,u,c,l,h){const d=rt();let f=Wo(e,d,n,i,o,u);return f=Ho(e,d+4,l)||f,ot(5),f?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h:hs}function ra(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=rt();let g=Wo(e,p,n,i,o,u);return g=Go(e,p+4,l,d)||g,ot(6),g?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f:hs}function ia(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=rt();let y=Wo(e,m,n,i,o,u);return y=Ko(e,m+4,l,d,p)||y,ot(7),y?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f+w(p)+g:hs}function sa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=rt();let _=Wo(e,v,n,i,o,u);return _=Wo(e,v+4,l,d,p,m)||_,ot(8),_?t+w(n)+r+w(i)+s+w(o)+a+w(u)+c+w(l)+h+w(d)+f+w(p)+g+w(m)+y:hs}function oa(e,t,n,r,i,s){const o=ze(),a=Jo(o,t,n,r);return a!==hs&&zs(Tt(),o,e,a,i,s),oa}function aa(e,t,n,r,i,s,o,a){const u=ze(),c=Xo(u,t,n,r,i,s);return c!==hs&&zs(Tt(),u,e,c,o,a),aa}function ua(e,t,n,r,i,s,o,a,u,c){const l=ze(),h=ea(l,t,n,r,i,s,o,a);return h!==hs&&zs(Tt(),l,e,h,u,c),ua}function ca(e,t,n,r,i,s,o,a,u,c,l,h){const d=ze(),f=ta(d,t,n,r,i,s,o,a,u,c);return f!==hs&&zs(Tt(),d,e,f,l,h),ca}function la(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=ze(),g=na(p,t,n,r,i,s,o,a,u,c,l,h);return g!==hs&&zs(Tt(),p,e,g,d,f),la}function ha(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=ze(),y=ra(m,t,n,r,i,s,o,a,u,c,l,h,d,f);return y!==hs&&zs(Tt(),m,e,y,p,g),ha}function da(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=ze(),w=ia(v,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return w!==hs&&zs(Tt(),v,e,w,m,y),da}function fa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v,w){const _=ze(),b=sa(_,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return b!==hs&&zs(Tt(),_,e,b,v,w),fa}function pa(e,t,n,r){const i=ze(),s=Yo(i,t);return s!==hs&&zs(Tt(),i,e,s,n,r),pa}function ga(e,t,n,r,i,s,o,a){const u=ze(),c=He(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=Is(t,e,4,o||null,Ve(c,a));Fs(t,n,l,Ve(c,u)),kt(t,l);const h=l.tViews=Ds(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];Ye(h,!1);const d=u[11].createComment("");Zi(c,u,d,h),ii(d,u),Xs(u,u[l]=Ws(d,u,d,h)),me(h)&&Ns(c,u,h),null!=o&&Os(u,h,a)}function ma(e){return Pe(qe.lFrame.contextLView,20+e)}const ya={"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275inject":$n,"\u0275\u0275invalidFactoryDep":Zn,resolveForwardRef:m},va=l({provide:String,useValue:l});function wa(e){return void 0!==e.useClass}function _a(e){return void 0!==e.useFactory}const ba=fn("Injectable",void 0,void 0,void 0,(e,t)=>Ia(e,t)),Ia=function(e,t){let n=null,r=null;e.hasOwnProperty(A)||Object.defineProperty(e,A,{get:()=>(null===n&&(n=wn().compileInjectable(ya,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(wa(n)||_a(n))&&void 0!==n.deps&&(r.deps=nr(n.deps)),wa(n)?r.useClass=n.useClass:function(e){return va in e}(n)?r.useValue=n.useValue:_a(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Y)||Object.defineProperty(e,Y,{get:()=>{if(null===r){const t=wn();r=t.compileFactory(ya,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:tr(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Ta(e,t=R.Default){const n=ze();return null===n?$n(e,t):Jt(Ke(),n,m(e),t)}function Ea(){throw new Error("invalid")}function Sa(e,t,n){const r=ze();return Ho(r,st(),t)&&Ms(He(),Tt(),r,e,t,r[11],n,!1),Sa}function Ca(e,t,n,r,i){const s=i?"class":"style";co(e,n,t.inputs[s],s,r)}function ka(e,t,n,r){const i=ze(),s=He(),o=20+e,a=i[11],u=i[o]=Ai(a,t,qe.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=Is(t,e,2,i,Ve(a,s));return Fs(t,n,u,Ve(a,o)),null!==u.attrs&&ho(u,u.attrs,!1),null!==u.mergedAttrs&&ho(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];Ye(c,!0);const l=c.mergedAttrs;null!==l&&Pt(a,u,l);const h=c.classes;null!==h&&Xi(a,u,h);const d=c.styles;null!==d&&Ji(a,u,d),64!=(64&c.flags)&&Zi(s,i,u,c),0===qe.lFrame.elementDepthCount&&ii(u,i),qe.lFrame.elementDepthCount++,me(c)&&(Ns(s,i,c),xs(s,c,i)),null!==r&&Os(i,c)}function Aa(){let e=Ke();Je()?Xe():(e=e.parent,Ye(e,!1));const t=e;qe.lFrame.elementDepthCount--;const n=He();n.firstCreatePass&&(kt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ca(n,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ca(n,t,ze(),t.stylesWithoutHost,!1)}function xa(e,t,n,r){ka(e,t,n,r),Aa()}function Na(e,t,n){const r=ze(),i=He(),s=e+20,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Ve(s,r),a=Is(t,e,8,"ng-container",o);return null!==o&&ho(a,o,!0),Fs(t,n,a,Ve(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Ye(o,!0);const a=r[s]=r[11].createComment("");Zi(i,r,a,o),ii(a,r),me(o)&&(Ns(i,r,o),xs(i,o,r)),null!=n&&Os(r,o)}function Oa(){let e=Ke();const t=He();Je()?Xe():(e=e.parent,Ye(e,!1)),t.firstCreatePass&&(kt(t,e),pe(e)&&t.queries.elementEnd(e))}function Ra(e,t,n){Na(e,t,n),Oa()}function Da(){return ze()}function Pa(e){return!!e&&"function"==typeof e.then}function La(e){return!!e&&"function"==typeof e.subscribe}const Ma=La;function Fa(e,t,n,r){const i=ze(),s=He(),o=Ke();return Ua(s,i,i[11],o,e,t,!!n,r),Fa}function Va(e,t){const n=Ke(),r=ze(),i=He();return Ua(i,r,ao(lt(i.data),n,r),n,e,t,!1),Va}function Ua(e,t,n,r,i,s,o,a){const u=me(r),c=e.firstCreatePass&&oo(e),l=so(t);let h=!0;if(3&r.type||a){const d=Re(r,t),f=a?a(d):d,p=l.length,g=a?e=>a(Ne(e[r.index])):r.index;if(Ae(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=qa(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),c&&c.push(i,g,p,p+1)}}else s=qa(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=qa(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function ja(e,t,n,r){try{return!1!==n(r)}catch(i){return uo(e,i),!1}}function qa(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Le(e.index,t):t;0==(32&t[2])&&eo(o);let a=ja(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=ja(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ba(e=1){return function(e){return(qe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,qe.lFrame.contextLView))[8]}(e)}function $a(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?as(e,s,!0):us(r,s))return i}else n=i}return n}function Za(e){const t=ze()[16][6];if(!t.projection){const n=t.projection=Cn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?$a(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function za(e,t=0,n){const r=ze(),i=He(),s=Is(i,20+e,16,null,n||null);null===s.projection&&(s.projection=t),Xe(),64!=(64&s.flags)&&function(e,t,n){Yi(t[11],0,t,n,Di(e,n,t),Ui(n.parent||t[6],n,t))}(i,r,s)}function Ha(e,t,n){return Ga(e,"",t,"",n),Ha}function Ga(e,t,n,r,i){const s=ze(),o=Jo(s,t,n,r);return o!==hs&&Ms(He(),Tt(),s,e,o,s[11],i,!1),Ga}function Ka(e,t,n,r,i,s,o){const a=ze(),u=Xo(a,t,n,r,i,s);return u!==hs&&Ms(He(),Tt(),a,e,u,a[11],o,!1),Ka}function Wa(e,t,n,r,i,s,o,a,u){const c=ze(),l=ea(c,t,n,r,i,s,o,a);return l!==hs&&Ms(He(),Tt(),c,e,l,c[11],u,!1),Wa}function Qa(e,t,n,r,i,s,o,a,u,c,l){const h=ze(),d=ta(h,t,n,r,i,s,o,a,u,c);return d!==hs&&Ms(He(),Tt(),h,e,d,h[11],l,!1),Qa}function Ya(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=ze(),p=na(f,t,n,r,i,s,o,a,u,c,l,h);return p!==hs&&Ms(He(),Tt(),f,e,p,f[11],d,!1),Ya}function Ja(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=ze(),m=ra(g,t,n,r,i,s,o,a,u,c,l,h,d,f);return m!==hs&&Ms(He(),Tt(),g,e,m,g[11],p,!1),Ja}function Xa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=ze(),v=ia(y,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return v!==hs&&Ms(He(),Tt(),y,e,v,y[11],m,!1),Xa}function eu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){const w=ze(),_=sa(w,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return _!==hs&&Ms(He(),Tt(),w,e,_,w[11],v,!1),eu}function tu(e,t,n){const r=ze(),i=Yo(r,t);return i!==hs&&Ms(He(),Tt(),r,e,i,r[11],n,!1),tu}function nu(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?gs(s):ys(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];ru(e[a],t)&&(u=!0,e[a+1]=r?ws(n):ms(n)),a=r?gs(n):ys(n)}u&&(e[n+1]=r?ms(s):ws(s))}function ru(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&xn(e,t)>=0}const iu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function su(e){return e.substring(iu.key,iu.keyEnd)}function ou(e){return e.substring(iu.value,iu.valueEnd)}function au(e,t){const n=iu.textEnd;return n===t?-1:(t=iu.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,iu.key=t,n),lu(e,t,n))}function uu(e,t){const n=iu.textEnd;let r=iu.key=lu(e,t,n);return n===r?-1:(r=iu.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=hu(e,r,n),r=iu.value=lu(e,r,n),r=iu.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=du(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=du(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),hu(e,r,n))}function cu(e){iu.key=0,iu.keyEnd=0,iu.value=0,iu.valueEnd=0,iu.textEnd=e.length}function lu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function hu(e,t,n,r){return(t=lu(e,t,n))<n&&t++,t}function du(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function fu(e,t,n){return wu(e,t,n,!1),fu}function pu(e,t){return wu(e,t,null,!0),pu}function gu(e){_u(Su,mu,e,!1)}function mu(e,t){for(let n=function(e){return cu(e),uu(e,lu(e,0,iu.textEnd))}(t);n>=0;n=uu(t,n))Su(e,su(t),ou(t))}function yu(e){_u(kn,vu,e,!0)}function vu(e,t){for(let n=function(e){return cu(e),au(e,lu(e,0,iu.textEnd))}(t);n>=0;n=au(t,n))kn(e,su(t),!0)}function wu(e,t,n,r){const i=ze(),s=He(),o=ot(2);s.firstUpdatePass&&Iu(s,e,o,r),t!==hs&&Ho(i,o,t)&&Cu(s,s.data[bt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(gr(e)))),e}(t,n),r,o)}function _u(e,t,n,r){const i=He(),s=ot(2);i.firstUpdatePass&&Iu(i,null,s,r);const o=ze();if(n!==hs&&Ho(o,s,n)){const a=i.data[bt()];if(xu(a,r)&&!bu(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Ca(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===hs&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Cu(e,t,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return z;const r=[],i=gr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function bu(e,t){return t>=e.expandoStartIndex}function Iu(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[bt()],o=bu(e,n);xu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=lt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Eu(n=Tu(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Tu(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ys(r))return e[gs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Tu(null,e,t,n[1],r),n=Eu(n,t.attrs,r),function(e,t,n,r){e[gs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Eu(r,e[s].hostAttrs,n);return Eu(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=gs(o),u=ys(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||xn(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=gs(e[a+1]);e[r+1]=ps(t,a),0!==t&&(e[t+1]=vs(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ps(a,0),0!==a&&(e[a+1]=vs(e[a+1],r)),a=r;else e[r+1]=ps(u,0),0===a?a=r:e[u+1]=vs(e[u+1],r),u=r;l&&(e[r+1]=ms(e[r+1])),nu(e,c,r,!0),nu(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&xn(s,t)>=0&&(n[r+1]=ws(n[r+1]))}(t,c,e,r,s),o=ps(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Tu(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Eu(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Eu(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),kn(e,o,!!n||t[++s]))}return void 0===e?null:e}function Su(e,t,n){kn(e,t,gr(n))}function Cu(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Au(1==(1&c)?ku(u,t,n,i,ys(c),o):void 0)||(Au(s)||2==(2&c)&&(s=ku(u,null,n,i,a,o)),function(e,t,n,r,i){const s=Ae(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:yi.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=yi.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Oe(bt(),n),i,s))}function ku(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===hs&&(l=c?z:void 0);let h=c?An(l,r):u===r?l:void 0;if(s&&!Au(h)&&(h=An(t,r)),Au(h)&&(a=h,o))return a;const d=e[i+1];i=o?gs(d):ys(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=An(e,r))}return a}function Au(e){return void 0!==e}function xu(e,t){return 0!=(e.flags&(t?16:32))}function Nu(e,t=""){const n=ze(),r=He(),i=e+20,s=r.firstCreatePass?Is(r,i,1,t,null):r.data[i],o=n[i]=Si(n[11],t);Zi(r,n,o,s),Ye(s,!1)}function Ou(e){return Ru("",e,""),Ou}function Ru(e,t,n){const r=ze(),i=Jo(r,e,t,n);return i!==hs&&lo(r,bt(),i),Ru}function Du(e,t,n,r,i){const s=ze(),o=Xo(s,e,t,n,r,i);return o!==hs&&lo(s,bt(),o),Du}function Pu(e,t,n,r,i,s,o){const a=ze(),u=ea(a,e,t,n,r,i,s,o);return u!==hs&&lo(a,bt(),u),Pu}function Lu(e,t,n,r,i,s,o,a,u){const c=ze(),l=ta(c,e,t,n,r,i,s,o,a,u);return l!==hs&&lo(c,bt(),l),Lu}function Mu(e,t,n,r,i,s,o,a,u,c,l){const h=ze(),d=na(h,e,t,n,r,i,s,o,a,u,c,l);return d!==hs&&lo(h,bt(),d),Mu}function Fu(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=ze(),p=ra(f,e,t,n,r,i,s,o,a,u,c,l,h,d);return p!==hs&&lo(f,bt(),p),Fu}function Vu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=ze(),m=ia(g,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p);return m!==hs&&lo(g,bt(),m),Vu}function Uu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=ze(),v=sa(y,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m);return v!==hs&&lo(y,bt(),v),Uu}function ju(e){const t=ze(),n=Yo(t,e);return n!==hs&&lo(t,bt(),n),ju}function qu(e,t,n){_u(kn,vu,Jo(ze(),e,t,n),!0)}function Bu(e,t,n,r,i){_u(kn,vu,Xo(ze(),e,t,n,r,i),!0)}function $u(e,t,n,r,i,s,o){_u(kn,vu,ea(ze(),e,t,n,r,i,s,o),!0)}function Zu(e,t,n,r,i,s,o,a,u){_u(kn,vu,ta(ze(),e,t,n,r,i,s,o,a,u),!0)}function zu(e,t,n,r,i,s,o,a,u,c,l){_u(kn,vu,na(ze(),e,t,n,r,i,s,o,a,u,c,l),!0)}function Hu(e,t,n,r,i,s,o,a,u,c,l,h,d){_u(kn,vu,ra(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d),!0)}function Gu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){_u(kn,vu,ia(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p),!0)}function Ku(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){_u(kn,vu,sa(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m),!0)}function Wu(e){_u(kn,vu,Yo(ze(),e),!0)}function Qu(e,t,n){gu(Jo(ze(),e,t,n))}function Yu(e,t,n,r,i){gu(Xo(ze(),e,t,n,r,i))}function Ju(e,t,n,r,i,s,o){gu(ea(ze(),e,t,n,r,i,s,o))}function Xu(e,t,n,r,i,s,o,a,u){gu(ta(ze(),e,t,n,r,i,s,o,a,u))}function ec(e,t,n,r,i,s,o,a,u,c,l){gu(na(ze(),e,t,n,r,i,s,o,a,u,c,l))}function tc(e,t,n,r,i,s,o,a,u,c,l,h,d){gu(ra(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d))}function nc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){gu(ia(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p))}function rc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){gu(sa(ze(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m))}function ic(e){gu(Yo(ze(),e))}function sc(e,t,n,r,i){return wu(e,Jo(ze(),t,n,r),i,!1),sc}function oc(e,t,n,r,i,s,o){return wu(e,Xo(ze(),t,n,r,i,s),o,!1),oc}function ac(e,t,n,r,i,s,o,a,u){return wu(e,ea(ze(),t,n,r,i,s,o,a),u,!1),ac}function uc(e,t,n,r,i,s,o,a,u,c,l){return wu(e,ta(ze(),t,n,r,i,s,o,a,u,c),l,!1),uc}function cc(e,t,n,r,i,s,o,a,u,c,l,h,d){return wu(e,na(ze(),t,n,r,i,s,o,a,u,c,l,h),d,!1),cc}function lc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){return wu(e,ra(ze(),t,n,r,i,s,o,a,u,c,l,h,d,f),p,!1),lc}function hc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){return wu(e,ia(ze(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g),m,!1),hc}function dc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){return wu(e,sa(ze(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y),v,!1),dc}function fc(e,t,n){return wu(e,Yo(ze(),t),n,!1),fc}function pc(e,t,n){const r=ze();return Ho(r,st(),t)&&Ms(He(),Tt(),r,e,t,r[11],n,!0),pc}function gc(e,t,n){const r=ze();if(Ho(r,st(),t)){const i=He(),s=Tt();Ms(i,s,r,e,t,ao(lt(i.data),s,r),n,!0)}return gc}const mc=void 0;var yc=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let vc={};function wc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=bc(t);if(n)return n;const r=t.split("-")[0];if(n=bc(r),n)return n;if("en"===r)return yc;throw new Error(`Missing locale data for the locale "${e}".`)}function _c(e){return wc(e)[Ic.PluralCase]}function bc(e){return e in vc||(vc[e]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[e]),vc[e]}var Ic=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Tc=["zero","one","two","few","many"],Ec={marker:"element"},Sc={marker:"ICU"};var Cc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let kc="en-US";function Ac(e){var t;null==(t=e)&&I("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(kc=e.toLowerCase().replace(/_/g,"-"))}function xc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ji(e,0,n):Ne(n[i])}function Nc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)Li(e,o,n[s[t]],a,!1)}}function Oc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Rc(r)||Dc(r,t)&&null===Pc(r)&&Lc(r,t.index)}}function Rc(e){return!(64&e.type)}function Dc(e,t){return Rc(t)||e.index>t.index}function Pc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Lc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:($i(xc,Nc),e.insertBeforeIndex=t)}function Mc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Fc(e,t,n){const r=Ts(e,n,64,null,null);return Oc(t,r),r}function Vc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Uc=0,jc=0;function qc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Si(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=Vi(i,r)),c===o?(l=r,h=s):(l=null,h=Ne(n[c])),null!==h){const t=(131070&u)>>>1;Li(i,h,n[t],l,!1);const r=Mc(e,t);if(null!==r&&"object"==typeof r){const t=Vc(r,n);null!==t&&qc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];Hs(i,Oe(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Sc:const e=t[++a],r=t[++a];null===n[r]&&ii(n[r]=ki(i,e),n);break;case Ec:const s=t[++a],o=t[++a];null===n[o]&&ii(n[o]=Ai(i,s,null),n)}}}function Bc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=w(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=e.data[a];"string"==typeof c?Hs(t[11],t[a],null,c,s,i,u):Ms(e,c,t,s,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Ci(t[11],l,i);break;case 2:Zc(e,Mc(e,a),t,i);break;case 3:$c(e,Mc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Mc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&$c(e,n,r,t)}}s+=a}}function $c(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Uc;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Bc(e,r,t.update[i],n,s)}}function Zc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=_c(t)(parseInt(e,10)),r=Tc[n];return void 0!==r?r:"other"}(t,kc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Vc(t,n)!==i&&(zc(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&qc(e,t.create[i],n,r)}}function zc(e,t,n){let r=Vc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Oe(r,n);null!==e&&Ki(n[11],e)}else zc(e,Mc(e,~r),n)}}}const Hc=/\ufffd(\d+):?\d*\ufffd/gi,Gc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Kc=/\ufffd(\d+)\ufffd/,Wc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Yc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Jc=/\uE500/g;function Xc(e,t,n,r,i,s,o){const a=Es(e,r,1,null);let u=a<<Cc.SHIFT,c=Qe();t===c&&(c=null),null===c&&(u|=Cc.APPEND_EAGERLY),o&&(u|=Cc.COMMENT,void 0===vi&&(vi=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Vc(e,t);n=null!==i?e.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Ts(e,a,o?32:1,null===s?"":s,null);Oc(n,l);const h=l.index;return Ye(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?($i(xc,Nc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&I("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function el(e,t,n,r,i,s,o){const a=o.match(Hc),u=Xc(e,t,n,s,r,a?null:o,!1);a&&tl(i,o,u.index,null,0,null)}function tl(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const u=o+2,c=t.split(Hc);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=rl(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=l,e[a]=e.length-u,l}function nl(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function rl(e){return 1<<Math.min(e,31)}function il(e){let t,n,r="",i=0,s=!1;for(;null!==(t=Qc.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function sl(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Es(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(rl(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=l.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=ul(e,a,t,n,r,i.cases[c],s.join(""),l)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function ol(e){const t=[],n=[];let r=1,i=0;const s=al(e=e.replace(Wc,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=al(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function al(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);Wc.test(n)?r.push(ol(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function ul(e,t,n,r,i,s,o,a){const u=[],c=[],l=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(l);const h=Tr(ke()).getInertBodyElement(o),d=Gr(h)||h;return d?cl(e,t,n,r,u,c,l,d,i,a,0):0}function cl(e,t,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Es(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(Mr.hasOwnProperty(p)){dl(i,Ec,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Hc)?Ur.hasOwnProperty(n)&&tl(o,t.value,a,t.name,0,Fr[n]?Ar:Vr[n]?xr:null):fl(i,a,t)}h=cl(e,t,n,r,i,s,o,d,a,c,l+1)|h,ll(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Hc);dl(i,null,m?"":g,u,a),ll(s,a,l),m&&(h=tl(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Kc.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];dl(i,Sc,"",u,a),sl(e,n,r,u,t,a),hl(s,a,l)}}d=d.nextSibling}return h}function ll(e,t,n){0===n&&e.push(t)}function hl(e,t,n){0===n&&(e.push(~t),e.push(t))}function dl(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function fl(e,t,n){e.push(t<<1|1,n.name,n.value)}const pl=/\[(\ufffd.+?\ufffd?)\]/,gl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,ml=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,yl=/{([A-Z0-9_]+)}/g,vl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,wl=/\/\*/,_l=/\d+\:(\d+)/;function bl(e,t,n=-1){const r=He(),i=ze(),s=20+e,o=Ve(r.consts,t),a=Qe();r.firstCreatePass&&function(e,t,n,r,i,s){const o=Qe(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return il(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return il(e.substring(n,r))}}(i,s),h.replace(Jc," ")).split(Yc);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=al(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const t=l;""!==t&&el(e,o,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);sl(e,n,u,t,r,Xc(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),20+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),Ye(Qe(),!1);else{const t=Fc(e,c[0],n);c.unshift([]),Ye(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Pi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],u=(o&Cc.COMMENT)===Cc.COMMENT,c=(o&Cc.APPEND_EAGERLY)===Cc.APPEND_EAGERLY,l=o>>>Cc.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Si(i,a)),c&&null!==n&&Li(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),at(!0)}function Il(){at(!1)}function Tl(e,t,n){bl(e,t,n),Il()}function El(e,t){const n=He();!function(e,t,n){const r=Ke().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(Gc.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);tl(i,s,r,t,nl(i),null)}}e.data[t]=i}}(n,e+20,Ve(n.consts,t))}function Sl(e){return Ho(ze(),st(),e)&&(Uc|=1<<Math.min(jc,31)),jc++,Sl}function Cl(e){!function(e,t,n){if(jc>0){const r=e.data[n];Bc(e,t,Array.isArray(r)?r:r.update,rt()-jc-1,Uc)}Uc=0,jc=0}(He(),ze(),e+20)}function kl(e,t={}){return function(e,t={}){let n=e;if(pl.test(e)){const e={},t=[0];n=n.replace(gl,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(_l),n=t?parseInt(t[1],10):0,r=wl.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(ml,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(yl,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(vl,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Al(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)Al(e[s],t,n,r,i);else{const s=He(),o=ze();let a=Co(e)?e:m(e.provide),u=To(e);const c=Ke(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Co(e)||!e.multi){const r=new Dt(u,i,Ta),f=Ol(a,t,i?l:l+d,h);-1===f?(Wt(zt(c,o),s,a),xl(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ol(a,t,l+d,h),p=Ol(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Wt(zt(c,o),s,a);const l=function(e,t,n,r,i){const s=new Dt(e,n,Ta);return s.multi=[],s.index=t,s.componentProviders=0,Nl(s,i,r&&!n),s}(i?Dl:Rl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),xl(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else xl(s,e,f>-1?f:p,Nl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function xl(e,t,n,r){const i=Co(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Nl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ol(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Rl(e,t,n,r){return Pl(this.multi,[])}function Dl(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=rn(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Pl(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Pl(i,s);return s}function Pl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ll(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=He();if(r.firstCreatePass){const i=ye(e);Al(n,r.data,r.blueprint,i,!0),Al(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Ml{}class Fl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Vl=(()=>{class e{}return e.NULL=new Fl,e})();function Ul(...e){}function jl(e,t){return new Bl(Re(e,t))}const ql=function(){return jl(Ke(),ze())};let Bl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=ql,e})();function $l(e){return e instanceof Bl?e.nativeElement:e}class Zl{}let zl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Hl(),e})();const Hl=function(){const e=ze(),t=Le(Ke().index,e);return function(e){return e[11]}(de(t)?t:e)};let Gl=(()=>{class e{}return e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null}),e})();class Kl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Wl=new Kl("12.0.5");class Ql{constructor(){}supports(e){return Bo(e)}create(e){return new Jl(e)}}const Yl=(e,t)=>t;class Jl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<nh(n,r,i)?t:n,o=nh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Bo(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[jo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Xl(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new th),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new th),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Xl{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eh{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class th{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new eh,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class rh{constructor(){}supports(e){return e instanceof Map||$o(e)}create(){return new ih}}class ih{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||$o(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new sh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class sh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oh(){return new ah([new Ql])}let ah=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||oh()),deps:[[e,new Qn,new Kn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=T({token:e,providedIn:"root",factory:oh}),e})();function uh(){return new ch([new rh])}let ch=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||uh()),deps:[[e,new Qn,new Kn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:uh}),e})();function lh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ne(s)),fe(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&lh(t[1],t,n,r)}const o=n.type;if(8&o)lh(e,t,n.child,r);else if(32&o){const e=wi(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Hi(t,n);if(Array.isArray(e))r.push(...e);else{const n=_i(t[16]);lh(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class hh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Ni(e,n),Sn(t,n))}this._attachedToViewContainer=!1}Oi(this._lView[1],this._lView)}onDestroy(e){Ps(this._lView[1],this._lView,null,e)}markForCheck(){eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){to(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){tt(!0);try{to(e,t,n)}finally{tt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Qi(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class dh extends hh{constructor(e){super(e),this._view=e}detectChanges(){no(this._view)}checkNoChanges(){!function(e){tt(!0);try{no(e)}finally{tt(!1)}}(this._view)}get context(){return null}}const fh=function(e){return function(e,t,n){if(ge(e)&&!n){const n=Le(e.index,t);return new hh(n,n)}return 47&e.type?new hh(t[16],t):null}(Ke(),ze(),16==(16&e))};let ph=(()=>{class e{}return e.__NG_ELEMENT_ID__=fh,e})();const gh=[new rh],mh=new ah([new Ql]),yh=new ch(gh),vh=function(){return Ih(Ke(),ze())};let wh=(()=>{class e{}return e.__NG_ELEMENT_ID__=vh,e})();const _h=wh,bh=class extends _h{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=bs(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ss(t,n,e),new hh(n)}};function Ih(e,t){return 4&e.type?new bh(t,e,jl(e,t)):null}class Th{}class Eh{}const Sh=function(){return Oh(Ke(),ze())};let Ch=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sh,e})();const kh=Ch,Ah=class extends kh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return jl(this._hostTNode,this._hostLView)}get injector(){return new an(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kt(this._hostTNode,this._hostLView);if(Ut(e)){const t=qt(e,this._hostLView),n=jt(e);return new an(t[1].data[n+8],t)}return new an(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Th,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Ah(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],En(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Gi(i,s),a=n[11],u=Vi(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Qi(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),En(Nh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Ni(this._lContainer,t);n&&(Sn(Nh(this._lContainer),t),Oi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Ni(this._lContainer,t);return n&&null!=Sn(Nh(this._lContainer),t)?new hh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function xh(e){return e[8]}function Nh(e){return e[8]||(e[8]=[])}function Oh(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let i;if(8&e.type)i=Ne(r);else{const n=t[11];i=n.createComment("");const r=Re(e,t);Li(n,Vi(n,r),i,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ws(r,t,i,e),Xs(t,n)}return new Ah(n,e,t)}const Rh={};class Dh extends Vl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new Mh(t,this.ngModule)}}function Ph(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Lh=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>di});class Mh extends Ml{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ls).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ph(this.componentDef.inputs)}get outputs(){return Ph(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Rh,i);return s!==Rh||r===Rh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Zl,xe),o=i.get(Gl,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ae(e))return e.selectRootElement(t,n===V.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ai(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:di,clean:io,playerHandler:null,flags:0},d=Ds(0,null,null,1,0,null,null,null,null,null),f=bs(null,d,h,l,null,null,s,a,o,i);let p,g;gt(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Is(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(ho(a,u,!0),null!==e&&(Pt(i,e,u),null!==a.classes&&Xi(i,e,a.classes),null!==a.styles&&Ji(i,e,a.styles)));const c=r.createRenderer(e,t),l=bs(n,Rs(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Wt(zt(a,n),o,t.type),js(o,a),Bs(a,n.length,1)),Xs(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Pt(a,c,["ng-version",Wl.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ss(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Pt(a,c,e),t&&t.length>0&&Xi(a,c,t.join(" "))}if(g=De(d,20),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Ke();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$s(e,r,t,Es(e,t,1,null),n));const i=rn(t,e,r.directiveStart,r);ii(i,t);const s=Re(r,t);return s&&ii(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Ke();t.contentQueries(1,o,e.directiveStart)}const a=Ke();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(It(a.index),Vs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Us(t,o)),o}(e,this.componentDef,f,h,[xo]),Ss(d,f,null)}finally{_t()}return new Fh(this.componentType,p,jl(g,f),f,g)}}class Fh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new dh(r),this.componentType=e}get injector(){return new an(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Vh(e,t,n,r){return M(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Uh=new Map;class jh extends Th{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dh(this);const n=he(e),r=e[Q]||null;r&&Ac(r),this._bootstrapComponents=mi(n.bootstrap),this._r3Injector=_o(e,t,[{provide:Th,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ao.THROW_IF_NOT_FOUND,n=R.Default){return e===Ao||e===Th||e===fo?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qh extends Eh{constructor(e){super(),this.moduleType=e,null!==he(e)&&function(e){const t=new Set;!function e(n){const r=he(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Uh.get(i),n),Uh.set(i,n));const s=mi(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new jh(this.moduleType,e)}}function Bh(e,t,n){const r=nt()+e,i=ze();return i[r]===hs?Zo(i,r,n?t.call(n):t()):zo(i,r)}function $h(e,t,n,r){return Xh(ze(),nt(),e,t,n,r)}function Zh(e,t,n,r,i){return ed(ze(),nt(),e,t,n,r,i)}function zh(e,t,n,r,i,s){return td(ze(),nt(),e,t,n,r,i,s)}function Hh(e,t,n,r,i,s,o){return nd(ze(),nt(),e,t,n,r,i,s,o)}function Gh(e,t,n,r,i,s,o,a){const u=nt()+e,c=ze(),l=Wo(c,u,n,r,i,s);return Ho(c,u+4,o)||l?Zo(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):zo(c,u+5)}function Kh(e,t,n,r,i,s,o,a,u){const c=nt()+e,l=ze(),h=Wo(l,c,n,r,i,s);return Go(l,c+4,o,a)||h?Zo(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):zo(l,c+6)}function Wh(e,t,n,r,i,s,o,a,u,c){const l=nt()+e,h=ze();let d=Wo(h,l,n,r,i,s);return Ko(h,l+4,o,a,u)||d?Zo(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):zo(h,l+7)}function Qh(e,t,n,r,i,s,o,a,u,c,l){const h=nt()+e,d=ze(),f=Wo(d,h,n,r,i,s);return Wo(d,h+4,o,a,u,c)||f?Zo(d,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):zo(d,h+8)}function Yh(e,t,n,r){return rd(ze(),nt(),e,t,n,r)}function Jh(e,t){const n=e[t];return n===hs?void 0:n}function Xh(e,t,n,r,i,s){const o=t+n;return Ho(e,o,i)?Zo(e,o+1,s?r.call(s,i):r(i)):Jh(e,o+1)}function ed(e,t,n,r,i,s,o){const a=t+n;return Go(e,a,i,s)?Zo(e,a+2,o?r.call(o,i,s):r(i,s)):Jh(e,a+2)}function td(e,t,n,r,i,s,o,a){const u=t+n;return Ko(e,u,i,s,o)?Zo(e,u+3,a?r.call(a,i,s,o):r(i,s,o)):Jh(e,u+3)}function nd(e,t,n,r,i,s,o,a,u){const c=t+n;return Wo(e,c,i,s,o,a)?Zo(e,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):Jh(e,c+4)}function rd(e,t,n,r,i,s){let o=t+n,a=!1;for(let u=0;u<i.length;u++)Ho(e,o++,i[u])&&(a=!0);return a?Zo(e,o,r.apply(s,i)):Jh(e,o)}function id(e,t){const n=He();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ve(r.type)),o=P(Ta);try{const e=$t(!1),t=s();return $t(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ze(),i,t),t}finally{P(o)}}function sd(e,t,n){const r=e+20,i=ze(),s=Pe(i,r);return hd(i,ld(i,r)?Xh(i,nt(),t,s.transform,n,s):s.transform(n))}function od(e,t,n,r){const i=e+20,s=ze(),o=Pe(s,i);return hd(s,ld(s,i)?ed(s,nt(),t,o.transform,n,r,o):o.transform(n,r))}function ad(e,t,n,r,i){const s=e+20,o=ze(),a=Pe(o,s);return hd(o,ld(o,s)?td(o,nt(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function ud(e,t,n,r,i,s){const o=e+20,a=ze(),u=Pe(a,o);return hd(a,ld(a,o)?nd(a,nt(),t,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function cd(e,t,n){const r=e+20,i=ze(),s=Pe(i,r);return hd(i,ld(i,r)?rd(i,nt(),t,s.transform,n,s):s.transform.apply(s,n))}function ld(e,t){return e[1].data[t].pure}function hd(e,t){return qo.isWrapped(t)&&(t=qo.unwrap(t),e[rt()]=hs),t}function dd(e){return t=>{setTimeout(e,void 0,t)}}const fd=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(u=dd(u),a&&(a=dd(a)),c&&(c=dd(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function pd(){return this._results[jo()]()}class gd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jo(),n=gd.prototype;n[t]||(n[t]=pd)}get changes(){return this._changes||(this._changes=new fd)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const n=In(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class md{constructor(e){this.queryList=e,this.matches=null}clone(){return new md(this.queryList)}setDirty(){this.queryList.setDirty()}}class yd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new yd(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Od(e,t).matches&&this.queries[t].setDirty()}}class vd{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class wd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new wd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class _d{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new _d(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,bd(t,i)),this.matchTNodeWithReadOption(e,t,nn(t,e,i,!1,!1))}else n===wh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bl||r===Ch||r===wh&&4&t.type)this.addMatch(t.index,-2);else{const n=nn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Id(e,t,n,r){return-1===n?function(e,t){return 11&e.type?jl(e,t):4&e.type?Ih(e,t):null}(t,e):-2===n?function(e,t,n){return n===Bl?jl(t,e):n===wh?Ih(t,e):n===Ch?Oh(t,e):void 0}(e,t,r):rn(e,e[1],n,t)}function Td(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Id(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Ed(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Td(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&Ed(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Ed(n[1],n,i,r)}}}}}return r}function Sd(e){const t=ze(),n=He(),r=ht();dt(r+1);const i=Od(n,r);if(e.dirty&&Me(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ed(n,t,r,[]):Td(n,t,i,r);e.reset(s,$l),e.notifyOnChanges()}return!0}return!1}function Cd(e,t,n){const r=He();r.firstCreatePass&&(Nd(r,new vd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),xd(r,ze(),t)}function kd(e,t,n,r){const i=He();if(i.firstCreatePass){const s=Ke();Nd(i,new vd(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}xd(i,ze(),n)}function Ad(){return e=ze(),t=ht(),e[19].queries[t].queryList;var e,t}function xd(e,t,n){const r=new gd(4==(4&n));Ps(e,t,r,r.destroy),null===t[19]&&(t[19]=new yd),t[19].queries.push(new md(r))}function Nd(e,t,n){null===e.queries&&(e.queries=new wd),e.queries.track(new _d(t,n))}function Od(e,t){return e.queries.getByIndex(t)}function Rd(e,t){return Ih(e,t)}const Dd=(()=>({"\u0275\u0275attribute":Qo,"\u0275\u0275attributeInterpolate1":oa,"\u0275\u0275attributeInterpolate2":aa,"\u0275\u0275attributeInterpolate3":ua,"\u0275\u0275attributeInterpolate4":ca,"\u0275\u0275attributeInterpolate5":la,"\u0275\u0275attributeInterpolate6":ha,"\u0275\u0275attributeInterpolate7":da,"\u0275\u0275attributeInterpolate8":fa,"\u0275\u0275attributeInterpolateV":pa,"\u0275\u0275defineComponent":ee,"\u0275\u0275defineDirective":ue,"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275defineNgModule":se,"\u0275\u0275definePipe":ce,"\u0275\u0275directiveInject":Ta,"\u0275\u0275getInheritedFactory":un,"\u0275\u0275inject":$n,"\u0275\u0275injectAttribute":ln,"\u0275\u0275invalidFactory":Ea,"\u0275\u0275invalidFactoryDep":Zn,"\u0275\u0275templateRefExtractor":Rd,"\u0275\u0275NgOnChangesFeature":_e,"\u0275\u0275ProvidersFeature":Ll,"\u0275\u0275CopyDefinitionFeature":Vo,"\u0275\u0275InheritDefinitionFeature":Oo,"\u0275\u0275nextContext":Ba,"\u0275\u0275namespaceHTML":Ct,"\u0275\u0275namespaceMathML":St,"\u0275\u0275namespaceSVG":Et,"\u0275\u0275enableBindings":$e,"\u0275\u0275disableBindings":Ze,"\u0275\u0275elementStart":ka,"\u0275\u0275elementEnd":Aa,"\u0275\u0275element":xa,"\u0275\u0275elementContainerStart":Na,"\u0275\u0275elementContainerEnd":Oa,"\u0275\u0275elementContainer":Ra,"\u0275\u0275pureFunction0":Bh,"\u0275\u0275pureFunction1":$h,"\u0275\u0275pureFunction2":Zh,"\u0275\u0275pureFunction3":zh,"\u0275\u0275pureFunction4":Hh,"\u0275\u0275pureFunction5":Gh,"\u0275\u0275pureFunction6":Kh,"\u0275\u0275pureFunction7":Wh,"\u0275\u0275pureFunction8":Qh,"\u0275\u0275pureFunctionV":Yh,"\u0275\u0275getCurrentView":Da,"\u0275\u0275restoreView":Ge,"\u0275\u0275listener":Fa,"\u0275\u0275projection":za,"\u0275\u0275syntheticHostProperty":gc,"\u0275\u0275syntheticHostListener":Va,"\u0275\u0275pipeBind1":sd,"\u0275\u0275pipeBind2":od,"\u0275\u0275pipeBind3":ad,"\u0275\u0275pipeBind4":ud,"\u0275\u0275pipeBindV":cd,"\u0275\u0275projectionDef":Za,"\u0275\u0275hostProperty":pc,"\u0275\u0275property":Sa,"\u0275\u0275propertyInterpolate":Ha,"\u0275\u0275propertyInterpolate1":Ga,"\u0275\u0275propertyInterpolate2":Ka,"\u0275\u0275propertyInterpolate3":Wa,"\u0275\u0275propertyInterpolate4":Qa,"\u0275\u0275propertyInterpolate5":Ya,"\u0275\u0275propertyInterpolate6":Ja,"\u0275\u0275propertyInterpolate7":Xa,"\u0275\u0275propertyInterpolate8":eu,"\u0275\u0275propertyInterpolateV":tu,"\u0275\u0275pipe":id,"\u0275\u0275queryRefresh":Sd,"\u0275\u0275viewQuery":Cd,"\u0275\u0275loadQuery":Ad,"\u0275\u0275contentQuery":kd,"\u0275\u0275reference":ma,"\u0275\u0275classMap":yu,"\u0275\u0275classMapInterpolate1":qu,"\u0275\u0275classMapInterpolate2":Bu,"\u0275\u0275classMapInterpolate3":$u,"\u0275\u0275classMapInterpolate4":Zu,"\u0275\u0275classMapInterpolate5":zu,"\u0275\u0275classMapInterpolate6":Hu,"\u0275\u0275classMapInterpolate7":Gu,"\u0275\u0275classMapInterpolate8":Ku,"\u0275\u0275classMapInterpolateV":Wu,"\u0275\u0275styleMap":gu,"\u0275\u0275styleMapInterpolate1":Qu,"\u0275\u0275styleMapInterpolate2":Yu,"\u0275\u0275styleMapInterpolate3":Ju,"\u0275\u0275styleMapInterpolate4":Xu,"\u0275\u0275styleMapInterpolate5":ec,"\u0275\u0275styleMapInterpolate6":tc,"\u0275\u0275styleMapInterpolate7":nc,"\u0275\u0275styleMapInterpolate8":rc,"\u0275\u0275styleMapInterpolateV":ic,"\u0275\u0275styleProp":fu,"\u0275\u0275stylePropInterpolate1":sc,"\u0275\u0275stylePropInterpolate2":oc,"\u0275\u0275stylePropInterpolate3":ac,"\u0275\u0275stylePropInterpolate4":uc,"\u0275\u0275stylePropInterpolate5":cc,"\u0275\u0275stylePropInterpolate6":lc,"\u0275\u0275stylePropInterpolate7":hc,"\u0275\u0275stylePropInterpolate8":dc,"\u0275\u0275stylePropInterpolateV":fc,"\u0275\u0275classProp":pu,"\u0275\u0275advance":ds,"\u0275\u0275template":ga,"\u0275\u0275text":Nu,"\u0275\u0275textInterpolate":Ou,"\u0275\u0275textInterpolate1":Ru,"\u0275\u0275textInterpolate2":Du,"\u0275\u0275textInterpolate3":Pu,"\u0275\u0275textInterpolate4":Lu,"\u0275\u0275textInterpolate5":Mu,"\u0275\u0275textInterpolate6":Fu,"\u0275\u0275textInterpolate7":Vu,"\u0275\u0275textInterpolate8":Uu,"\u0275\u0275textInterpolateV":ju,"\u0275\u0275i18n":Tl,"\u0275\u0275i18nAttributes":El,"\u0275\u0275i18nExp":Sl,"\u0275\u0275i18nStart":bl,"\u0275\u0275i18nEnd":Il,"\u0275\u0275i18nApply":Cl,"\u0275\u0275i18nPostprocess":kl,"\u0275\u0275resolveWindow":fi,"\u0275\u0275resolveDocument":pi,"\u0275\u0275resolveBody":gi,"\u0275\u0275setComponentScope":te,"\u0275\u0275setNgModuleScope":oe,"\u0275\u0275sanitizeHtml":Wr,"\u0275\u0275sanitizeStyle":Qr,"\u0275\u0275sanitizeResourceUrl":Jr,"\u0275\u0275sanitizeScript":Xr,"\u0275\u0275sanitizeUrl":Yr,"\u0275\u0275sanitizeUrlOrResourceUrl":ni,"\u0275\u0275trustConstantHtml":ei,"\u0275\u0275trustConstantResourceUrl":ti,forwardRef:g,resolveForwardRef:m}))(),Pd=[];function Ld(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const Md=fn("NgModule",e=>e,void 0,void 0,(e,t)=>Fd(e,t)),Fd=function(e,t={}){!function(e,t,n=!1){const r=In(t.declarations||z);let i=null;Object.defineProperty(e,W,{configurable:!0,get:()=>(null===i&&(i=wn().compileNgModule(Dd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:In(t.bootstrap||z).map(m),declarations:r.map(m),imports:In(t.imports||z).map(m).map(Ld),exports:In(t.exports||z).map(m).map(Ld),schemas:t.schemas?In(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,Y,{get:()=>{if(null===s){const t=wn();s=t.compileFactory(Dd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:tr(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,x,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||z,imports:[(t.imports||z).map(m),(t.exports||z).map(m)]};o=wn().compileInjector(Dd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){Pd.push({moduleType:e,ngModule:t})}(e,t)},Vd=new yn("Application Initializer");let Ud=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Ul,this.reject=Ul,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Pa(t))e.push(t);else if(Ma(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)($n(Vd,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const jd=new yn("AppId"),qd={provide:jd,useFactory:function(){return`${Bd()}${Bd()}${Bd()}`},deps:[]};function Bd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $d=new yn("Platform Initializer"),Zd=new yn("Platform ID"),zd=new yn("appBootstrapListener");let Hd=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const Gd=new yn("LocaleId"),Kd=new yn("DefaultCurrencyCode");class Wd{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Qd=function(e){return new qh(e)},Yd=Qd,Jd=function(e){return Promise.resolve(Qd(e))},Xd=function(e){const t=Qd(e),n=mi(he(e).declarations).reduce((e,t)=>{const n=le(t);return n&&e.push(new Mh(n)),e},[]);return new Wd(t,n)},ef=Xd,tf=function(e){return Promise.resolve(Xd(e))};let nf=(()=>{class e{constructor(){this.compileModuleSync=Yd,this.compileModuleAsync=Jd,this.compileModuleAndAllComponentsSync=ef,this.compileModuleAndAllComponentsAsync=tf}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const rf=(()=>Promise.resolve(0))();function sf(e){"undefined"==typeof Zone?rf.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class of{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fd(!1),this.onMicrotaskEmpty=new fd(!1),this.onStable=new fd(!1),this.onError=new fd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&t,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=$.requestAnimationFrame,t=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,cf(e),e.isCheckStableRunning=!0,uf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),cf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return lf(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),hf(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return lf(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),hf(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,cf(e),uf(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!of.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(of.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,af,Ul,Ul);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const af={};function uf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function lf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hf(e){e._nesting--,uf(e)}class df{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fd,this.onMicrotaskEmpty=new fd,this.onStable=new fd,this.onError=new fd}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let ff=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{of.assertNotInAngularZone(),sf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)($n(of))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})(),pf=(()=>{class e{constructor(){this._applications=new Map,vf.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return vf.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();class gf{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function mf(e){vf=e}let yf,vf=new gf,wf=!0,_f=!1;function bf(){return _f=!0,wf}function If(){if(_f)throw new Error("Cannot enable prod mode after platform setup.");wf=!1}const Tf=new yn("AllowMultipleToken");class Ef{constructor(e,t){this.name=e,this.token=t}}function Sf(e,t,n=[]){const r=`Platform: ${t}`,i=new yn(r);return(t=[])=>{let s=Cf();if(!s||s.injector.get(Tf,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:go,useValue:"platform"});!function(e){if(yf&&!yf.destroyed&&!yf.injector.get(Tf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yf=e.get(kf);const t=e.get($d,null);t&&t.forEach(e=>e())}(Ao.create({providers:e,name:r}))}return function(e){const t=Cf();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Cf(){return yf&&!yf.destroyed?yf:null}let kf=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new df:("zone.js"===e?void 0:e)||new of({enableLongStackTrace:bf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:of,useValue:n}];return n.run(()=>{const t=Ao.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(ci,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Nf(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Pa(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Ud);return e.runInitializers(),e.donePromise.then(()=>(Ac(i.injector.get(Gd,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Af({},t);return function(e,t,n){const r=new qh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(xf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)($n(Ao))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Af(e,t){return Array.isArray(t)?t.reduce(Af,e):Object.assign(Object.assign({},e),t)}let xf=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{of.assertNotInAngularZone(),sf(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{of.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>{return(0,u.x)()((t=c,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Ml?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Th),i=n.create(Ao.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ff,null),a=o&&i.injector.get(pf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Nf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Nf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zd,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)($n(of),$n(Ao),$n(ci),$n(Vl),$n(Ud))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Nf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Of{}class Rf{}const Df={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pf=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Df}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Lf(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Lf(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)($n(nf),$n(Rf,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Lf(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Mf=function(e){return null},Ff=Sf(null,"core",[{provide:Zd,useValue:"unknown"},{provide:kf,deps:[Ao]},{provide:pf,deps:[]},{provide:Hd,deps:[]}]),Vf=[{provide:xf,useClass:xf,deps:[of,Ao,ci,Vl,Ud]},{provide:Lh,deps:[of],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ud,useClass:Ud,deps:[[new Kn,Vd]]},{provide:nf,useClass:nf,deps:[]},qd,{provide:ah,useFactory:function(){return mh},deps:[]},{provide:ch,useFactory:function(){return yh},deps:[]},{provide:Gd,useFactory:function(e){return Ac(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Gn(Gd),new Kn,new Qn]]},{provide:Kd,useValue:"USD"}];let Uf=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)($n(xf))},e.\u0275mod=se({type:e}),e.\u0275inj=E({providers:Vf}),e})()},9748:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return u},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(7368),i=n(9001),s=n(8934);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8934:function(e,t,n){"use strict";n.d(t,{q4:function(){return fn},iC:function(){return Tn},HU:function(){return wn},vb:function(){return gn},JM:function(){return pn},u3:function(){return Sn}});var r=n(7368),i=n(1858),s=n(6304),o=n(7964),a=n(5725),u=n(1947),c=n(8678),l=n(2087);const h=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function d(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function f({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function p(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function g(e,t){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return h.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function y({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function v(e,{refreshToken:t}){const n=y(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function w(e){return _.apply(this,arguments)}function _(){return(_=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function b(e,t){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(function*(e,{fid:t}){const n=f(e),r={method:"POST",headers:y(e),body:JSON.stringify({fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.5.4"})},i=yield w(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:p(e.authToken)}}throw yield g("Create Installation",i)})).apply(this,arguments)}function T(e){return new Promise(t=>{setTimeout(t,e)})}const E=/^[cdef][\w-]{21}$/;function S(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return E.test(t)?t:""}catch(e){return""}}function C(e){return`${e.appName}!${e.appId}`}const k=new Map;function A(e,t){const n=C(e);x(n,t),function(e,t){const n=(!N&&"BroadcastChannel"in self&&(N=new BroadcastChannel("[Firebase] FID Change"),N.onmessage=e=>{x(e.data.key,e.data.fid)}),N);n&&n.postMessage({key:e,fid:t}),0===k.size&&N&&(N.close(),N=null)}(n,t)}function x(e,t){const n=k.get(e);if(n)for(const r of n)r(t)}let N=null;const O="firebase-installations-store";let R=null;function D(){return R||(R=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(O)}})),R}function P(e,t){return L.apply(this,arguments)}function L(){return(L=(0,s.Z)(function*(e,t){const n=C(e),r=(yield D()).transaction(O,"readwrite"),i=r.objectStore(O),s=yield i.get(n);return yield i.put(t,n),yield r.complete,s&&s.fid===t.fid||A(e,t.fid),t})).apply(this,arguments)}function M(e){return F.apply(this,arguments)}function F(){return(F=(0,s.Z)(function*(e){const t=C(e),n=(yield D()).transaction(O,"readwrite");yield n.objectStore(O).delete(t),yield n.complete})).apply(this,arguments)}function V(e,t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(e,t){const n=C(e),r=(yield D()).transaction(O,"readwrite"),i=r.objectStore(O),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||A(e,o.fid),o})).apply(this,arguments)}function j(e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(e){let t;const n=yield V(e,n=>{const r=B(n),i=$(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function B(e){return K(e||{fid:S(),registrationStatus:0})}function $(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(h.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Z.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:z(e)}:{installationEntry:t}}function Z(){return(Z=(0,s.Z)(function*(e,t){try{return P(e,yield b(e,t))}catch(n){throw d(n)&&409===n.customData.serverCode?yield M(e):yield P(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(e){let t=yield G(e);for(;1===t.registrationStatus;)yield T(100),t=yield G(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield j(e);return n||t}return t})).apply(this,arguments)}function G(e){return V(e,e=>{if(!e)throw h.create("installation-not-found");return K(e)})}function K(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=Y(e,n),i=v(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.5.4"}})},a=yield w(()=>fetch(r,o));if(a.ok)return p(yield a.json());throw yield g("Generate Auth Token",a)})).apply(this,arguments)}function Y(e,{fid:t}){return`${f(e)}/${t}/authTokens:generate`}function J(e){return X.apply(this,arguments)}function X(){return(X=(0,s.Z)(function*(e,t=!1){let n;const r=yield V(e.appConfig,r=>{if(!se(r))throw h.create("not-registered");const i=r.authToken;if(!t&&oe(i))return r;if(1===i.requestStatus)return n=ee(e,t),r;{if(!navigator.onLine)throw h.create("app-offline");const t=ae(r);return n=re(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,s.Z)(function*(e,t){let n=yield ne(e.appConfig);for(;1===n.authToken.requestStatus;)yield T(100),n=yield ne(e.appConfig);const r=n.authToken;return 0===r.requestStatus?J(e,t):r})).apply(this,arguments)}function ne(e){return V(e,e=>{if(!se(e))throw h.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t){try{const n=yield W(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield P(e.appConfig,r),n}catch(n){if(!d(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield P(e.appConfig,n)}else yield M(e.appConfig);throw n}})).apply(this,arguments)}function se(e){return void 0!==e&&2===e.registrationStatus}function oe(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function ae(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ue(){return(ue=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield j(t.appConfig);return r?r.catch(console.error):J(t).catch(console.error),n.fid})).apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(e,t=!1){const n=e;return yield le(n.appConfig),(yield J(n,t)).token})).apply(this,arguments)}function le(e){return he.apply(this,arguments)}function he(){return(he=(0,s.Z)(function*(e){const{registrationPromise:t}=yield j(e);t&&(yield t)})).apply(this,arguments)}function de(e){return h.create("missing-app-config-values",{valueName:e})}(0,o._registerComponent)(new u.wA("installations",e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw de("App Configuration");if(!e.name)throw de("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw de(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,"installations").getImmediate();return{getId:()=>function(e){return ue.apply(this,arguments)}(n),getToken:e=>function(e){return ce.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)("@firebase/installations","0.5.4"),(0,o.registerVersion)("@firebase/installations","0.5.4","esm2017");const fe=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pe{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function ge(e=navigator){return e.languages&&e.languages[0]||e.language}class me{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:ge()},a={method:"POST",headers:s,body:JSON.stringify(o)},u=fetch(i,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{yield Promise.race([u,c]),l=yield u}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),fe.create(e,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let e;try{e=yield l.json()}catch(g){throw fe.create("fetch-client-parse",{originalErrorMessage:g.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw fe.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class ye{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(fe.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class ve{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function we(e,t){const n=e.target.error||void 0;return fe.create(t,{originalErrorMessage:n&&n.message})}class _e{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(we(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}catch(n){t(fe.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(we(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(fe.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(we(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(u){s(fe.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(we(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(fe.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class be{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ie(){return(Ie=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fe.create("registration-window");if(!(0,a.hl)())throw fe.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:u}=n.options;if(!i)throw fe.create("registration-project-id");if(!s)throw fe.create("registration-api-key");if(!u)throw fe.create("registration-app-id");const l=new _e(u,n.name,t=t||"firebase"),h=new be(l),d=new c.Yd("@firebase/remote-config");d.logLevel=c.in.ERROR;const f=new me(r,o.SDK_VERSION,t,i,s,u),p=new ye(f,l),g=new pe(p,l,h,d),m=new ve(n,g,h,l,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)("@firebase/remote-config","0.3.3"),(0,o.registerVersion)("@firebase/remote-config","0.3.3","esm2017");const Te="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Ee,Se;function Ce(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ke(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ee||(Ee={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Se||(Se={}));const Ae="fcm_token_details_db";function xe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ae))return null;let t=null;return(yield(0,l.openDb)(Ae,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const i=n.transaction.objectStore("fcm_token_object_Store"),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ce(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ce(e.auth),p256dh:Ce(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ce(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ce(e.auth),p256dh:Ce(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ce(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(Ae),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),Oe(t)?t:null})).apply(this,arguments)}function Oe(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}let Re=null;function De(){return Re||(Re=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}})),Re}function Pe(e){return Le.apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(e){const t=je(e),n=yield De(),r=yield n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t);if(r)return r;{const t=yield xe(e.appConfig.senderId);if(t)return yield Me(e,t),t}})).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(e,t){const n=je(e),r=(yield De()).transaction("firebase-messaging-store","readwrite");return yield r.objectStore("firebase-messaging-store").put(t,n),yield r.complete,t})).apply(this,arguments)}function Ve(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(e){const t=je(e),n=(yield De()).transaction("firebase-messaging-store","readwrite");yield n.objectStore("firebase-messaging-store").delete(t),yield n.complete})).apply(this,arguments)}function je({appConfig:e}){return e.appId}const qe=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Be(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(e,t){const n=yield We(e),r=Ye(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=yield fetch(Ke(e.appConfig),i);s=yield t.json()}catch(o){throw qe.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw qe.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qe.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Ze(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(e,t){const n=yield We(e),r=Ye(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${Ke(e.appConfig)}/${t.token}`,i);s=yield n.json()}catch(o){throw qe.create("token-update-failed",{errorInfo:o})}if(s.error)throw qe.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qe.create("token-update-no-token");return s.token})).apply(this,arguments)}function He(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield We(e)};try{const r=yield fetch(`${Ke(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw qe.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw qe.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function Ke({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function We(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Ye({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Te&&(i.web.applicationPubKey=r),i}function Je(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(e){const t=yield ot(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ce(t.getKey("auth")),p256dh:Ce(t.getKey("p256dh"))},r=yield Pe(e.firebaseDependencies);if(r){if(ut(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?nt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield He(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return it(e.firebaseDependencies,n)}return it(e.firebaseDependencies,n)})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e){const t=yield Pe(e.firebaseDependencies);t&&(yield He(e.firebaseDependencies,t.token),yield Ve(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(e,t){try{const n=yield Ze(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Me(e.firebaseDependencies,r),n}catch(n){throw yield et(e),n}})).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n={token:yield Be(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Me(e,n),n.token})).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ke(t)})})).apply(this,arguments)}function ut(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function ct(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function lt(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function ht(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function dt(e){return qe.create("missing-app-config-values",{valueName:e})}ht("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ht("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ft{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw dt("App Configuration Object");if(!e.name)throw dt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw dt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function pt(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(t){throw qe.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield pt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw qe.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function vt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Te)})).apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(e,t){if(!navigator)throw qe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qe.create("permission-blocked");return yield vt(e,null==t?void 0:t.vapidKey),yield mt(e,null==t?void 0:t.serviceWorkerRegistration),Je(e)})).apply(this,arguments)}function bt(e,t,n){return It.apply(this,arguments)}function It(){return(It=(0,s.Z)(function*(e,t,n){const r=Tt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tt(e){switch(e){case Se.NOTIFICATION_CLICKED:return"notification_open";case Se.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Et(){return(Et=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Se.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(ct(n)):e.onMessageHandler.next(ct(n)));const r=n.data;lt(r)&&"1"===r["google.c.a.e"]&&(yield bt(e,n.messageType,r))})).apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",e=>{const t=new ft(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Et.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return _t.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)("@firebase/messaging","0.9.4"),(0,o.registerVersion)("@firebase/messaging","0.9.4","esm2017");const Ct="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kt="https://www.googletagmanager.com/gtag/js",At=new c.Yd("@firebase/analytics");function xt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Nt(e,t){const n=document.createElement("script");n.src=`${kt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Ot(e,t,n,r,i,s){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield xt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){At.error(a)}e("config",i,s)})).apply(this,arguments)}function Dt(e,t,n,r,i){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield xt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}function Lt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(kt))return t;return null}const Mt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ft=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vt(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Ut(e){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Vt(r)},s=Ct.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Mt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function qt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(e,t=Ft,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Mt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Mt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Gt;return setTimeout((0,s.Z)(function*(){u.abort()}),void 0!==n?n:6e4),$t({appId:r,apiKey:i,measurementId:o},a,u,t)})).apply(this,arguments)}function $t(e,t,n){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Ft){const{appId:s,measurementId:o}=e;try{yield zt(r,t)}catch(u){if(o)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}try{const t=yield Ut(e);return i.deleteThrottleMetadata(s),t}catch(u){if(!Ht(u)){if(i.deleteThrottleMetadata(s),o)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}const t=503===Number(u.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,c),At.debug(`Calling attemptFetch again in ${t} millis`),$t(e,c,r,i)}})).apply(this,arguments)}function zt(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Mt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Ht(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class Gt{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Kt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(){if(!(0,a.hl)())return At.warn(Mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return At.warn(Mt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const u=qt(e);u.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>At.error(e)),t.push(u);const c=Kt().then(e=>e?r.getId():void 0),[l,h]=yield Promise.all([u,c]);Lt()||Nt(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class Yt{constructor(e){this.app=e}_delete(){return delete Jt[this.app.options.appId],Promise.resolve()}}let Jt={},Xt=[];const en={};let tn,nn,rn=!1;function sn(){return(sn=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("analytics",(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Mt.create("invalid-analytics-context",{errorInfo:t});At.warn(n.message)}}();const r=e.options.appId;if(!r)throw Mt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mt.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jt[r])throw Mt.create("already-exists",{id:r});if(!rn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Dt(e,t,n,s,o):"config"===i?yield Ot(e,t,n,r,s,o):e("set",s)}catch(a){At.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(Jt,Xt,en);nn=e,tn=t,rn=!0}return Jt[r]=function(e,t,n,r,i,s,o){return Qt.apply(this,arguments)}(e,Xt,en,t,tn,"dataLayer",n),new Yt(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(e){try{const t=e.getProvider("analytics").getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return sn.apply(this,arguments)}(nn,Jt[e.app.options.appId],t,n,r).catch(e=>At.error(e))}(t,e,n,r)}}catch(t){throw Mt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)("@firebase/analytics","0.7.4"),(0,o.registerVersion)("@firebase/analytics","0.7.4","esm2017");var an=n(8489),un=n(8569),cn=n(8318),ln=n(6599),hn=n(2893),dn=n(9098);const fn=new r.GfV("7.2.0");function pn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis.__angularfire_symbol__analyticsIsSupported||(globalThis.__angularfire_symbol__analyticsIsSupported=function(){return on.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis.__angularfire_symbol__messagingIsSupported||(globalThis.__angularfire_symbol__messagingIsSupported=function(){return St.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis.__angularfire_symbol__remoteConfigIsSupported||(globalThis.__angularfire_symbol__remoteConfigIsSupported=function(){return Ie.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const gn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function mn(){}class yn{constructor(e,t=an.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class vn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mn,{},mn,mn)),t.pipe((0,ln.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new yn(Zone.current)),this.insideAngular=e.run(()=>new yn(Zone.current,un.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _n(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function bn(e){return _n().ngZone.runOutsideAngular(()=>e())}function In(e){return _n().ngZone.run(()=>e())}function Tn(e){return _n(),(t=_n(),function(e){return(e=e.lift(new vn(t.ngZone))).pipe((0,hn.R)(t.outsideAngular),(0,dn.QV)(t.insideAngular))})(e);var t}const En=(e,t)=>function(){return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),In(()=>e.apply(void 0,arguments))},Sn=(e,t)=>function(){let n;for(let e=0;e<arguments.length;e++)"function"==typeof arguments[e]&&(t&&(n||(n=In(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mn,{},mn,mn)))),arguments[e]=En(arguments[e],n));const r=bn(()=>e.apply(this,arguments));if(!t){if(r instanceof cn.y){const e=_n();return r.pipe((0,hn.R)(e.outsideAngular),(0,dn.QV)(e.insideAngular))}return In(()=>r)}return r instanceof cn.y?r.pipe(Tn):r instanceof Promise?In(()=>new Promise((e,t)=>r.then(t=>In(()=>e(t)),e=>In(()=>t(e))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:In(()=>r)}},6986:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5725),i=n(1947),s=n(7964),o=n(8678);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.9",void 0)},7964:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return I},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return w},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return C},getApp:function(){return E},getApps:function(){return S},initializeApp:function(){return T},onLog:function(){return x},registerVersion:function(){return A},setLogLevel:function(){return N}});var r=n(6304),i=n(1947),s=n(8678),o=n(5725);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function w(){f.clear()}const _=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const I="9.4.1";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw _.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw _.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const u=new b(e,n,a);return d.set(r,u),u}function E(e=l){const t=d.get(e);if(!t)throw _.create("no-app",{appName:e});return t}function S(){return Array.from(d.values())}function C(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),A(u,"0.7.8",""),A(u,"0.7.8","esm2017"),A("fire-js","")},1947:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return a}});var r=n(6304),i=n(5725);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8678:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return c},Ub:function(){return l},Am:function(){return h}});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},5725:function(e,t,n){"use strict";n.d(t,{BH:function(){return u},LL:function(){return S},ZR:function(){return E},zI:function(){return I},US:function(){return i},tV:function(){return o},$s:function(){return F},r3:function(){return k},Sg:function(){return c},ne:function(){return P},vZ:function(){return x},ZB:function(){return a},pd:function(){return D},Rd:function(){return T},m9:function(){return V},z$:function(){return l},jU:function(){return f},ru:function(){return p},d:function(){return m},xb:function(){return A},w1:function(){return y},hl:function(){return _},uI:function(){return h},UG:function(){return d},b$:function(){return g},G6:function(){return w},Mn:function(){return v},xO:function(){return O},zd:function(){return R},eu:function(){return b}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0;let c=(15&o)<<2|u>>6,l=63&u;a||(l=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function y(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return l().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"object"==typeof indexedDB}function b(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function T(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(C,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new E(r,`${this.serviceName}: ${s} (${r}).`,n)}}const C=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(N(n)&&N(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N(e){return null!==e&&"object"==typeof e}function O(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function F(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function V(e){return e&&e._delegate?e._delegate:e}},1858:function(e,t,n){"use strict";n.d(t,{P2:function(){return r.deleteApp},Mq:function(){return r.getApp},C6:function(){return r.getApps},ZF:function(){return r.initializeApp},TP:function(){return r.onLog},KN:function(){return r.registerVersion},Ub:function(){return r.setLogLevel}});var r=n(7964);(0,r.registerVersion)("firebase","9.4.1","app")},9001:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(6986);r.Z.registerVersion("firebase","9.4.1","app-compat")},14:function(e,t,n){"use strict";n.r(t);var r=n(6304),i=n(6986),s=n(5725),o=n(7964);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var u=n(8678),c=n(1947);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new u.Yd("@firebase/auth");function f(e,...t){d.logLevel<=u.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw v(e,...t)}function g(e,...t){return v(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function w(e,t,...n){if(!e)throw v(t,...n)}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function b(e,t){e||_(t)}const I=new Map;function T(e){b(e instanceof Function,"Expected a class definition");let t=I.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,I.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===C()||"https:"===C()}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new k(3e4,6e4);function R(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n,r,i={}){return L(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(x.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),x.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function L(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),t);try{const t=new j(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw q(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);p(e,a)}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function F(e,t,n,r){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield D(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function $(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Q(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:G(W(i.auth_time)),issuedAtTime:G(W(i.iat)),expirationTime:G(W(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function W(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Y(e,z(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield L(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=U(e,r,"/v1/token",`key=${i}`);return x.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return _("not implemented")}}function ce(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class le{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Y(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new le(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Y(e,function(e,t){return B.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:I,stsTokenManager:T}=t;w(v&&T,e,"internal-error");const E=ue.fromJSON(this.name,T);w("string"==typeof v,e,"internal-error"),ce(l,e.name),ce(h,e.name),w("boolean"==typeof _,e,"internal-error"),w("boolean"==typeof b,e,"internal-error"),ce(d,e.name),ce(f,e.name),ce(p,e.name),ce(g,e.name),ce(m,e.name),ce(y,e.name);const S=new le({uid:v,auth:e,email:h,emailVerified:_,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ue;r.updateFromServerResponse(t);const i=new le({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?le._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(T(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||T(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=le._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new fe(s,e,n)):new fe(s,e,n)})()}}function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_e(t))return"Blackberry";if(be(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,s.z$)()){return/firefox\//i.test(e)}function me(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function ve(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function _e(e=(0,s.z$)()){return/blackberry/i.test(e)}function be(e=(0,s.z$)()){return/webos/i.test(e)}function Ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Te(e=(0,s.z$)()){return Ie(e)||we(e)||be(e)||_e(e)||/windows phone/i.test(e)||ve(e)}function Ee(e,t=[]){let n;switch(e){case"Browser":n=pe((0,s.z$)());break;case"Worker":n=`${pe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Se{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;n._deleted||(n.persistenceManager=yield fe.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&T(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[T(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ce(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ne{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}function Oe(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",R(e,t))})).apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",R(e,t))})).apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",R(e,t))})).apply(this,arguments)}function Ve(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",R(e,t))})).apply(this,arguments)}function je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Be(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ze(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function He(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))})).apply(this,arguments)}class Qe extends Ne{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Fe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ye(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",R(e,t))})).apply(this,arguments)}class Xe extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",R(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield F(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Ne{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);w(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let ut=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return w(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ct{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lt extends ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends lt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends lt{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ft=(()=>{class e extends lt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),pt=(()=>{class e extends lt{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Ne{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gt(n,i):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mt extends ct{constructor(e){w(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return mt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return mt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gt.fromJSON(e);return w(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return gt._create(n,t)}catch(r){return null}}}let yt=(()=>{class e extends lt{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signUp",R(e,t))})).apply(this,arguments)}class _t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield le._fromIdTokenResponse(e,n,i),s=bt(n);return new _t({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=bt(n);return new _t({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function bt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function It(){return(It=(0,r.Z)(function*(e){var t;const n=Ce(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new _t({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield _t._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Tt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tt(e,t,n,r)}}function Et(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Tt._fromErrorAndOperation(e,n,t,r);throw n})}function St(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Ct(){return(Ct=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield xt(!0,n,t);const{providerUserInfo:r}=yield $(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=St(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function kt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n=!1){const r=yield Y(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return _t._forOperation(e,"link",r)})).apply(this,arguments)}function xt(e,t,n){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(St(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Ot(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e;try{const i=yield Y(e,Et(r,"reauthenticate",t,e),n);w(i.idToken,r,"internal-error");const s=Q(i.idToken);w(s,r,"internal-error");const{sub:o}=s;return w(e.uid===o,r,"user-mismatch"),_t._forOperation(e,"reauthenticate",i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&p(r,"user-mismatch"),i}})).apply(this,arguments)}function Dt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const r=yield Et(e,"signIn",t),i=yield _t._fromIdTokenResponse(e,"signIn",r);return n||(yield e._updateCurrentUser(i.user)),i})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(Ce(e),t)})).apply(this,arguments)}function Ft(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield xt(!1,n,t.providerId),kt(n,t)})).apply(this,arguments)}function Ut(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){return Ot((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithCustomToken",R(e,t))})).apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t){const n=Ce(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield _t._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?zt._fromServerResponse(e,t):p(e,"internal-error")}}class zt extends Zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new zt(t)}}function Ht(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ht(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Oe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){yield Le((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Oe(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Zt._fromServerResponse(Ce(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const{data:n}=yield Qt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=Ce(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield _t._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&Ht(r,i,n),yield Ze(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ut.credentialWithLink(t,n||E());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",R(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:S()?E():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Ht(n.auth,r,t);const{email:i}=yield je(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Ht(r.auth,i,n);const{email:o}=yield He(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function un(e,t){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Y(r,un(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Y(e,De(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class pn extends fn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class gn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class mn extends pn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends fn{constructor(e,t){super(e,"google.com",t)}}class vn extends pn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class _n{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new _n("enroll",e)}static _fromMfaPendingCredential(e){return new _n("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return _n._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return _n._fromIdtoken(e.multiFactorSession.idToken)}return null}}class bn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ce(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>Zt._fromServerResponse(n,e));w(i.mfaPendingCredential,n,"internal-error");const o=_n._fromMfaPendingCredential(i.mfaPendingCredential);return new bn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield _t._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),_t._forOperation(t.user,t.operationType,s);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function In(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",R(e,t))}class Tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Tn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return _n._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Y(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Y(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},D(s,"POST","/v2/accounts/mfaEnrollment:withdraw",R(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const En=new WeakMap;class Sn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cn=(()=>{class e extends Sn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return me(e)||Ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),kn=(()=>{class e extends Sn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let An=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function xn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Nn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=xn("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function On(){return window}function Rn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Dn(){return(Dn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Pn="firebaseLocalStorageDb";class Ln{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mn(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Fn(){const e=indexedDB.open(Pn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Pn);return new Ln(e).toPromise()}(),t(yield Fn()))}))})}function Vn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=(0,r.Z)(function*(e,t,n){const r=Mn(e,!0).put({fbase_key:t,value:n});return new Ln(r).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t){const n=Mn(e,!1).get(t),r=yield new Ln(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qn(e,t){const n=Mn(e,!0).delete(t);return new Ln(n).toPromise()}const Bn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Fn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Rn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=An._getInstance(Rn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Dn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Nn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Fn();return yield Vn(e,"__sak","1"),yield qn(e,"__sak"),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Vn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return jn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>qn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Mn(e,!1).getAll();return new Ln(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function $n(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",R(e,t))}function Zn(){return(Zn=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Hn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Gn{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Kn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||1e12))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||1e12))||void 0===n||n.execute(),""})()}}class Kn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wn=Hn("rcb"),Qn=new k(3e4,6e4);class Yn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return w(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise((n,r)=>{const i=On().setTimeout(()=>{r(g(e,"network-request-failed"))},Qn.get());On()[Wn]=()=>{On().clearTimeout(i),delete On()[Wn];const s=On().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},zn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Wn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jn{load(e){return(0,r.Z)(function*(){return new Gn(e)})()}clearedOneInstance(){}}const Xn={theme:"light",type:"image"};class er{constructor(e,t=Object.assign({},Xn),n){this.parameters=t,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ce(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jn:new Yn,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(S()&&!Rn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Zn.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function nr(){return(nr=(0,r.Z)(function*(e,t,n){const r=Ce(e),i=yield sr(r,t,(0,s.m9)(n));return new tr(i,e=>Lt(r,e))})).apply(this,arguments)}function rr(){return(rr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield xt(!1,r,"phone");const i=yield sr(r.auth,t,(0,s.m9)(n));return new tr(i,e=>Ft(r,e))})).apply(this,arguments)}function ir(){return(ir=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield sr(r.auth,t,(0,s.m9)(n));return new tr(i,e=>Ut(r,e))})).apply(this,arguments)}function sr(e,t,n){return or.apply(this,arguments)}function or(){return(or=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield In(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield $n(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function ar(){return(ar=(0,r.Z)(function*(e,t){yield kt((0,s.m9)(e),t)})).apply(this,arguments)}let ur=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ce(t)}verifyPhoneNumber(e,t){return sr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function cr(e,t){return t?T(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class lr extends Ne{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ye(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ye(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ye(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hr(e){return Dt(e.auth,new lr(e),e.bypassAuthState)}function dr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Ot(n,new lr(e),e.bypassAuthState)}function fr(e){return pr.apply(this,arguments)}function pr(){return(pr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),kt(n,new lr(e),e.bypassAuthState)})).apply(this,arguments)}class gr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hr;case"linkViaPopup":case"linkViaRedirect":return fr;case"reauthViaPopup":case"reauthViaRedirect":return dr;default:p(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mr=new k(2e3,1e4);function yr(){return(yr=(0,r.Z)(function*(e,t,n){const r=Ce(e);y(e,t,ct);const i=cr(r,n);return new _r(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function vr(){return(vr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=cr(r.auth,n);return new _r(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=cr(r.auth,n);return new _r(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let _r=(()=>{class e extends gr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){b(1===e.filter.length,"Popup operations only handle one event");const t=xn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,mr.get())};e()}}return e.currentPopupAction=null,e})();const br=new Map;class Ir extends gr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=br.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Tr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}br.set(t.auth._key(),n)}return t.bypassAuthState||br.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Tr(){return(Tr=(0,r.Z)(function*(e,t){const n=kr(t),r=Cr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Er(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(e,t){return Cr(e)._set(kr(t),"true")})).apply(this,arguments)}function Cr(e){return T(e._redirectPersistence)}function kr(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Ar(){return(Ar=(0,r.Z)(function*(e,t,n){const r=Ce(e);y(e,t,ct);const i=cr(r,n);return yield Er(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=cr(r.auth,n);yield Er(i,r.auth);const o=yield Pr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=cr(r.auth,n);yield xt(!1,r,t.providerId),yield Er(i,r.auth);const o=yield Pr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t){return yield Ce(e)._initializationPromise,Rr(e,t,!1)})).apply(this,arguments)}function Rr(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n=!1){const r=Ce(e),i=cr(r,t),s=new Ir(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Pr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e){const t=xn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Mr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fr(e))}saveEventToCache(e){this.cachedEventUids.add(Fr(e)),this.lastProcessedEventTime=Date.now()}}function Fr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Ur(e){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const qr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^https?/;function $r(){return($r=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Ur(e);for(const r of t)try{if(Zr(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function Zr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Br.test(n))return!1;if(qr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zr=new k(3e4,6e4);function Hr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Gr=null;function Kr(e){return Gr=Gr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Hr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hr(),n(g(e,"network-request-failed"))},timeout:zr.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=On().gapi)||void 0===s?void 0:s.load)){const t=Hn("iframefcb");return On()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},zn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Gr=null,e})}(e),Gr}const Wr=new k(5e3,15e3),Qr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jr(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=Yr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function Xr(){return(Xr=(0,r.Z)(function*(e){const t=yield Kr(e),n=On().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:Jr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qr,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=On().setTimeout(()=>{r(i)},Wr.get());function o(){On().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ei={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ti{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ni(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ct){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof lt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}class ri extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ri(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",R(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",R(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ii=(()=>{class e{constructor(){}static assertion(e){return ri._fromCredential(e)}}return e.FACTOR_ID="phone",e})();class si{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oi(){return window}function ai(){return(ai=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=oi();b(t.sessionId,"AuthEvent did not contain a session ID");const s=yield li(t.sessionId),o={};return Ie()?o.ibi=i.packageName:we()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ni(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function ui(){return(ui=(0,r.Z)(function*(e){const{BuildInfo:t}=oi(),n={};Ie()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield Ur(e,n)})).apply(this,arguments)}function ci(){return(ci=(0,r.Z)(function*(e,t,n){const{cordova:r}=oi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),we()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function li(e){return hi.apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(e){const t=di(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function di(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:"Browser",apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee("Browser")},s=new Se(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Ce(e.getProvider("auth").getImmediate()),new si(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.19.3",void 0),(0,o.registerVersion)("@firebase/auth","0.19.3","esm2017");class fi extends Mr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function pi(e){return gi.apply(this,arguments)}function gi(){return(gi=(0,r.Z)(function*(e){const t=yield yi()._get(vi(e));return t&&(yield yi()._remove(vi(e))),t})).apply(this,arguments)}function mi(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function yi(){return T(Cn)}function vi(e){return de("authEvent",e.config.apiKey,e.name)}function wi(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function _i(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function bi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ii(e=(0,s.z$)()){return!("file:"!==bi()&&"ionic:"!==bi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ti(){try{const e=self.localStorage,t=xn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ei()&&(0,s.hl)()}return!1}function Ei(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Si(){return("http:"===bi()||"https:"===bi()||(0,s.ru)()||Ii())&&!((0,s.b$)()||(0,s.UG)())&&Ti()&&!Ei()}function Ci(){return Ii()&&"undefined"!=typeof document}function ki(){return(ki=(0,r.Z)(function*(){return!!Ci()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Ai={LOCAL:"local",NONE:"none",SESSION:"session"},xi=w;function Ni(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Ri(),n=de("persistence",e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Ri(){return"undefined"!=typeof window?window:null}const Di=w;class Pi{constructor(){this.browserResolver=T(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=Rr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;b(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ni(e,t,n,E(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ei),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ye(l)?"_blank":n),ge(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new ti(null);const d=window.open(t||"",u,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ti(d)}(e,a,xn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ni(e,t,n,E(),i),On().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return Xr.apply(this,arguments)}(e),r=new Mr(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $r.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||me()||Ie()}}),this.cordovaResolver=T(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new fi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=oi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),br.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:mi(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return yi()._set(vi(e),t)}(e,a);const u=yield function(e,t,n){return ai.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=oi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return ci.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ui.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=oi(),o=setTimeout((0,r.Z)(function*(){yield pi(e),t.onEvent(_i())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield pi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=wi(e),n=t.link?decodeURIComponent(t.link):void 0,r=wi(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wi(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=wi(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||_i())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;oi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=Rr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ci()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return ki.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Li(e){return e.unwrap()}function Mi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return ur.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ft;break;case"facebook.com":r=dt;break;case"github.com":r=pt;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Fi(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ji(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.customData.operationType,r,"argument-error"),w(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bn._fromError(r,i)}(e,t));else if(r){const e=Mi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Mi(n)),additionalUserInfo:wn(e),user:qi.getOrCreate(t)};var n})}function Vi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Fi(e,n.confirm(t))}})).apply(this,arguments)}class ji{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Fi(Li(this.auth),this.resolver.resolveSignIn(e))}}let qi=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return En.has(t)||En.set(t,Tn._fromUser(t)),En.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Fi(t.auth,Ft(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Vi(n.auth,function(e,t,n){return rr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Fi(t.auth,function(e,t,n){return wr.apply(this,arguments)}(t._delegate,e,Pi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Ni(Ce(t.auth)),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Pi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Fi(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Vi(this.auth,function(e,t,n){return ir.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Fi(this.auth,function(e,t,n){return vr.apply(this,arguments)}(this._delegate,e,Pi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Ni(Ce(t.auth)),function(e,t,n){return function(e,t,n){return xr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Pi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Ct.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return ar.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return ln.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Bi=w;let $i=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Bi(n,"invalid-api-key",{appName:e.name});let r=[he];if("undefined"!=typeof window){r=function(e,t){const n=Ri();if(!(null==n?void 0:n.sessionStorage))return[];const r=de("persistence",e,t);switch(n.sessionStorage.getItem(r)){case Ai.NONE:return[he];case Ai.LOCAL:return[Bn,kn];case Ai.SESSION:return[kn];default:return[]}}(n,e.name);for(const e of[Bn,Cn,kn])r.includes(e)||r.push(e)}Bi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Pi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ce(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Wt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Fi(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Bi(Si(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Or.apply(this,arguments)}(e._delegate,Pi);return t?Fi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ce(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Zi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Zi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){xi(Object.values(Ai).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?xi(t!==Ai.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?xi(t===Ai.NONE,e,"unsupported-persistence-type"):Ei()?xi(t===Ai.NONE||t===Ai.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):xi(t===Ai.NONE||Ti(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Ai.SESSION:n=kn;break;case Ai.LOCAL:n=(yield T(Bn)._isAvailable())?Bn:Cn;break;case Ai.NONE:n=he;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Fi(this._delegate,function(e){return It.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Fi(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return Fi(this._delegate,function(e,t){return $t.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Fi(this._delegate,function(e,t,n){return Lt((0,s.m9)(e),ut.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Fi(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Vi(this._delegate,function(e,t,n){return nr.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Bi(Si(),t._delegate,"operation-not-supported-in-this-environment"),Fi(t._delegate,function(e,t,n){return yr.apply(this,arguments)}(t._delegate,e,Pi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Bi(Si(),t._delegate,"operation-not-supported-in-this-environment"),yield Ni(t._delegate),function(e,t,n){return function(e,t,n){return Ar.apply(this,arguments)}(e,t,n)}(t._delegate,e,Pi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Jt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Ai,e})();function Zi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&qi.getOrCreate(e)),error:t,complete:n}}let zi=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new ur(Li(i.Z.auth()))}static credential(e,t){return ur.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=ur.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=ur.PROVIDER_ID,e})();const Hi=w;var Gi;(Gi=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $i(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ut,FacebookAuthProvider:dt,GithubAuthProvider:pt,GoogleAuthProvider:ft,OAuthProvider:ht,SAMLAuthProvider:mt,PhoneAuthProvider:zi,PhoneMultiFactorGenerator:ii,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;Hi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new er(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:$i,AuthCredential:Ne,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Gi.registerVersion("@firebase/auth-compat","0.2.3")},2087:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},8318:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5959:function(e,t,n){"use strict";n.d(t,{Yc:function(){return c},xQ:function(){return l}});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return a},ft:function(){return u}});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return u}});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},653:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return s}});var r=n(8318);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},9764:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},1906:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},9996:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return u}});var r=n(6673),i=n(653),s=n(878),o=n(8318);let a=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function u(e,t=0){return function(n){return n.lift(new c(e,t))}}class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1564:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2893:function(e,t,n){"use strict";n.d(t,{R:function(){return m}});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(e){return e in o&&(delete o[e],!0)}const u={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(8277);class l extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const f=new d(l);var p=n(2293);class g extends r.y{constructor(e,t=0,n=f){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,p.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(e,t=0,n=f){return new g(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function m(e,t=0){return function(n){return n.lift(new y(e,t))}}class y{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)}}},6599:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(6673);function i(){}var s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},2570:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8569:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return s}});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:function(e,t,n){"use strict";n.d(t,{c:function(){return u},N:function(){return a}});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:function(){return i}});const i=r()},6197:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},3392:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},8470:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},2293:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},5168:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},6163:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},6015:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},625:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},1620:function(e,t,n){"use strict";var r=n(7368);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new w((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let w=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:I,token:e,providedIn:"root"}),e})();function I(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function T(e){return e.replace(/\/index.html$/,"")}var E=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});const S=r.kL8;class C{}let k=(()=>{class e extends C{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(S(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),A=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new x,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){N("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){N("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class x{constructor(){this.$implicit=null,this.ngIf=null}}function N(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:C,useClass:k}]}),e})();function R(e){return"server"===e}let D=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new P((0,r.LFG)(o),window)}),e})();class P{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=L(this.window.history)||L(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(tw){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(tw){return!1}}}function L(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class M extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new M,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(V=V||document.querySelector("base"),V?V.getAttribute("href"):null);return null==t?null:function(e){F=F||document.createElement("a"),F.setAttribute("href",e);const t=F.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let F,V=null;const U=new r.OlP("TRANSITION_ID"),j=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[U,o,r.zs3],multi:!0}];class q{static init(){(0,r.VLi)(new q)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let B=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const $=new r.OlP("EventManagerPlugins");let Z=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG($),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class z{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let H=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e extends H{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(K),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(K))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function K(e){s().remove(e)}const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function Y(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Y(e,i,n):(i=i.replace(Q,e),n.push(i))}return n}function J(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let X=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ee(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new te(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new ne(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Y(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Z),r.LFG(G),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ee{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(W[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=W[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=W[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,J(n)):this.eventManager.addEventListener(e,t,J(n))}}class te extends ee{constructor(e,t,n,r){super(e),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ne extends ee{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let re=(()=>{class e extends z{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ie=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ae={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ue=(()=>{class e extends z{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(ie.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&oe.hasOwnProperty(t)&&(t=oe[t]))}return se[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ie.forEach(r=>{r!=n&&(0,ae[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ce=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){M.makeCurrent(),q.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),le=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:$,useClass:re,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:$,useClass:ue,multi:!0,deps:[o]},[],{provide:X,useClass:X,deps:[Z,G,r.AFp]},{provide:r.FYo,useExisting:X},{provide:H,useExisting:G},{provide:G,useClass:G,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Z,useClass:Z,deps:[$,r.R0b]},{provide:class{},useClass:B,deps:[]},[]];let he=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:U,useExisting:r.AFp},j]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:le,imports:[O,r.hGG]}),e})();"undefined"!=typeof window&&window;var de=n(9764),fe=n(878),pe=n(5959),ge=n(3895);class me extends pe.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ge.N;return this._value}next(e){super.next(this._value=e)}}var ye=n(6163),ve=n(8470),we=n(6673);class _e extends we.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class be extends we.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ie=n(6015),Te=n(8318);function Ee(e,t,n,r,i=new be(e,n,r)){if(!i.closed)return t instanceof Te.y?t.subscribe(i):(0,Ie.s)(t)(i)}var Se=n(9342);const Ce={};class ke{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ae(e,this.resultSelector))}}class Ae extends _e{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ce),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Ee(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Ce?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const xe=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Ne=n(7471);function Oe(...e){return(0,Ne.J)(1)((0,fe.of)(...e))}var Re=n(653);function De(e){return new Te.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,de.D)(n):(0,Re.c)()).subscribe(t)})}var Pe=n(2875),Le=n(9996),Me=n(6882);function Fe(e,t){return"function"==typeof t?n=>n.pipe(Fe((n,r)=>(0,de.D)(e(n,r)).pipe((0,Le.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Ve(e))}class Ve{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ue(e,this.project))}}class Ue extends Me.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Me.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Me.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const je=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function qe(e){return t=>0===e?(0,Re.c)():t.lift(new Be(e))}class Be{constructor(e){if(this.total=e,this.total<0)throw new je}call(e,t){return t.subscribe(new $e(e,this.total))}}class $e extends we.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Ze(...e){const t=e[e.length-1];return(0,ye.K)(t)?(e.pop(),n=>Oe(e,n,t)):t=>Oe(e,t)}function ze(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new He(e,t,n))}}class He{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Ge(e,this.accumulator,this.seed,this.hasSeed))}}class Ge extends we.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ke(e,t){return function(n){return n.lift(new We(e,t))}}class We{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Qe(e,this.predicate,this.thisArg))}}class Qe extends we.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ye(e){return function(t){const n=new Je(e),r=t.lift(n);return n.caught=r}}class Je{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Xe(e,this.selector,this.caught))}}class Xe extends Me.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Me.IY(this);this.add(r);const i=(0,Me.ft)(n,r);i!==r&&this.add(i)}}}var et=n(3982);function tt(e,t){return(0,et.zg)(e,t,1)}function nt(e){return function(t){return 0===e?(0,Re.c)():t.lift(new rt(e))}}class rt{constructor(e){if(this.total=e,this.total<0)throw new je}call(e,t){return t.subscribe(new it(e,this.total))}}class it extends we.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function st(e=ut){return t=>t.lift(new ot(e))}class ot{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new at(e,this.errorFactory))}}class at extends we.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function ut(){return new xe}function ct(e=null){return t=>t.lift(new lt(e))}class lt{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ht(e,this.defaultValue))}}class ht extends we.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var dt=n(3392);function ft(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ke((t,n)=>e(t,n,r)):dt.y,qe(1),n?ct(t):st(()=>new xe))}var pt=n(6599),gt=n(1564),mt=n(7570);class yt{constructor(e){this.callback=e}call(e,t){return t.subscribe(new vt(e,this.callback))}}class vt extends we.L{constructor(e,t){super(e),this.add(new mt.w(t))}}class wt{constructor(e,t){this.id=e,this.url=t}}class _t extends wt{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bt extends wt{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class It extends wt{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tt extends wt{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Et extends wt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends wt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends wt{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kt extends wt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends wt{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nt{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ot{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dt{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pt{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ft(e){return new Mt(e)}function Vt(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Ut(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function jt(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!qt(e[i],t[i]))return!1;return!0}function qt(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Bt(e){return Array.prototype.concat.apply([],e)}function $t(e){return e.length>0?e[e.length-1]:null}function Zt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function zt(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,de.D)(Promise.resolve(e)):(0,fe.of)(e)}const Ht={exact:function e(t,n,r){if(!tn(t.segments,n.segments))return!1;if(!Yt(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Wt},Gt={exact:function(e,t){return jt(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>qt(e[n],t[n]))},ignored:()=>!0};function Kt(e,t,n){return Ht[n.paths](e.root,t.root,n.matrixParams)&&Gt[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Wt(e,t,n){return Qt(e,t,t.segments,n)}function Qt(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!tn(i,n)&&!t.hasChildren()&&!!Yt(i,n,r)}if(e.segments.length===n.length){if(!tn(e.segments,n))return!1;if(!Yt(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Wt(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!tn(e.segments,i)&&!!Yt(e.segments,i,r)&&!!e.children.primary&&Qt(e.children.primary,t,s,r)}}function Yt(e,t,n){return t.every((t,r)=>Gt[n](e[r].parameters,t.parameters))}class Jt{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zt(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class en{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return fn(this)}}function tn(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class nn{}class rn{parse(e){const t=new vn(e);return new Jt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${an(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${cn(t)}=${cn(e)}`).join("&"):`${cn(t)}=${cn(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const sn=new rn;function on(e){return e.segments.map(e=>fn(e)).join("/")}function an(e,t){if(!e.hasChildren())return on(e);if(t){const t=e.children.primary?an(e.children.primary,!1):"",n=[];return Zt(e.children,(e,t)=>{"primary"!==t&&n.push(`${t}:${an(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Zt(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),Zt(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>"primary"===n?[an(e.children.primary,!1)]:[`${n}:${an(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${on(e)}/${t[0]}`:`${on(e)}/(${t.join("//")})`}}function un(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(e){return un(e).replace(/%3B/gi,";")}function ln(e){return un(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(e){return decodeURIComponent(e)}function dn(e){return hn(e.replace(/\+/g,"%20"))}function fn(e){return`${ln(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${ln(e)}=${ln(t[e])}`).join("")}`;var t}const pn=/^[^\/()?;=#]+/;function gn(e){const t=e.match(pn);return t?t[0]:""}const mn=/^[^=?&#]+/,yn=/^[^?&#]+/;class vn{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Xt(e,t)),n}parseSegment(){const e=gn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new en(hn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gn(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=gn(this.remaining);e&&(n=e,this.capture(n))}e[hn(t)]=hn(n)}parseQueryParam(e){const t=function(e){const t=e.match(mn);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(yn);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=dn(t),i=dn(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Xt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class wn{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_n(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=_n(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return bn(e,this._root).map(e=>e.value)}}function _n(e,t){if(e===t.value)return t;for(const n of t.children){const t=_n(e,n);if(t)return t}return null}function bn(e,t){if(e===t.value)return[t];for(const n of t.children){const r=bn(e,n);if(r.length)return r.unshift(t),r}return[]}class In{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tn(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class En extends wn{constructor(e,t){super(e),this.snapshot=t,Nn(this,e)}toString(){return this.snapshot.toString()}}function Sn(e,t){const n=function(e,t){const n=new An([],{},{},"",{},"primary",t,null,e.root,-1,{});return new xn("",new In(n,[]))}(e,t),r=new me([new en("",{})]),i=new me({}),s=new me({}),o=new me({}),a=new me(""),u=new Cn(r,i,o,a,s,"primary",t,n.root);return u.snapshot=n.root,new En(new In(u,[]),n)}class Cn{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(e=>Ft(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(e=>Ft(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kn(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class An{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xn extends wn{constructor(e,t){super(t),this.url=e,Nn(this,t)}toString(){return On(this._root)}}function Nn(e,t){t.value._routerState=e,t.children.forEach(t=>Nn(e,t))}function On(e){const t=e.children.length>0?` { ${e.children.map(On).join(", ")} } `:"";return`${e.value}${t}`}function Rn(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,jt(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),jt(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!jt(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),jt(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Dn(e,t){return jt(e.params,t.params)&&function(e,t){return tn(e,t)&&e.every((e,n)=>jt(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Dn(e.parent,t.parent))}function Pn(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Pn(e,t,r);return Pn(e,t)})}(e,t,n);return new In(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Ln(t,e),e}}const n=new Cn(new me((r=t.value).url),new me(r.params),new me(r.queryParams),new me(r.fragment),new me(r.data),r.outlet,r.component,r),i=t.children.map(t=>Pn(e,t));return new In(n,i)}var r}function Ln(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Ln(e.children[n],t.children[n])}function Mn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Fn(e){return"object"==typeof e&&null!=e&&e.outlets}function Vn(e,t,n,r,i){let s={};return r&&Zt(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Jt(n.root===e?t:Un(n.root,e,t),s,i)}function Un(e,t,n){const r={};return Zt(e.children,(e,i)=>{r[i]=e===t?n:Un(e,t,n)}),new Xt(e.segments,r)}class jn{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Mn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Fn);if(r&&r!==$t(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Bn(e,t,n){if(e||(e=new Xt([],{})),0===e.segments.length&&e.hasChildren())return $n(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Fn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Gn(a,u,t))return s;r+=2}else{if(!Gn(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Xt(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Xt(e.segments.slice(r.pathIndex),e.children),$n(t,0,i)}return r.match&&0===i.length?new Xt(e.segments,{}):r.match&&!e.hasChildren()?Zn(e,t,n):r.match?$n(e,0,i):Zn(e,t,n)}function $n(e,t,n){if(0===n.length)return new Xt(e.segments,{});{const r=function(e){return Fn(e[0])?e[0].outlets:{primary:e}}(n),i={};return Zt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Bn(e.children[r],t,n))}),Zt(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Xt(e.segments,i)}}function Zn(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Fn(s)){const e=zn(s.outlets);return new Xt(r,e)}if(0===i&&Mn(n[0])){r.push(new en(e.segments[t].path,Hn(n[0]))),i++;continue}const o=Fn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Mn(a)?(r.push(new en(o,Hn(a))),i+=2):(r.push(new en(o,{})),i++)}return new Xt(r,{})}function zn(e){const t={};return Zt(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Zn(new Xt([],{}),0,e))}),t}function Hn(e){const t={};return Zt(e,(e,n)=>t[n]=`${e}`),t}function Gn(e,t,n){return e==n.path&&jt(t,n.parameters)}class Kn{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Rn(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Tn(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Zt(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Tn(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Tn(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Pt(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Rt(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Rn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Wn(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Wn(e){Rn(e.value),e.children.forEach(Wn)}class Qn{constructor(e,t){this.routes=e,this.module=t}}function Yn(e){return"function"==typeof e}function Jn(e){return e instanceof Jt}const Xn=Symbol("INITIAL_VALUE");function er(){return Fe(e=>function(...e){let t,n;return(0,ye.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,ve.k)(e[0])&&(e=e[0]),(0,Se.n)(e,n).lift(new ke(t))}(e.map(e=>e.pipe(qe(1),Ze(Xn)))).pipe(ze((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Xn)return e;if(r===Xn&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Jn(r))return r}return e},e)},Xn),Ke(e=>e!==Xn),(0,Le.U)(e=>Jn(e)?e:!0===e),qe(1)))}let tr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Yr]},encapsulation:2}),e})();function nr(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];rr(r,ir(t,r))}}function rr(e,t){e.children&&nr(e.children,t)}function ir(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function sr(e){const t=e.children&&e.children.map(sr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=tr),n}function or(e){return e.outlet||"primary"}function ar(e,t){const n=e.filter(e=>or(e)===t);return n.push(...e.filter(e=>or(e)!==t)),n}const ur={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},ur):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Ut)(n,e,t);if(!i)return Object.assign({},ur);const s={};Zt(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function lr(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>hr(e,t,n)&&"primary"!==or(n))}(e,n,r)){const i=new Xt(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&"primary"!==or(s)){const n=new Xt([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[or(s)]=n}return i}(e,t,r,new Xt(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>hr(e,t,n))}(e,n,r)){const s=new Xt(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(hr(e,n,a)&&!i[or(a)]){const n=new Xt([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[or(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Xt(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function hr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function dr(e,t,n,r){return!!(or(e)===r||"primary"!==r&&hr(t,n,e))&&("**"===e.path||cr(t,e,n).matched)}function fr(e,t,n){return 0===t.length&&!e.children[n]}class pr{constructor(e){this.segmentGroup=e||null}}class gr{constructor(e){this.urlTree=e}}function mr(e){return new Te.y(t=>t.error(new pr(e)))}function yr(e){return new Te.y(t=>t.error(new gr(e)))}function vr(e){return new Te.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class wr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=lr(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,"primary").pipe((0,Le.U)(e=>this.createUrlTree(_r(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ye(e=>{if(e instanceof gr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof pr)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe((0,Le.U)(t=>this.createUrlTree(_r(t),e.queryParams,e.fragment))).pipe(Ye(e=>{if(e instanceof pr)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Xt([],{primary:e}):e;return new Jt(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Le.U)(e=>new Xt([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,de.D)(r).pipe(tt(r=>{const i=n.children[r],s=ar(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,Le.U)(e=>({segment:e,outlet:r})))}),ze((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ke((t,n)=>e(t,n,r)):dt.y,nt(1),n?ct(t):st(()=>new xe))}())}expandSegment(e,t,n,r,i,s){return(0,de.D)(n).pipe(tt(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Ye(e=>{if(e instanceof pr)return(0,fe.of)(null);throw e}))),ft(e=>!!e),Ye((e,n)=>{if(e instanceof xe||"EmptyError"===e.name){if(fr(t,r,i))return(0,fe.of)(new Xt([],{}));throw new pr(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return dr(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):mr(t):mr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(i):this.lineralizeSegments(n,i).pipe((0,et.zg)(n=>{const i=new Xt(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=cr(t,r,i);if(!o)return mr(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?yr(l):this.lineralizeSegments(r,l).pipe((0,et.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,fe.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Le.U)(e=>(n._loadedConfig=e,new Xt(r,{})))):(0,fe.of)(new Xt(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=cr(t,n,r);if(!s)return mr(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,et.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=lr(t,o,u,s),l=new Xt(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Le.U)(e=>new Xt(o,e)));if(0===s.length&&0===c.length)return(0,fe.of)(new Xt(o,{}));const h=or(n)===i;return this.expandSegment(r,l,s,c,h?"primary":i,!0).pipe((0,Le.U)(e=>new Xt(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,fe.of)(new Qn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,fe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,et.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,Le.U)(e=>(t._loadedConfig=e,e))):function(e){return new Te.y(t=>t.error(Vt(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,fe.of)(new Qn([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,fe.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Yn(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Yn(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return zt(s)});return(0,fe.of)(i).pipe(er(),(0,pt.b)(e=>{if(!Jn(e))return;const t=Vt(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Le.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,fe.of)(n);if(r.numberOfChildren>1||!r.children.primary)return vr(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Jt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Zt(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Zt(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Xt(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function _r(e){const t={};for(const n of Object.keys(e.children)){const r=_r(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Xt(e.segments.concat(t.segments),t.children)}return e}(new Xt(e.segments,t))}class br{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ir{constructor(e,t){this.component=e,this.route=t}}function Tr(e,t,n){const r=e._root;return Sr(r,t?t._root:null,n,[r.value])}function Er(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Sr(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tn(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!tn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!tn(e.url,t.url)||!jt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dn(e,t)||!jt(e.queryParams,t.queryParams);case"paramsChange":default:return!Dn(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new br(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Sr(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ir(a.outlet.component,o))}else o&&Cr(t,a,i),i.canActivateChecks.push(new br(r)),Sr(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Zt(s,(e,t)=>Cr(e,n.getContext(t),i)),i}function Cr(e,t,n){const r=Tn(e),i=e.value;Zt(r,(e,r)=>{Cr(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Ir(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class kr{}function Ar(e){return new Te.y(t=>t.error(e))}class xr{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=lr(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;const n=new An([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,t),i=new xn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=kn(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=ar(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Or(n);return r.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return fr(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!dr(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?$t(n).parameters:{};i=new An(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(e),or(e),e.component,e,Rr(t),Dr(t)+n.length,Lr(e))}else{const r=cr(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new An(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(e),or(e),e.component,e,Rr(t),Dr(t)+s.length,Lr(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=lr(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new In(i,e)]}if(0===a.length&&0===c.length)return[new In(i,[])];const l=or(e)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new In(i,h)]}}function Nr(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Or(e){const t=[],n=new Set;for(const r of e){if(!Nr(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Or(r.children);t.push(new In(r.value,e))}return t.filter(e=>!n.has(e))}function Rr(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Dr(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Pr(e){return e.data||{}}function Lr(e){return e.resolve||{}}function Mr(e){return Fe(t=>{const n=e(t);return n?(0,de.D)(n).pipe((0,Le.U)(()=>t)):(0,fe.of)(t)})}class Fr extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vr=new r.OlP("ROUTES");class Ur{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Le.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Qn(Bt(i.injector.get(Vr,void 0,r.XFs.Self|r.XFs.Optional)).map(sr),i)}),Ye(e=>{throw t._loader$=void 0,e}));return t._loader$=new Pe.c(n,()=>new pe.xQ).pipe((0,gt.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,de.D)(this.loader.load(e)):zt(e()).pipe((0,et.zg)(e=>e instanceof r.YKP?(0,fe.of)(e):(0,de.D)(this.compiler.compileModuleAsync(e))))}}class jr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qr,this.attachRef=null}}class qr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new jr,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Br{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $r(e){throw e}function Zr(e,t,n){return t.parse("/")}function zr(e,t){return(0,fe.of)(null)}const Hr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class e{constructor(e,t,n,i,s,o,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe.xQ,this.errorHandler=$r,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zr,afterPreactivation:zr},this.urlHandlingStrategy=new Br,this.routeReuseStrategy=new Fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Jt(new Xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ur(o,a,e=>this.triggerEvent(new xt(e)),e=>this.triggerEvent(new Nt(e))),this.routerState=Sn(this.currentUrlTree,this.rootComponentType),this.transitions=new me({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ke(e=>0!==e.id),(0,Le.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Fe(e=>{let n=!1,r=!1;return(0,fe.of)(e).pipe((0,pt.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fe(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,fe.of)(e).pipe(Fe(e=>{const n=this.transitions.getValue();return t.next(new _t(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Re.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Fe(e=>function(e,t,n,r,i){return new wr(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,Le.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,pt.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,et.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new xr(e,t,n,r,i,s).recognize();return null===o?Ar(new kr):(0,fe.of)(o)}catch(o){return Ar(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,Le.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Et(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new _t(n,this.serializeUrl(r),i,s);t.next(a);const u=Sn(r,this.rootComponentType).snapshot;return(0,fe.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Re.E}),Mr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,pt.b)(e=>{const t=new St(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Le.U)(e=>Object.assign(Object.assign({},e),{guards:Tr(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,et.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,fe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,de.D)(e).pipe((0,et.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,fe.of)(!0);const o=s.map(s=>{const o=Er(s,t,i);let a;if(function(e){return e&&Yn(e.canDeactivate)}(o))a=zt(o.canDeactivate(e,t,n,r));else{if(!Yn(o))throw new Error("Invalid CanDeactivate guard");a=zt(o(e,t,n,r))}return a.pipe(ft())});return(0,fe.of)(o).pipe(er())}(e.component,e.route,n,t,r)),ft(e=>!0!==e,!0))}(o,r,i,e).pipe((0,et.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,de.D)(t).pipe(tt(t=>Oe(function(e,t){return null!==e&&t&&t(new Ot(e)),(0,fe.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Dt(e)),(0,fe.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>De(()=>{const i=t.guards.map(i=>{const s=Er(i,t.node,n);let o;if(function(e){return e&&Yn(e.canActivateChild)}(s))o=zt(s.canActivateChild(r,e));else{if(!Yn(s))throw new Error("Invalid CanActivateChild guard");o=zt(s(r,e))}return o.pipe(ft())});return(0,fe.of)(i).pipe(er())}));return(0,fe.of)(i).pipe(er())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,fe.of)(!0);const i=r.map(r=>De(()=>{const i=Er(r,t,n);let s;if(function(e){return e&&Yn(e.canActivate)}(i))s=zt(i.canActivate(t,e));else{if(!Yn(i))throw new Error("Invalid CanActivate guard");s=zt(i(t,e))}return s.pipe(ft())}));return(0,fe.of)(i).pipe(er())}(e,t.route,n))),ft(e=>!0!==e,!0))}(r,s,e,t):(0,fe.of)(n)),(0,Le.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,pt.b)(e=>{if(Jn(e.guardsResult)){const t=Vt(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Ct(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ke(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),Mr(e=>{if(e.guards.canActivateChecks.length)return(0,fe.of)(e).pipe((0,pt.b)(e=>{const t=new kt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Fe(e=>{let t=!1;return(0,fe.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,et.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,fe.of)(e);let s=0;return(0,de.D)(i).pipe(tt(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,fe.of)({});const s={};return(0,de.D)(i).pipe((0,et.zg)(i=>function(e,t,n,r){const i=Er(e,t,r);return zt(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,pt.b)(e=>{s[i]=e}))),nt(1),(0,et.zg)(()=>Object.keys(s).length===i.length?(0,fe.of)(s):Re.E))}(e._resolve,e,t,r).pipe((0,Le.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),kn(e,n).resolve),null)))}(e.route,t,n,r)),(0,pt.b)(()=>s++),nt(1),(0,et.zg)(t=>s===i.length?(0,fe.of)(e):Re.E))})),(0,pt.b)({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,pt.b)(e=>{const t=new At(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Mr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Le.U)(e=>{const t=function(e,t,n){const r=Pn(e,t._root,n?n._root:void 0);return new En(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,pt.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,Le.U)(e=>(new Kn(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,pt.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new yt(i))),Ye(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new It(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Tt(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(vh){e.reject(vh)}}var i;return Re.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nr(e),this.config=e.map(sr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Vn(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new jn(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Zt(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new jn(n,t,r)}(n);if(s.toRoot())return Vn(t.root,new Xt([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new qn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new qn(e,e===t.root,0)}const r=Mn(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?$n(o.segmentGroup,o.index,s.commands):Bn(o.segmentGroup,o.index,s.commands);return Vn(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Jn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Hr):!1===t?Object.assign({},Gr):t,Jn(e))return Kt(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Kt(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new It(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(nn),r.LFG(qr),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Wr=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new pe.xQ,this.subscription=e.events.subscribe(e=>{e instanceof bt&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Qr(this.skipLocationChange),replaceUrl:Qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qr(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Kr),r.Y36(Cn),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Qr(e){return""===e||!!e}let Yr=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Jr(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(qr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Jr{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Cn?this.route:e===qr?this.childContexts:this.parent.get(e,t)}}class Xr{}class ei{preload(e,t){return(0,fe.of)(null)}}let ti=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Ur(t,n,t=>e.triggerEvent(new xt(t)),t=>e.triggerEvent(new Nt(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(e=>e instanceof bt),tt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,de.D)(n).pipe((0,Ne.J)(),(0,Le.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,fe.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,et.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Kr),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Xr))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ni=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _t?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lt&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Lt(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Kr),r.LFG(D),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ri=new r.OlP("ROUTER_CONFIGURATION"),ii=new r.OlP("ROUTER_FORROOT_GUARD"),si=[b,{provide:nn,useClass:rn},{provide:Kr,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new Kr(null,e,t,n,r,i,s,Bt(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[nn,qr,b,r.zs3,r.v3s,r.Sil,Vr,ri,[class{},new r.FiY],[class{},new r.FiY]]},qr,{provide:Cn,useFactory:function(e){return e.routerState.root},deps:[Kr]},{provide:r.v3s,useClass:r.EAV},ti,ei,class{preload(e,t){return t().pipe(Ye(()=>(0,fe.of)(null)))}},{provide:ri,useValue:{enableTracing:!1}}];function oi(){return new r.PXZ("Router",Kr)}let ai=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[si,hi(t),{provide:ii,useFactory:li,deps:[[Kr,new r.FiY,new r.tp0]]},{provide:ri,useValue:n||{}},{provide:m,useFactory:ci,deps:[a,[new r.tBr(v),new r.FiY],ri]},{provide:ni,useFactory:ui,deps:[Kr,D,ri]},{provide:Xr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ei},{provide:r.PXZ,multi:!0,useFactory:oi},[di,{provide:r.ip1,multi:!0,useFactory:fi,deps:[di]},{provide:gi,useFactory:pi,deps:[di]},{provide:r.tb,multi:!0,useExisting:gi}]]}}static forChild(t){return{ngModule:e,providers:[hi(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ii,8),r.LFG(Kr,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function ui(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ni(e,t,n)}function ci(e,t,n={}){return n.useHash?new _(e,t):new w(e,t)}function li(e){return"guarded"}function hi(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Vr,multi:!0,useValue:e}]}let di=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Kr),r=this.injector.get(ri);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,fe.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(ri),n=this.injector.get(ti),i=this.injector.get(ni),s=this.injector.get(Kr),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function fi(e){return e.appInitializer.bind(e)}function pi(e){return e.bootstrapListener.bind(e)}const gi=new r.OlP("Router Initializer");let mi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-error"]],decls:2,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"error works!"),r.qZA())},styles:[""]}),e})(),yi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-history"]],decls:2,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"history works!"),r.qZA())},styles:[""]}),e})();var vi=n(2056);function wi(e,t){return new Te.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,de.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let _i=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),bi=(()=>{class e extends _i{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Ii=new r.OlP("NgValueAccessor"),Ti={provide:Ii,useExisting:(0,r.Gpc)(()=>Si),multi:!0},Ei=new r.OlP("CompositionEventMode");let Si=(()=>{class e extends _i{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ei,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Ti]),r.qOj]}),e})();function Ci(e){return null==e||0===e.length}const ki=new r.OlP("NgValidators"),Ai=new r.OlP("NgAsyncValidators");function xi(e){return null}function Ni(e){return null!=e}function Oi(e){const t=(0,r.QGY)(e)?(0,de.D)(e):e;return(0,r.CqO)(t),t}function Ri(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Di(e,t){return t.map(t=>t(e))}function Pi(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Li(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ni);return 0==t.length?null:function(e){return Ri(Di(e,t))}}(Pi(e)):null}function Mi(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ni);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,ve.k)(t))return wi(t,null);if((0,vi.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return wi(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return wi(e=1===e.length&&(0,ve.k)(e[0])?e[0]:e,null).pipe((0,Le.U)(e=>t(...e)))}return wi(e,null)}(Di(e,t).map(Oi)).pipe((0,Le.U)(Ri))}}(Pi(e)):null}function Fi(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let Vi=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Li(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),Ui=(()=>{class e extends Vi{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class ji extends Vi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qi{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}let Bi=(()=>{class e extends qi{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ji,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),$i=(()=>{class e extends qi{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ui,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function Zi(e,t){Hi(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Gi(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Gi(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function zi(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Hi(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Fi(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Fi(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();zi(t._rawValidators,i),zi(t._rawAsyncValidators,i)}function Gi(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ki(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Wi(e){return(Xi(e)?e.validators:e)||null}function Qi(e){return Array.isArray(e)?Li(e):e||null}function Yi(e,t){return(Xi(t)?t.asyncValidators:e)||null}function Ji(e){return Array.isArray(e)?Mi(e):e||null}function Xi(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class es{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Qi(this._rawValidators),this._composedAsyncValidatorFn=Ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Qi(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ji(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const t=Oi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ns?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof rs&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ts extends es{constructor(e=null,t,n){super(Wi(t),Yi(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ki(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ki(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ns extends es{constructor(e,t,n){super(Wi(t),Yi(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ts?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class rs extends es{constructor(e,t,n){super(Wi(t),Yi(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ts?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const is={provide:Ui,useExisting:(0,r.Gpc)(()=>os)},ss=(()=>Promise.resolve(null))();let os=(()=>{class e extends Ui{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new ns({},Li(e),Mi(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ss.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Zi(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ss.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Ki(this._directives,e)})}addFormGroup(e){ss.then(()=>{const t=this._findContainer(e.path),n=new ns({});(function(e,t){Hi(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ss.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ss.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ki,10),r.Y36(Ai,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([is]),r.qOj]}),e})();const as={provide:ji,useExisting:(0,r.Gpc)(()=>cs)},us=(()=>Promise.resolve(null))();let cs=(()=>{class e extends ji{constructor(e,t,n,i){super(),this.control=new ts,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Si?n=e:Object.getPrototypeOf(e.constructor)===bi?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){us.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;us.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ui,9),r.Y36(ki,10),r.Y36(Ai,10),r.Y36(Ii,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([as]),r.qOj,r.TTD]}),e})(),ls=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const hs={provide:Ii,useExisting:(0,r.Gpc)(()=>ds),multi:!0};let ds=(()=>{class e extends bi{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[r._Bn([hs]),r.qOj]}),e})(),fs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const ps={provide:ki,useExisting:(0,r.Gpc)(()=>gs),multi:!0};let gs=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(e){return Ci(e.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([ps])]}),e})();const ms={provide:ki,useExisting:(0,r.Gpc)(()=>ys),multi:!0};let ys=(()=>{class e{constructor(){this._validator=xi}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){var e;this._validator=(e="number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10),t=>{return Ci(t.value)||null==(n=t.value)||"number"!=typeof n.length?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null;var n})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[r._Bn([ms]),r.TTD]}),e})(),vs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[fs]]}),e})(),ws=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[vs]}),e})();const _s=["f"];function bs(e,t){1&e&&(r.TgZ(0,"div",19),r._uU(1," Number of items sold is required. "),r.qZA())}function Is(e,t){1&e&&(r.TgZ(0,"div",19),r._uU(1," Number of items must be greater than 0. "),r.qZA())}function Ts(e,t){1&e&&(r.TgZ(0,"div",19),r._uU(1," Amount is required and needs to be at least 1 characters long. "),r.qZA())}let Es=(()=>{class e{constructor(){}ngOnInit(){}processForm(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-shirt"]],viewQuery:function(e,t){if(1&e&&r.Gf(_s,5),2&e){let e;r.iGM(e=r.CRH())&&(t.savingsForm=e.first)}},decls:29,vars:7,consts:[[1,"hero","is-info","is-bold"],[1,"hero-body"],[1,"container-title"],[1,"title"],[1,"section"],[1,"container"],[3,"ngSubmit"],["f","ngForm"],[1,"items"],["type","number","name","itemsSold","placeholder","Number of items sold","required","","minlength","1",1,"input",3,"ngModel","ngModelChange"],["itemsSoldInput","ngModel"],["class","help is-error",4,"ngIf"],[1,"amount"],["type","number","name","amount","placeholder","Dollar","required","","minlength","1",1,"input",3,"ngModel","ngModelChange"],["amountInput","ngModel"],[1,"description"],["type","text","name","description","placeholder","Description","minlength","1",1,"input",3,"ngModel","ngModelChange"],["descriptionInput","ngModel"],["type","submit",1,"button","is-danger","is-medium",3,"disabled"],[1,"help","is-error"]],template:function(e,t){if(1&e&&(r.TgZ(0,"section",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h1",3),r._uU(4,"Shirt Tracker"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"section",4),r.TgZ(6,"div",5),r.TgZ(7,"form",6,7),r.NdJ("ngSubmit",function(){return t.processForm()}),r.TgZ(9,"div",8),r.TgZ(10,"h2"),r._uU(11,"Number of items sold"),r.qZA(),r.TgZ(12,"input",9,10),r.NdJ("ngModelChange",function(e){return t.itemsSold=e}),r.qZA(),r.YNc(14,bs,2,0,"div",11),r.YNc(15,Is,2,0,"div",11),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"h2"),r._uU(18,"Enter the amount sold"),r.qZA(),r.TgZ(19,"input",13,14),r.NdJ("ngModelChange",function(e){return t.amount=e}),r.qZA(),r.YNc(21,Ts,2,0,"div",11),r.qZA(),r.TgZ(22,"div",15),r.TgZ(23,"h2"),r._uU(24,"Enter the description of the sale"),r.qZA(),r.TgZ(25,"input",16,17),r.NdJ("ngModelChange",function(e){return t.description=e}),r.qZA(),r.qZA(),r.TgZ(27,"button",18),r._uU(28,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.MAs(13),n=r.MAs(20);r.xp6(12),r.Q6J("ngModel",t.itemsSold),r.xp6(2),r.Q6J("ngIf",e.invalid&&e.dirty),r.xp6(1),r.Q6J("ngIf",0===t.itemsSold),r.xp6(4),r.Q6J("ngModel",t.amount),r.xp6(2),r.Q6J("ngIf",n.invalid&&n.dirty),r.xp6(4),r.Q6J("ngModel",t.description),r.xp6(2),r.Q6J("disabled",null===t.amount||n.invalid||e.invalid||0===t.itemsSold)}},directives:[ls,$i,os,ds,Si,gs,ys,Bi,cs,A],styles:[".amount[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.hero-body[_ngcontent-%COMP%]{height:132px}"]}),e})();const Ss=[{path:"",pathMatch:"full",component:Es},{path:"Shirt",component:Es},{path:"History",component:yi},{path:"Summary",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-summary"]],decls:2,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"summary works!"),r.qZA())},styles:[""]}),e})()},{path:"**",redirectTo:"/Error",pathMatch:"full"},{path:"Error",component:mi}];let Cs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ai.forRoot(Ss)],ai]}),e})(),ks=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-header"]],decls:11,vars:0,consts:[[1,"navbar","is-dark"],[1,"navbar-brand"],[1,"navbar-item"],[1,"navbar-menu"],[1,"navbar-start"],["routerLink","Shirt",1,"navbar-item"],["routerLink","History",1,"navbar-item"],["routerLink","Summary",1,"navbar-item"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r._UZ(2,"a",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"a",5),r._uU(6,"Shirt Tracker"),r.qZA(),r.TgZ(7,"a",6),r._uU(8,"History"),r.qZA(),r.TgZ(9,"a",7),r._uU(10,"Summary"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[Wr],styles:[""]}),e})(),As=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"container"],[1,"content","has-text-centered"]],template:function(e,t){1&e&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"p"),r._uU(4," Made by Nick Rentschler "),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),e})(),xs=(()=>{class e{constructor(){this.title="ShirtTracker"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(e,t){1&e&&(r._UZ(0,"app-header"),r._UZ(1,"router-outlet"),r._UZ(2,"app-footer"))},directives:[ks,Yr,As],styles:[""]}),e})();var Ns=n(9748),Os=n(8569),Rs=n(8934);function Ds(){return e=>e.lift(new Ps)}class Ps{call(e,t){return t.subscribe(new Ls(e))}}class Ls extends we.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Ms{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Fs(e,this.compare,this.keySelector))}}class Fs extends we.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}n(14);var Vs,Us=n(6986),js=n(6304),qs=n(7964),Bs=n(1947),$s=n(8678),Zs=n(5725),zs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Hs={},Gs=Gs||{},Ks=zs||self;function Ws(){}function Qs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ys(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Js="closure_uid_"+(1e9*Math.random()>>>0),Xs=0;function eo(e,t,n){return e.call.apply(e.bind,arguments)}function to(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function no(e,t,n){return(no=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eo:to).apply(null,arguments)}function ro(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function io(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function so(){this.s=this.s,this.o=this.o}var oo={};so.prototype.s=!1,so.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Js)&&e[Js]||(e[Js]=++Xs)}(this);delete oo[e]}},so.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ao=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},uo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function co(e){return Array.prototype.concat.apply([],arguments)}function lo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ho(e){return/^[\s\xa0]*$/.test(e)}var fo,po=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function go(e,t){return-1!=e.indexOf(t)}function mo(e,t){return e<t?-1:e>t?1:0}e:{var yo=Ks.navigator;if(yo){var vo=yo.userAgent;if(vo){fo=vo;break e}}fo=""}function wo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _o(e){const t={};for(const n in e)t[n]=e[n];return t}var bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Io(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<bo.length;t++)n=bo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function To(e){return To[" "](e),e}To[" "]=Ws;var Eo,So,Co=go(fo,"Opera"),ko=go(fo,"Trident")||go(fo,"MSIE"),Ao=go(fo,"Edge"),xo=Ao||ko,No=go(fo,"Gecko")&&!(go(fo.toLowerCase(),"webkit")&&!go(fo,"Edge"))&&!(go(fo,"Trident")||go(fo,"MSIE"))&&!go(fo,"Edge"),Oo=go(fo.toLowerCase(),"webkit")&&!go(fo,"Edge");function Ro(){var e=Ks.document;return e?e.documentMode:void 0}e:{var Do="",Po=(So=fo,No?/rv:([^\);]+)(\)|;)/.exec(So):Ao?/Edge\/([\d\.]+)/.exec(So):ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(So):Oo?/WebKit\/(\S+)/.exec(So):Co?/(?:Version)[ \/]?(\S+)/.exec(So):void 0);if(Po&&(Do=Po?Po[1]:""),ko){var Lo=Ro();if(null!=Lo&&Lo>parseFloat(Do)){Eo=String(Lo);break e}}Eo=Do}var Mo={};var Fo=Ks.document&&ko&&(Ro()||parseInt(Eo,10))||void 0,Vo=function(){if(!Ks.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ks.addEventListener("test",Ws,t),Ks.removeEventListener("test",Ws,t)}catch(n){}return e}();function Uo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function jo(e,t){if(Uo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(No){e:{try{To(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:qo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&jo.Z.h.call(this)}}Uo.prototype.h=function(){this.defaultPrevented=!0},io(jo,Uo);var qo={2:"touch",3:"pen",4:"mouse"};jo.prototype.h=function(){jo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bo="closure_listenable_"+(1e6*Math.random()|0),$o=0;function Zo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++$o,this.ca=this.fa=!1}function zo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ho(e){this.src=e,this.g={},this.h=0}function Go(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ao(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(zo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ko(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ho.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ko(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Zo(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Wo="closure_lm_"+(1e6*Math.random()|0),Qo={};function Yo(e,t,n,r,i){if(r&&r.once)return Xo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Yo(e,t[s],n,r,i);return null}return n=oa(n),e&&e[Bo]?e.N(t,n,Ys(r)?!!r.capture:!!r,i):Jo(e,t,n,!1,r,i)}function Jo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ys(i)?!!i.capture:!!i,a=ia(e);if(a||(e[Wo]=a=new Ho(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=ra;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xo(e,t[s],n,r,i);return null}return n=oa(n),e&&e[Bo]?e.O(t,n,Ys(r)?!!r.capture:!!r,i):Jo(e,t,n,!0,r,i)}function ea(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ea(e,t[s],n,r,i);else r=Ys(r)?!!r.capture:!!r,n=oa(n),e&&e[Bo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ko(s=e.g[t],n,r,i))&&(zo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=ia(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ko(t,n,r,i)),(n=-1<e?t[e]:null)&&ta(n))}function ta(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Bo])Go(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ia(t))?(Go(n,e),0==n.h&&(n.src=null,t[Wo]=null)):zo(e)}}}function na(e){return e in Qo?Qo[e]:Qo[e]="on"+e}function ra(e,t){if(e.ca)e=!0;else{t=new jo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ta(e),e=n.call(r,t)}return e}function ia(e){return(e=e[Wo])instanceof Ho?e:null}var sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(e){return"function"==typeof e?e:(e[sa]||(e[sa]=function(t){return e.handleEvent(t)}),e[sa])}function aa(){so.call(this),this.i=new Ho(this),this.P=this,this.I=null}function ua(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Uo(t,e);else if(t instanceof Uo)t.target=t.target||e;else{var i=t;Io(t=new Uo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ca(o,r,!0,t)&&i}if(i=ca(o=t.g=e,r,!0,t)&&i,i=ca(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ca(o=t.g=n[s],r,!1,t)&&i}function ca(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Go(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}io(aa,so),aa.prototype[Bo]=!0,aa.prototype.removeEventListener=function(e,t,n,r){ea(this,e,t,n,r)},aa.prototype.M=function(){if(aa.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zo(n[r]);delete t.g[e],t.h--}}this.I=null},aa.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},aa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var la=Ks.JSON.stringify;function ha(){var e=va;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var da,fa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pa,e=>e.reset());class pa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ga(e){Ks.setTimeout(()=>{throw e},0)}function ma(e,t){da||function(){var e=Ks.Promise.resolve(void 0);da=function(){e.then(wa)}}(),ya||(da(),ya=!0),va.add(e,t)}var ya=!1,va=new class{constructor(){this.h=this.g=null}add(e,t){const n=fa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function wa(){for(var e;e=ha();){try{e.h.call(e.g)}catch(n){ga(n)}var t=fa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1}function _a(e,t){aa.call(this),this.h=e||1,this.g=t||Ks,this.j=no(this.kb,this),this.l=Date.now()}function ba(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ia(e,t,n){if("function"==typeof e)n&&(e=no(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=no(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ks.setTimeout(e,t||0)}function Ta(e){e.g=Ia(()=>{e.g=null,e.i&&(e.i=!1,Ta(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}io(_a,aa),(Vs=_a.prototype).da=!1,Vs.S=null,Vs.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ua(this,"tick"),this.da&&(ba(this),this.start()))}},Vs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vs.M=function(){_a.Z.M.call(this),ba(this),delete this.g};class Ea extends so{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ta(this)}M(){super.M(),this.g&&(Ks.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(e){so.call(this),this.h=e,this.g={}}io(Sa,so);var Ca=[];function ka(e,t,n,r){Array.isArray(n)||(n&&(Ca[0]=n.toString()),n=Ca);for(var i=0;i<n.length;i++){var s=Yo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Aa(e){wo(e.g,function(e,t){this.g.hasOwnProperty(t)&&ta(e)},e),e.g={}}function xa(){this.g=!0}function Na(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return la(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Sa.prototype.M=function(){Sa.Z.M.call(this),Aa(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xa.prototype.Aa=function(){this.g=!1},xa.prototype.info=function(){};var Oa={},Ra=null;function Da(){return Ra=Ra||new aa}function Pa(e){Uo.call(this,Oa.Ma,e)}function La(e){const t=Da();ua(t,new Pa(t,e))}function Ma(e,t){Uo.call(this,Oa.STAT_EVENT,e),this.stat=t}function Fa(e){const t=Da();ua(t,new Ma(t,e))}function Va(e,t){Uo.call(this,Oa.Na,e),this.size=t}function Ua(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ks.setTimeout(function(){e()},t)}Oa.Ma="serverreachability",io(Pa,Uo),Oa.STAT_EVENT="statevent",io(Ma,Uo),Oa.Na="timingevent",io(Va,Uo);var ja={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ba(){}function $a(){}Ba.prototype.h=null;var Za,za={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ha(){Uo.call(this,"d")}function Ga(){Uo.call(this,"c")}function Ka(){}function Wa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Sa(this),this.P=Ya,this.W=new _a(e=xo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qa}function Qa(){this.i=null,this.g="",this.h=!1}io(Ha,Uo),io(Ga,Uo),io(Ka,Ba),Ka.prototype.g=function(){return new XMLHttpRequest},Ka.prototype.i=function(){return{}},Za=new Ka;var Ya=45e3,Ja={},Xa={};function eu(e,t,n){e.K=1,e.v=Tu(yu(t)),e.s=n,e.U=!0,tu(e,null)}function tu(e,t){e.F=Date.now(),su(e),e.A=yu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Qa,e.g=Mc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ea(no(e.Ia,e,e.g),e.O)),ka(e.V,e.g,"readystatechange",e.gb),t=e.H?_o(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),La(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function nu(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function ru(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=iu(e,n),r==Xa){4==t&&(e.o=4,Fa(14),i=!1),Na(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ja){e.o=4,Fa(15),Na(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Na(e.j,e.m,r,null),lu(e,r)}nu(e)&&r!=Xa&&r!=Ja&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fa(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ac(t),t.L=!0,Fa(11))):(Na(e.j,e.m,n,"[Invalid Chunked Response]"),cu(e),uu(e))}function iu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xa:(n=Number(t.substring(n,r)),isNaN(n)?Ja:(r+=1)+n>t.length?Xa:(t=t.substr(r,n),e.C=r+n,t))}function su(e){e.Y=Date.now()+e.P,ou(e,e.P)}function ou(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ua(no(e.eb,e),t)}function au(e){e.B&&(Ks.clearTimeout(e.B),e.B=null)}function uu(e){0==e.l.G||e.I||Oc(e.l,e)}function cu(e){au(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ba(e.W),Aa(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bu(n.i,e)))if(n.I=e.N,!e.J&&Bu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Nc(n),wc(n)}kc(n),Fa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ua(no(n.ab,n),6e3));if(1>=qu(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Dc(n,11)}else if((e.J||n.g==e)&&Nc(n),!ho(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(go(e,"spdy")||go(e,"quic")||go(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&($u(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Iu(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Lc(r,r.H?r.la:null,r.W),o.J){Zu(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(au(a),su(a)),r.g=o}else Cc(r);0<n.l.length&&Ic(n)}else"stop"!=c[0]&&"close"!=c[0]||Dc(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Dc(n,7):vc(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}La(4)}catch(c){}}function hu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qs(e)||"string"==typeof e)uo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Qs(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Qs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function du(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof du)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function fu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];pu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)pu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function pu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Vs=Wa.prototype).setTimeout=function(e){this.P=e},Vs.gb=function(e){e=e.target;const t=this.L;t&&3==fc(e)?t.l():this.Ia(e)},Vs.Ia=function(e){try{if(e==this.g)e:{const l=fc(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||xo||this.g&&(this.h.h||this.g.ga()||pc(this.g)))){this.I||4!=l||7==t||La(8==t||0>=h?3:2),au(this);var n=this.g.ba();this.N=n;t:if(nu(this)){var r=pc(this.g);e="";var i=r.length,s=4==fc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cu(this),uu(this);var o="";break t}this.h.i=new Ks.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ho(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Fa(12),cu(this),uu(this);break e}Na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lu(this,n)}this.U?(ru(this,l,o),xo&&this.i&&3==l&&(ka(this.V,this.W,"tick",this.fb),this.W.start())):(Na(this.j,this.m,o,null),lu(this,o)),4==l&&cu(this),this.i&&!this.I&&(4==l?Oc(this.l,this):(this.i=!1,su(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Fa(12)):(this.o=0,Fa(13)),cu(this),uu(this)}}}catch(l){}},Vs.fb=function(){if(this.g){var e=fc(this.g),t=this.g.ga();this.C<t.length&&(au(this),ru(this,e,t),this.i&&4!=e&&su(this))}},Vs.cancel=function(){this.I=!0,cu(this)},Vs.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(La(3),Fa(17)),cu(this),this.o=2,uu(this)):ou(this,this.Y-e)},(Vs=du.prototype).R=function(){fu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Vs.T=function(){return fu(this),this.g.concat()},Vs.get=function(e,t){return pu(this.h,e)?this.h[e]:t},Vs.set=function(e,t){pu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Vs.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var gu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mu){this.g=void 0!==t?t:e.g,vu(this,e.j),this.s=e.s,wu(this,e.i),_u(this,e.m),this.l=e.l,t=e.h;var n=new Ru;n.i=t.i,t.g&&(n.g=new du(t.g),n.h=t.h),bu(this,n),this.o=e.o}else e&&(n=String(e).match(gu))?(this.g=!!t,vu(this,n[1]||"",!0),this.s=Eu(n[2]||""),wu(this,n[3]||"",!0),_u(this,n[4]),this.l=Eu(n[5]||"",!0),bu(this,n[6]||"",!0),this.o=Eu(n[7]||"")):(this.g=!!t,this.h=new Ru(null,this.g))}function yu(e){return new mu(e)}function vu(e,t,n){e.j=n?Eu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wu(e,t,n){e.i=n?Eu(t,!0):t}function _u(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bu(e,t,n){t instanceof Ru?(e.h=t,function(e,t){t&&!e.j&&(Du(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Pu(this,t),Mu(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Su(t,Nu)),e.h=new Ru(t,e.g))}function Iu(e,t,n){e.h.set(t,n)}function Tu(e){return Iu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Eu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Su(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Cu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Su(t,ku,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Su(t,ku,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Su(n,"/"==n.charAt(0)?xu:Au,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Su(n,Ou)),e.join("")};var ku=/[#\/\?@]/g,Au=/[#\?:]/g,xu=/[#\?]/g,Nu=/[#\?@]/g,Ou=/#/g;function Ru(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Du(e){e.g||(e.g=new du,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Pu(e,t){Du(e),t=Fu(e,t),pu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,pu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&fu(e)))}function Lu(e,t){return Du(e),t=Fu(e,t),pu(e.g.h,t)}function Mu(e,t,n){Pu(e,t),0<n.length&&(e.i=null,e.g.set(Fu(e,t),lo(n)),e.h+=n.length)}function Fu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Vu(e){this.l=e||Uu,e=Ks.PerformanceNavigationTiming?0<(e=Ks.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ks.g&&Ks.g.Ea&&Ks.g.Ea()&&Ks.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Vs=Ru.prototype).add=function(e,t){Du(this),this.i=null,e=Fu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vs.forEach=function(e,t){Du(this),this.g.forEach(function(n,r){uo(n,function(n){e.call(t,n,r,this)},this)},this)},Vs.T=function(){Du(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Vs.R=function(e){Du(this);var t=[];if("string"==typeof e)Lu(this,e)&&(t=co(t,this.g.get(Fu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=co(t,e[n])}return t},Vs.set=function(e,t){return Du(this),this.i=null,Lu(this,e=Fu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vs.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Vs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Uu=10;function ju(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qu(e){return e.h?1:e.g?e.g.size:0}function Bu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $u(e,t){e.g?e.g.add(t):e.h=t}function Zu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return lo(e.i)}function Hu(){}function Gu(){this.g=new Hu}function Ku(e,t,n){const r=n||"";try{hu(e,function(e,n){let i=e;Ys(e)&&(i=la(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Qu(e){this.l=e.$b||null,this.j=e.ib||!1}function Yu(e,t){aa.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ju,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vu.prototype.cancel=function(){if(this.i=zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Hu.prototype.stringify=function(e){return Ks.JSON.stringify(e,void 0)},Hu.prototype.parse=function(e){return Ks.JSON.parse(e,void 0)},io(Qu,Ba),Qu.prototype.g=function(){return new Yu(this.l,this.j)},Qu.prototype.i=function(e){return function(){return e}}({}),io(Yu,aa);var Ju=0;function Xu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ec(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tc(e)}function tc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vs=Yu.prototype).open=function(e,t){if(this.readyState!=Ju)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tc(this)},Vs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ks).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Vs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ec(this)),this.readyState=Ju},Vs.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ks.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Vs.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ec(this):tc(this),3==this.readyState&&Xu(this)}},Vs.Ua=function(e){this.g&&(this.response=this.responseText=e,ec(this))},Vs.Ta=function(e){this.g&&(this.response=e,ec(this))},Vs.ha=function(){this.g&&ec(this)},Vs.setRequestHeader=function(e,t){this.v.append(e,t)},Vs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nc=Ks.JSON.parse;function rc(e){aa.call(this),this.headers=new du,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ic,this.K=this.L=!1}io(rc,aa);var ic="",sc=/^https?$/i,oc=["POST","PUT"];function ac(e){return"content-type"==e.toLowerCase()}function uc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cc(e),hc(e)}function cc(e){e.D||(e.D=!0,ua(e,"complete"),ua(e,"error"))}function lc(e){if(e.h&&void 0!==Gs&&(!e.C[1]||4!=fc(e)||2!=e.ba()))if(e.v&&4==fc(e))Ia(e.Fa,0,e);else if(ua(e,"readystatechange"),4==fc(e)){e.h=!1;try{const u=e.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===u){var i=String(e.H).match(gu)[1]||null;if(!i&&Ks.self&&Ks.self.location){var s=Ks.self.location.protocol;i=s.substr(0,s.length-1)}r=!sc.test(i?i.toLowerCase():"")}n=r}if(n)ua(e,"complete"),ua(e,"success");else{e.m=6;try{var o=2<fc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",cc(e)}}finally{hc(e)}}}function hc(e,t){if(e.g){dc(e);const r=e.g,i=e.C[0]?Ws:null;e.g=null,e.C=null,t||ua(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function dc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ks.clearTimeout(e.A),e.A=null)}function fc(e){return e.g?e.g.readyState:0}function pc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ic:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return wo(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Iu(e,t,n))}function mc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yc(e){this.za=0,this.l=[],this.h=new xa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mc("baseRetryDelayMs",5e3,e),this.$a=mc("retryDelaySeedMs",1e4,e),this.Ya=mc("forwardChannelMaxRetries",2,e),this.ra=mc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vu(e&&e.concurrentRequestLimit),this.Ca=new Gu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function vc(e){if(_c(e),3==e.G){var t=e.V++,n=yu(e.F);Iu(n,"SID",e.J),Iu(n,"RID",t),Iu(n,"TYPE","terminate"),Ec(e,n),(t=new Wa(e,e.h,t,void 0)).K=2,t.v=Tu(yu(n)),n=!1,Ks.navigator&&Ks.navigator.sendBeacon&&(n=Ks.navigator.sendBeacon(t.v.toString(),"")),!n&&Ks.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),su(t)}Pc(e)}function wc(e){e.g&&(Ac(e),e.g.cancel(),e.g=null)}function _c(e){wc(e),e.u&&(Ks.clearTimeout(e.u),e.u=null),Nc(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ks.clearTimeout(e.m),e.m=null)}function bc(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Ic(e)}function Ic(e){ju(e.i)||e.m||(e.m=!0,ma(e.Ha,e),e.C=0)}function Tc(e,t){var n;n=t?t.m:e.V++;const r=yu(e.F);Iu(r,"SID",e.J),Iu(r,"RID",n),Iu(r,"AID",e.U),Ec(e,r),e.o&&e.s&&gc(r,e.o,e.s),n=new Wa(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Sc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$u(e.i,n),eu(n,r,t)}function Ec(e,t){e.j&&hu({},function(e,n){Iu(t,n,e)})}function Sc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?no(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Ku(a,e,"req"+n+"_")}catch(fl){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Cc(e){e.g||e.u||(e.Y=1,ma(e.Ga,e),e.A=0)}function kc(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Ua(no(e.Ga,e),Rc(e,e.A)),e.A++,0))}function Ac(e){null!=e.B&&(Ks.clearTimeout(e.B),e.B=null)}function xc(e){e.g=new Wa(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yu(e.oa);Iu(t,"RID","rpc"),Iu(t,"SID",e.J),Iu(t,"CI",e.N?"0":"1"),Iu(t,"AID",e.U),Ec(e,t),Iu(t,"TYPE","xmlhttp"),e.o&&e.s&&gc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Tu(yu(t)),n.s=null,n.U=!0,tu(n,e)}function Nc(e){null!=e.v&&(Ks.clearTimeout(e.v),e.v=null)}function Oc(e,t){var n=null;if(e.g==t){Nc(e),Ac(e),e.g=null;var r=2}else{if(!Bu(e.i,t))return;n=t.D,Zu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ua(r=Da(),new Va(r,n,t,i)),Ic(e)}else Cc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(qu(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ua(no(e.Ha,e,t),Rc(e,e.C)),e.C++,0)))}(e,t)||2==r&&kc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dc(e,5);break;case 4:Dc(e,10);break;case 3:Dc(e,6);break;default:Dc(e,2)}}function Rc(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Dc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=no(e.jb,e);n||(n=new mu("//www.google.com/images/cleardot.gif"),Ks.location&&"http"==Ks.location.protocol||vu(n,"https"),Tu(n)),function(e,t){const n=new xa;if(Ks.Image){const r=new Image;r.onload=ro(Wu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ro(Wu,n,r,"TestLoadImage: error",!1,t),r.onabort=ro(Wu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ro(Wu,n,r,"TestLoadImage: timeout",!1,t),Ks.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fa(2);e.G=0,e.j&&e.j.va(t),Pc(e),_c(e)}function Pc(e){e.G=0,e.I=-1,e.j&&(0==zu(e.i).length&&0==e.l.length||(e.i.i.length=0,lo(e.l),e.l.length=0),e.j.ua())}function Lc(e,t,n){let r=function(e){return e instanceof mu?yu(e):new mu(e,void 0)}(n);if(""!=r.i)t&&wu(r,t+"."+r.i),_u(r,r.m);else{const e=Ks.location;r=function(e,t,n,r){var i=new mu(null,void 0);return e&&vu(i,e),t&&wu(i,t),n&&_u(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&wo(e.aa,function(e,t){Iu(r,t,e)}),n=e.sa,(t=e.D)&&n&&Iu(r,t,n),Iu(r,"VER",e.ma),Ec(e,r),r}function Mc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new rc(n&&e.Ba&&!e.qa?new Qu({ib:!0}):e.qa)).L=e.H,t}function Fc(){}function Vc(){if(ko&&!(10<=Number(Fo)))throw Error("Environmental error: no available transport.")}function Uc(e,t){aa.call(this),this.g=new yc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ho(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ho(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Bc(this)}function jc(e){Ha.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qc(){Ga.call(this),this.status=1}function Bc(e){this.g=e}(Vs=rc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Za.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Za),this.g.onreadystatechange=no(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void uc(this,s)}e=n||"";const i=new du(this.headers);r&&hu(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=ac;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ks.FormData&&e instanceof Ks.FormData,!(0<=ao(oc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dc(this),0<this.B&&((this.K=function(e){return ko&&function(){return e=Mo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=po(String(Eo)).split("."),n=po("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=mo(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||mo(0==i[2].length,0==s[2].length)||mo(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=no(this.pa,this)):this.A=Ia(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){uc(this,s)}},Vs.pa=function(){void 0!==Gs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ua(this,"timeout"),this.abort(8))},Vs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ua(this,"complete"),ua(this,"abort"),hc(this))},Vs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hc(this,!0)),rc.Z.M.call(this)},Vs.Fa=function(){this.s||(this.F||this.v||this.l?lc(this):this.cb())},Vs.cb=function(){lc(this)},Vs.ba=function(){try{return 2<fc(this)?this.g.status:-1}catch(So){return-1}},Vs.ga=function(){try{return this.g?this.g.responseText:""}catch(So){return""}},Vs.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nc(t)}},Vs.Da=function(){return this.m},Vs.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Vs=yc.prototype).ma=8,Vs.G=1,Vs.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Vs.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Wa(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=_o(s),Io(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Sc(this,i,t),Iu(n=yu(this.F),"RID",e),Iu(n,"CVER",22),this.D&&Iu(n,"X-HTTP-Session-Id",this.D),Ec(this,n),this.o&&s&&gc(n,this.o,s),$u(this.i,i),this.Ra&&Iu(n,"TYPE","init"),this.ja?(Iu(n,"$req",t),Iu(n,"SID","null"),i.$=!0,eu(i,n,null)):eu(i,n,t),this.G=2}}else 3==this.G&&(e?Tc(this,e):0==this.l.length||ju(this.i)||Tc(this))},Vs.Ga=function(){if(this.u=null,xc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ua(no(this.bb,this),e)}},Vs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fa(10),wc(this),xc(this))},Vs.ab=function(){null!=this.v&&(this.v=null,wc(this),kc(this),Fa(19))},Vs.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Fa(2)):(this.h.info("Failed to ping google.com"),Fa(1))},(Vs=Fc.prototype).xa=function(){},Vs.wa=function(){},Vs.va=function(){},Vs.ua=function(){},Vs.Oa=function(){},Vc.prototype.g=function(e,t){return new Uc(e,t)},io(Uc,aa),Uc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ma(no(e.hb,e,t))),Fa(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Lc(e,null,e.W),Ic(e)},Uc.prototype.close=function(){vc(this.g)},Uc.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,bc(this.g,t)}else this.v?((t={}).__data__=la(e),bc(this.g,t)):bc(this.g,e)},Uc.prototype.M=function(){this.g.j=null,delete this.j,vc(this.g),delete this.g,Uc.Z.M.call(this)},io(jc,Ha),io(qc,Ga),io(Bc,Fc),Bc.prototype.xa=function(){ua(this.g,"a")},Bc.prototype.wa=function(e){ua(this.g,new jc(e))},Bc.prototype.va=function(e){ua(this.g,new qc(e))},Bc.prototype.ua=function(){ua(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,Uc.prototype.send=Uc.prototype.u,Uc.prototype.open=Uc.prototype.m,Uc.prototype.close=Uc.prototype.close,ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,qa.COMPLETE="complete",$a.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",aa.prototype.listen=aa.prototype.N,rc.prototype.listenOnce=rc.prototype.O,rc.prototype.getLastError=rc.prototype.La,rc.prototype.getLastErrorCode=rc.prototype.Da,rc.prototype.getStatus=rc.prototype.ba,rc.prototype.getResponseJson=rc.prototype.Qa,rc.prototype.getResponseText=rc.prototype.ga,rc.prototype.send=rc.prototype.ea;var $c=Hs.createWebChannelTransport=function(){return new Vc},Zc=Hs.getStatEventTarget=function(){return Da()},zc=Hs.ErrorCode=ja,Hc=Hs.EventType=qa,Gc=Hs.Event=Oa,Kc=Hs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wc=Hs.FetchXmlHttpFactory=Qu,Qc=Hs.WebChannel=$a,Yc=Hs.XhrIo=rc;class Jc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jc.UNAUTHENTICATED=new Jc(null),Jc.GOOGLE_CREDENTIALS=new Jc("google-credentials-uid"),Jc.FIRST_PARTY=new Jc("first-party-uid"),Jc.MOCK_USER=new Jc("mock-user");let Xc="9.4.0";const el=new $s.Yd("@firebase/firestore");function tl(){return el.logLevel}function nl(e,...t){if(el.logLevel<=$s.in.DEBUG){const n=t.map(sl);el.debug(`Firestore (${Xc}): ${e}`,...n)}}function rl(e,...t){if(el.logLevel<=$s.in.ERROR){const n=t.map(sl);el.error(`Firestore (${Xc}): ${e}`,...n)}}function il(e,...t){if(el.logLevel<=$s.in.WARN){const n=t.map(sl);el.warn(`Firestore (${Xc}): ${e}`,...n)}}function sl(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ol(e="Unexpected state"){const t=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: `+e;throw rl(t),new Error(t)}function al(e,t){e||ol()}function ul(e,t){return e}const cl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ll extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dl{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class fl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jc.UNAUTHENTICATED))}shutdown(){}}class pl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gl{constructor(e){this.t=e,this.currentUser=Jc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,js.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{nl("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(nl("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(nl("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(al("string"==typeof t.accessToken),new dl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return al(null===e||"string"==typeof e),new Jc(e)}}class ml{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Jc.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class yl{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ml(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function wl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}vl.T=-1;class _l{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=wl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function bl(e,t){return e<t?-1:e>t?1:0}function Il(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Tl(e){return e+"\0"}class El{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ll(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ll(cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ll(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ll(cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return El.fromMillis(Date.now())}static fromDate(e){return El.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new El(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bl(this.nanoseconds,e.nanoseconds):bl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sl(e)}static min(){return new Sl(new El(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Cl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Al(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xl{constructor(e,t,n){void 0===t?t=0:t>e.length&&ol(),void 0===n?n=e.length-t:n>e.length-t&&ol(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===xl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nl extends xl{construct(e,t,n){return new Nl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ll(cl.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Nl(t)}static emptyPath(){return new Nl([])}}const Ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rl extends xl{construct(e,t,n){return new Rl(e,t,n)}static isValidIdentifier(e){return Ol.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ll(cl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ll(cl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ll(cl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ll(cl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rl(t)}static emptyPath(){return new Rl([])}}class Dl{constructor(e){this.fields=e,e.sort(Rl.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let Pl=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(e){if(al(!!e),"string"==typeof e){let t=0;const n=Ll.exec(e);if(al(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fl(e.seconds),nanos:Fl(e.nanos)}}function Fl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vl(e){return"string"==typeof e?Pl.fromBase64String(e):Pl.fromUint8Array(e)}function Ul(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jl(e){const t=e.mapValue.fields.__previous_value__;return Ul(t)?jl(t):t}function ql(e){const t=Ml(e.mapValue.fields.__local_write_time__.timestampValue);return new El(t.seconds,t.nanos)}function Bl(e){return null==e}function $l(e){return 0===e&&1/e==-1/0}function Zl(e){return"number"==typeof e&&Number.isInteger(e)&&!$l(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class zl{constructor(e){this.path=e}static fromPath(e){return new zl(Nl.fromString(e))}static fromName(e){return new zl(Nl.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Nl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zl(new Nl(e.slice()))}}function Hl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ul(e)?4:10:ol()}function Gl(e,t){const n=Hl(e);if(n!==Hl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ql(e).isEqual(ql(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ml(e.timestampValue),r=Ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vl(e.bytesValue).isEqual(Vl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fl(e.geoPointValue.latitude)===Fl(t.geoPointValue.latitude)&&Fl(e.geoPointValue.longitude)===Fl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fl(e.integerValue)===Fl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fl(e.doubleValue),r=Fl(t.doubleValue);return n===r?$l(n)===$l(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Il(e.arrayValue.values||[],t.arrayValue.values||[],Gl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cl(n)!==Cl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gl(n[i],r[i])))return!1;return!0}(e,t);default:return ol()}}function Kl(e,t){return void 0!==(e.values||[]).find(e=>Gl(e,t))}function Wl(e,t){const n=Hl(e),r=Hl(t);if(n!==r)return bl(n,r);switch(n){case 0:return 0;case 1:return bl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fl(e.integerValue||e.doubleValue),r=Fl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ql(e.timestampValue,t.timestampValue);case 4:return Ql(ql(e),ql(t));case 5:return bl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vl(e),r=Vl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=bl(n[i],r[i]);if(0!==e)return e}return bl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=bl(Fl(e.latitude),Fl(t.latitude));return 0!==n?n:bl(Fl(e.longitude),Fl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wl(n[i],r[i]);if(e)return e}return bl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=bl(r[o],s[o]);if(0!==e)return e;const t=Wl(n[r[o]],i[s[o]]);if(0!==t)return t}return bl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ol()}}function Ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bl(e,t);const n=Ml(e),r=Ml(t),i=bl(n.seconds,r.seconds);return 0!==i?i:bl(n.nanos,r.nanos)}function Yl(e){return Jl(e)}function Jl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ml(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vl(e.bytesValue).toBase64():"referenceValue"in e?zl.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Jl(e.fields[i])}`;return n+"}"}(e.mapValue):ol();var t}function Xl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eh(e){return!!e&&"integerValue"in e}function th(e){return!!e&&"arrayValue"in e}function nh(e){return!!e&&"nullValue"in e}function rh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ih(e){return!!e&&"mapValue"in e}function sh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return kl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=sh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sh(e.arrayValue.values[n]);return t}return Object.assign({},e)}class oh{constructor(e){this.value=e}static empty(){return new oh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(t)}setAll(e){let t=Rl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=sh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ih(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){kl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new oh(sh(this.value))}}function ah(e){const t=[];return kl(e.fields,(e,n)=>{const r=new Rl([e]);if(ih(n)){const e=ah(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Dl(t)}class uh{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new uh(e,0,Sl.min(),oh.empty(),0)}static newFoundDocument(e,t,n){return new uh(e,1,t,n,0)}static newNoDocument(e,t){return new uh(e,2,t,oh.empty(),0)}static newUnknownDocument(e,t){return new uh(e,3,t,oh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof uh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new uh(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function lh(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ch(e,t,n,r,i,s,o)}function hh(e){const t=ul(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Yl(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Bl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Eh(t.startAt)),t.endAt&&(e+="|ub:",e+=Eh(t.endAt)),t.A=e}return t.A}function dh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ch(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Gl(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ah(e.startAt,t.startAt)&&Ah(e.endAt,t.endAt)}function fh(e){return zl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ph extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new gh(e,t,n):"array-contains"===t?new wh(e,n):"in"===t?new _h(e,n):"not-in"===t?new bh(e,n):"array-contains-any"===t?new Ih(e,n):new ph(e,t,n)}static R(e,t,n){return"in"===t?new mh(e,n):new yh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Wl(t,this.value)):null!==t&&Hl(this.value)===Hl(t)&&this.P(Wl(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ol()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gh extends ph{constructor(e,t,n){super(e,t,n),this.key=zl.fromName(n.referenceValue)}matches(e){const t=zl.comparator(e.key,this.key);return this.P(t)}}class mh extends ph{constructor(e,t){super(e,"in",t),this.keys=vh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yh extends ph{constructor(e,t){super(e,"not-in",t),this.keys=vh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>zl.fromName(e.referenceValue))}class wh extends ph{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return th(t)&&Kl(t.arrayValue,this.value)}}class _h extends ph{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kl(this.value.arrayValue,t)}}class bh extends ph{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kl(this.value.arrayValue,t)}}class Ih extends ph{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!th(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Kl(this.value.arrayValue,e))}}class Th{constructor(e,t){this.position=e,this.before=t}}function Eh(e){return`${e.before?"b":"a"}:${e.position.map(e=>Yl(e)).join(",")}`}class Sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ch(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?zl.comparator(zl.fromName(o.referenceValue),n.key):Wl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gl(e.position[n],t.position[n]))return!1;return!0}class xh{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Nh(e,t,n,r,i,s,o,a){return new xh(e,t,n,r,i,s,o,a)}function Oh(e){return new xh(e)}function Rh(e){return!Bl(e.limit)&&"F"===e.limitType}function Dh(e){return!Bl(e.limit)&&"L"===e.limitType}function Ph(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lh(e){for(const t of e.filters)if(t.v())return t.field;return null}function Mh(e){return null!==e.collectionGroup}function Fh(e){const t=ul(e);if(null===t.V){t.V=[];const e=Lh(t),n=Ph(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Sh(e)),t.V.push(new Sh(Rl.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Sh(Rl.keyField(),e))}}}return t.V}function Vh(e){const t=ul(e);if(!t.S)if("F"===t.limitType)t.S=lh(t.path,t.collectionGroup,Fh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Fh(t))e.push(new Sh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Th(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Th(t.startAt.position,!t.startAt.before):null;t.S=lh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Uh(e,t,n){return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jh(e,t){return dh(Vh(e),Vh(t))&&e.limitType===t.limitType}function qh(e){return`${hh(Vh(e))}|lt:${e.limitType}`}function Bh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Yl(t.value)}`;var t}).join(", ")}]`),Bl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+Eh(e.startAt)),e.endAt&&(t+=", endAt: "+Eh(e.endAt)),`Target(${t})`}(Vh(e))}; limitType=${e.limitType})`}function $h(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!kh(e.startAt,Fh(e),t)||e.endAt&&kh(e.endAt,Fh(e),t))}(e,t)}function Zh(e){return(t,n)=>{let r=!1;for(const i of Fh(e)){const e=zh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zh(e,t,n){const r=e.field.isKeyField()?zl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wl(r,i):ol()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ol()}}function Hh(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(t)?"-0":t}}function Gh(e){return{integerValue:""+e}}function Kh(e,t){return Zl(t)?Gh(t):Hh(e,t)}class Wh{constructor(){this._=void 0}}function Qh(e,t,n){return e instanceof Xh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ed?td(e,t):e instanceof nd?rd(e,t):function(e,t){const n=Jh(e,t),r=sd(n)+sd(e.C);return eh(n)&&eh(e.C)?Gh(r):Hh(e.N,r)}(e,t)}function Yh(e,t,n){return e instanceof ed?td(e,t):e instanceof nd?rd(e,t):n}function Jh(e,t){return e instanceof id?eh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Xh extends Wh{}class ed extends Wh{constructor(e){super(),this.elements=e}}function td(e,t){const n=od(t);for(const r of e.elements)n.some(e=>Gl(e,r))||n.push(r);return{arrayValue:{values:n}}}class nd extends Wh{constructor(e){super(),this.elements=e}}function rd(e,t){let n=od(t);for(const r of e.elements)n=n.filter(e=>!Gl(e,r));return{arrayValue:{values:n}}}class id extends Wh{constructor(e,t){super(),this.N=e,this.C=t}}function sd(e){return Fl(e.integerValue||e.doubleValue)}function od(e){return th(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ad{constructor(e,t){this.field=e,this.transform=t}}class ud{constructor(e,t){this.version=e,this.transformResults=t}}class cd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cd}static exists(e){return new cd(void 0,e)}static updateTime(e){return new cd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hd{}function dd(e,t,n){e instanceof yd?function(e,t,n){const r=e.value.clone(),i=_d(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vd?function(e,t,n){if(!ld(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_d(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fd(e,t,n){e instanceof yd?function(e,t,n){if(!ld(e.precondition,t))return;const r=e.value.clone(),i=bd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(md(t),r).setHasLocalMutations()}(e,t,n):e instanceof vd?function(e,t,n){if(!ld(e.precondition,t))return;const r=bd(e.fieldTransforms,n,t),i=t.data;i.setAll(wd(e)),i.setAll(r),t.convertToFoundDocument(md(t),i).setHasLocalMutations()}(e,t,n):function(e,t){ld(e.precondition,t)&&t.convertToNoDocument(Sl.min())}(e,t)}function pd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Jh(r.transform,e||null);null!=i&&(null==n&&(n=oh.empty()),n.set(r.field,i))}return n||null}function gd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Il(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ed&&t instanceof ed||e instanceof nd&&t instanceof nd?Il(e.elements,t.elements,Gl):e instanceof id&&t instanceof id?Gl(e.C,t.C):e instanceof Xh&&t instanceof Xh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function md(e){return e.isFoundDocument()?e.version:Sl.min()}class yd extends hd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class vd extends hd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function wd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function _d(e,t,n){const r=new Map;al(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Yh(o,a,n[i]))}return r}function bd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qh(e,s,t))}return r}class Id extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Td extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ed{constructor(e){this.count=e}}var Sd,Cd;function kd(e){switch(e){default:return ol();case cl.CANCELLED:case cl.UNKNOWN:case cl.DEADLINE_EXCEEDED:case cl.RESOURCE_EXHAUSTED:case cl.INTERNAL:case cl.UNAVAILABLE:case cl.UNAUTHENTICATED:return!1;case cl.INVALID_ARGUMENT:case cl.NOT_FOUND:case cl.ALREADY_EXISTS:case cl.PERMISSION_DENIED:case cl.FAILED_PRECONDITION:case cl.ABORTED:case cl.OUT_OF_RANGE:case cl.UNIMPLEMENTED:case cl.DATA_LOSS:return!0}}function Ad(e){if(void 0===e)return rl("GRPC error has no .code"),cl.UNKNOWN;switch(e){case Sd.OK:return cl.OK;case Sd.CANCELLED:return cl.CANCELLED;case Sd.UNKNOWN:return cl.UNKNOWN;case Sd.DEADLINE_EXCEEDED:return cl.DEADLINE_EXCEEDED;case Sd.RESOURCE_EXHAUSTED:return cl.RESOURCE_EXHAUSTED;case Sd.INTERNAL:return cl.INTERNAL;case Sd.UNAVAILABLE:return cl.UNAVAILABLE;case Sd.UNAUTHENTICATED:return cl.UNAUTHENTICATED;case Sd.INVALID_ARGUMENT:return cl.INVALID_ARGUMENT;case Sd.NOT_FOUND:return cl.NOT_FOUND;case Sd.ALREADY_EXISTS:return cl.ALREADY_EXISTS;case Sd.PERMISSION_DENIED:return cl.PERMISSION_DENIED;case Sd.FAILED_PRECONDITION:return cl.FAILED_PRECONDITION;case Sd.ABORTED:return cl.ABORTED;case Sd.OUT_OF_RANGE:return cl.OUT_OF_RANGE;case Sd.UNIMPLEMENTED:return cl.UNIMPLEMENTED;case Sd.DATA_LOSS:return cl.DATA_LOSS;default:return ol()}}(Cd=Sd||(Sd={}))[Cd.OK=0]="OK",Cd[Cd.CANCELLED=1]="CANCELLED",Cd[Cd.UNKNOWN=2]="UNKNOWN",Cd[Cd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cd[Cd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cd[Cd.NOT_FOUND=5]="NOT_FOUND",Cd[Cd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cd[Cd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cd[Cd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cd[Cd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cd[Cd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cd[Cd.ABORTED=10]="ABORTED",Cd[Cd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cd[Cd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cd[Cd.INTERNAL=13]="INTERNAL",Cd[Cd.UNAVAILABLE=14]="UNAVAILABLE",Cd[Cd.DATA_LOSS=15]="DATA_LOSS";class xd{constructor(e,t){this.comparator=e,this.root=t||Od.EMPTY}insert(e,t){return new xd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Od.BLACK,null,null))}remove(e){return new xd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Od.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Od{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Od.RED,this.left=null!=r?r:Od.EMPTY,this.right=null!=i?i:Od.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Od(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Od.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Od.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Od.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Od.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ol();if(this.right.isRed())throw ol();const e=this.left.check();if(e!==this.right.check())throw ol();return e+(this.isRed()?0:1)}}Od.EMPTY=null,Od.RED=!0,Od.BLACK=!1,Od.EMPTY=new class{constructor(){this.size=0}get key(){throw ol()}get value(){throw ol()}get color(){throw ol()}get left(){throw ol()}get right(){throw ol()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Od(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rd{constructor(e){this.comparator=e,this.data=new xd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dd(this.data.getIterator())}getIteratorFrom(e){return new Dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Rd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rd(this.comparator);return t.data=e,t}}class Dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Pd=new xd(zl.comparator);function Ld(){return Pd}const Md=new xd(zl.comparator);function Fd(){return Md}const Vd=new xd(zl.comparator);function Ud(){return Vd}const jd=new Rd(zl.comparator);function qd(...e){let t=jd;for(const n of e)t=t.add(n);return t}const Bd=new Rd(bl);function $d(){return Bd}class Zd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Zd(Sl.min(),n,$d(),Ld(),qd())}}class zd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zd(Pl.EMPTY_BYTE_STRING,t,qd(),qd(),qd())}}class Hd{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Gd{constructor(e,t){this.targetId=e,this.O=t}}class Kd{constructor(e,t,n=Pl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wd{constructor(){this.F=0,this.M=Jd(),this.L=Pl.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=qd(),t=qd(),n=qd();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ol()}}),new zd(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Jd()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Qd{constructor(e){this.tt=e,this.et=new Map,this.nt=Ld(),this.st=Yd(),this.it=new Rd(bl)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:ol()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(fh(e))if(0===n){const n=new zl(e.path);this.ct(t,n,uh.newNoDocument(n,Sl.min()))}else al(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&fh(i.target)){const t=new zl(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.ct(r,t,uh.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=qd();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Zd(e,t,this.it,this.nt,n);return this.nt=Ld(),this.st=Yd(),this.it=new Rd(bl),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Wd,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Rd(bl),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||nl("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Wd),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new xd(zl.comparator)}function Jd(){return new xd(zl.comparator)}const Xd={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tf{constructor(e,t){this.databaseId=e,this.D=t}}function nf(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rf(e,t){return e.D?t.toBase64():t.toUint8Array()}function sf(e,t){return nf(e,t.toTimestamp())}function of(e){return al(!!e),Sl.fromTimestamp(function(e){const t=Ml(e);return new El(t.seconds,t.nanos)}(e))}function af(e,t){return function(e){return new Nl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function uf(e){const t=Nl.fromString(e);return al(Rf(t)),t}function cf(e,t){return af(e.databaseId,t.path)}function lf(e,t){const n=uf(t);if(n.get(1)!==e.databaseId.projectId)throw new ll(cl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ll(cl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zl(pf(n))}function hf(e,t){return af(e.databaseId,t)}function df(e){const t=uf(e);return 4===t.length?Nl.emptyPath():pf(t)}function ff(e){return new Nl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pf(e){return al(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gf(e,t,n){return{name:cf(e,t),fields:n.value.mapValue.fields}}function mf(e,t,n){const r=lf(e,t.name),i=of(t.updateTime),s=new oh({mapValue:{fields:t.fields}}),o=uh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function yf(e,t){let n;if(t instanceof yd)n={update:gf(e,t.key,t.value)};else if(t instanceof Id)n={delete:cf(e,t.key)};else if(t instanceof vd)n={update:gf(e,t.key,t.data),updateMask:Of(t.fieldMask)};else{if(!(t instanceof Td))return ol();n={verify:cf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Xh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ed)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof id)return{fieldPath:t.field.canonicalString(),increment:n.C};throw ol()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ol()}(e,t.precondition)),n}function vf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?cd.updateTime(of(e.updateTime)):void 0!==e.exists?cd.exists(e.exists):cd.none()}(t.currentDocument):cd.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(al("REQUEST_TIME"===t.setToServerValue),n=new Xh):"appendMissingElements"in t?n=new ed(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new nd(t.removeAllFromArray.values||[]):"increment"in t?n=new id(e,t.increment):ol();const r=Rl.fromServerFormat(t.fieldPath);return new ad(r,n)}(e,t)):[];if(t.update){const i=lf(e,t.update.name),s=new oh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Dl((e.fieldPaths||[]).map(e=>Rl.fromServerFormat(e)))}(t.updateMask);return new vd(i,s,e,n,r)}return new yd(i,s,n,r)}if(t.delete){const r=lf(e,t.delete);return new Id(r,n)}if(t.verify){const r=lf(e,t.verify);return new Td(r,n)}return ol()}function wf(e,t){return{documents:[hf(e,t.path)]}}function _f(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(rh(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NAN"}};if(nh(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rh(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NAN"}};if(nh(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(e.field),op:Cf(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:kf(e.field),direction:Sf(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Bl(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Tf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Tf(t.endAt)),n}function bf(e){let t=df(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){al(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=If(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Sh(Af(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Bl(t)?null:t}(n.limit));let u=null;n.startAt&&(u=Ef(n.startAt));let c=null;return n.endAt&&(c=Ef(n.endAt)),Nh(t,i,o,s,a,"F",u,c)}function If(e){return e?void 0!==e.unaryFilter?[Nf(e)]:void 0!==e.fieldFilter?[xf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>If(e)).reduce((e,t)=>e.concat(t)):ol():[]}function Tf(e){return{before:e.before,values:e.position}}function Ef(e){return new Th(e.values||[],!!e.before)}function Sf(e){return Xd[e]}function Cf(e){return ef[e]}function kf(e){return{fieldPath:e.canonicalString()}}function Af(e){return Rl.fromServerFormat(e.fieldPath)}function xf(e){return ph.create(Af(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ol()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nf(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Af(e.unaryFilter.field);return ph.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Af(e.unaryFilter.field);return ph.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Af(e.unaryFilter.field);return ph.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Af(e.unaryFilter.field);return ph.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ol()}}function Of(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Rf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Df(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Lf(t)),t=Pf(e.get(n),t);return Lf(t)}function Pf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Lf(e){return e+"\x01\x01"}function Mf(e){const t=e.length;if(al(t>=2),2===t)return al("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Nl.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&ol(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:ol()}s=t+2}return new Nl(r)}class Ff{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let Vf=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),Uf=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class jf{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}jf.store="mutations",jf.keyPath="batchId",jf.userMutationsIndex="userMutationsIndex",jf.userMutationsKeyPath=["userId","batchId"];let qf=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Df(t)]}static key(e,t,n){return[e,Df(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class Bf{constructor(e,t){this.path=e,this.readTime=t}}class $f{constructor(e,t){this.path=e,this.version=t}}class Zf{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Zf.store="remoteDocuments",Zf.readTimeIndex="readTimeIndex",Zf.readTimeIndexPath="readTime",Zf.collectionReadTimeIndex="collectionReadTimeIndex",Zf.collectionReadTimeIndexPath=["parentPath","readTime"];let zf=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class Hf{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Hf.store="targets",Hf.keyPath="targetId",Hf.queryTargetsIndexName="queryTargetsIndex",Hf.queryTargetsKeyPath=["canonicalId","targetId"];class Gf{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Gf.store="targetDocuments",Gf.keyPath=["targetId","path"],Gf.documentTargetsIndex="documentTargetsIndex",Gf.documentTargetsKeyPath=["path","targetId"];let Kf=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),Wf=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),Qf=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),Yf=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),Jf=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const Xf=[Uf.store,jf.store,qf.store,Zf.store,Hf.store,Vf.store,Kf.store,Gf.store,Qf.store,zf.store,Wf.store,Yf.store,Jf.store],ep="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class np{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ol(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new np((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof np?t:np.resolve(t)}catch(e){return np.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):np.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):np.reject(t)}static resolve(e){return new np((t,n)=>{t(e)})}static reject(e){return new np((t,n)=>{n(e)})}static waitFor(e){return new np((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=np.resolve(!1);for(const n of e)t=t.next(e=>e?np.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class rp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new hl,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new op(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=hp(t.target.error);this.Et.reject(new op(e,n))}}static open(e,t,n,r){try{return new rp(t,e.transaction(r,n))}catch(e){throw new op(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(nl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new up(t)}}class ip{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===ip.Rt((0,Zs.z$)())&&rl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nl("SimpleDb","Removing database:",e),cp(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Zs.hl)())return!1;if(ip.Pt())return!0;const e=(0,Zs.z$)(),t=ip.Rt(e),n=0<t&&t<10,r=ip.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,js.Z)(function*(){return t.db||(nl("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new op(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new ll(cl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new ll(cl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new op(e,n))},i.onupgradeneeded=e=>{nl("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{nl("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,js.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=rp.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),np.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(nl("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sp{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return cp(this.kt.delete())}}class op extends ll{constructor(e,t){super(cl.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ap(e){return"IndexedDbTransactionError"===e.name}class up{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(nl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(nl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cp(n)}add(e){return nl("SimpleDb","ADD",this.store.name,e,e),cp(this.store.add(e))}get(e){return cp(this.store.get(e)).next(t=>(void 0===t&&(t=null),nl("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nl("SimpleDb","DELETE",this.store.name,e),cp(this.store.delete(e))}count(){return nl("SimpleDb","COUNT",this.store.name),cp(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){nl("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new np((n,r)=>{t.onerror=e=>{const t=hp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new np((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new sp(i),o=t(i.primaryKey,i.value,s);if(o instanceof np){const e=o.catch(e=>(s.done(),np.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>np.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cp(e){return new np((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=hp(e.target.error);n(t)}})}let lp=!1;function hp(e){const t=ip.Rt((0,Zs.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ll("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lp||(lp=!0,setTimeout(()=>{throw e},0)),e}}return e}class dp extends tp{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function fp(e,t){const n=ul(e);return ip.St(n.Qt,t)}class pp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&dd(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fd(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fd(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Sl.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qd())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(e,t)=>gd(e,t))&&Il(this.baseMutations,e.baseMutations,(e,t)=>gd(e,t))}}class gp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){al(e.mutations.length===n.length);let r=Ud();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gp(e,t,n,r)}}class mp{constructor(e,t,n,r,i=Sl.min(),s=Sl.min(),o=Pl.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new mp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yp{constructor(e){this.Wt=e}}function vp(e,t){if(t.document)return mf(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=zl.fromSegments(t.noDocument.path),n=Tp(t.noDocument.readTime),r=uh.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=zl.fromSegments(t.unknownDocument.path),n=Tp(t.unknownDocument.version);return uh.newUnknownDocument(e,n)}return ol()}function wp(e,t,n){const r=_p(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:cf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nf(e,t.version.toTimestamp())}}(e.Wt,t);return new Zf(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Ip(t.version),s=t.hasCommittedMutations;return new Zf(null,new Bf(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Ip(t.version);return new Zf(new $f(e,n),null,null,!0,r,i)}return ol()}function _p(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bp(e){const t=new El(e[0],e[1]);return Sl.fromTimestamp(t)}function Ip(e){const t=e.toTimestamp();return new Ff(t.seconds,t.nanoseconds)}function Tp(e){const t=new El(e.seconds,e.nanoseconds);return Sl.fromTimestamp(t)}function Ep(e,t){const n=(t.baseMutations||[]).map(t=>vf(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>vf(e.Wt,t)),i=El.fromMillis(t.localWriteTimeMs);return new pp(t.batchId,i,n,r)}function Sp(e){const t=Tp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Tp(e.lastLimboFreeSnapshotVersion):Sl.min();let r;var i;return void 0!==e.query.documents?(al(1===(i=e.query).documents.length),r=Vh(Oh(df(i.documents[0])))):r=function(e){return Vh(bf(e))}(e.query),new mp(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Pl.fromBase64String(e.resumeToken))}function Cp(e,t){const n=Ip(t.snapshotVersion),r=Ip(t.lastLimboFreeSnapshotVersion);let i;i=fh(t.target)?wf(e.Wt,t.target):_f(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Hf(t.targetId,hh(t.target),n,s,t.sequenceNumber,r,i)}function kp(e){const t=bf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uh(t,t.limit,"L"):t}class Ap{getBundleMetadata(e,t){return xp(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Tp(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return xp(e).put({bundleId:(n=t).id,createTime:Ip(of(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Np(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:kp(t.bundledQuery),readTime:Tp(t.readTime)};var t})}saveNamedQuery(e,t){return Np(e).put(function(e){return{name:e.name,readTime:Ip(of(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function xp(e){return fp(e,Yf.store)}function Np(e){return fp(e,Jf.store)}class Op{constructor(){this.Gt=new Rp}addToCollectionParentIndex(e,t){return this.Gt.add(t),np.resolve()}getCollectionParents(e,t){return np.resolve(this.Gt.getEntries(t))}}class Rp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rd(Nl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Rd(Nl.comparator)).toArray()}}class Dp{constructor(){this.zt=new Rp}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Df(r)};return Pp(e).put(i)}return np.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Tl(t),""],!1,!0);return Pp(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Mf(r.parent))}return n})}}function Pp(e){return fp(e,Wf.store)}const Lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Mp(e,Mp.DEFAULT_COLLECTION_PERCENTILE,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fp(e,t,n){const r=e.store(jf.store),i=e.store(qf.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{al(1===a)}));const c=[];for(const l of n.mutations){const e=qf.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return np.waitFor(s).next(()=>c)}function Vp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ol();t=e.noDocument}return JSON.stringify(t).length}Mp.DEFAULT_COLLECTION_PERCENTILE=10,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mp.DEFAULT=new Mp(41943040,Mp.DEFAULT_COLLECTION_PERCENTILE,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mp.DISABLED=new Mp(-1,0,0);class Up{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){al(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Up(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qp(e).Kt({index:jf.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Bp(e),s=qp(e);return s.add({}).next(o=>{al("number"==typeof o);const a=new pp(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>yf(e.Wt,t)),i=n.mutations.map(t=>yf(e.Wt,t));return new jf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Rd((e,t)=>bl(e.canonicalString(),t.canonicalString()));for(const e of r){const t=qf.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,qf.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),np.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return qp(e).get(t).next(e=>e?(al(e.userId===this.userId),Ep(this.N,e)):null)}Xt(e,t){return this.Jt[t]?np.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return qp(e).Kt({index:jf.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(al(t.batchId>=n),i=Ep(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return qp(e).Kt({index:jf.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qp(e).Lt(jf.userMutationsIndex,t).next(e=>e.map(e=>Ep(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=qf.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bp(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Mf(a);if(o===this.userId&&t.path.isEqual(c))return qp(e).get(u).next(e=>{if(!e)throw ol();al(e.userId===this.userId),i.push(Ep(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Rd(bl);const r=[];return t.forEach(t=>{const i=qf.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Bp(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=Mf(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),np.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=qf.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Rd(bl);return Bp(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=Mf(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(qp(e).get(t).next(e=>{if(null===e)throw ol();al(e.userId===this.userId),n.push(Ep(this.N,e))}))}),np.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Fp(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),np.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return np.resolve();const n=IDBKeyRange.lowerBound(qf.prefixForUser(this.userId)),r=[];return Bp(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Mf(e[1]);r.push(t)}else n.done()}).next(()=>{al(0===r.length)})})}containsKey(e,t){return jp(e,this.userId,t)}ee(e){return $p(e).get(this.userId).next(e=>e||new Uf(this.userId,-1,""))}}function jp(e,t,n){const r=qf.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bp(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function qp(e){return fp(e,jf.store)}function Bp(e){return fp(e,qf.store)}function $p(e){return fp(e,Uf.store)}class Zp{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Zp(0)}static ie(){return new Zp(-1)}}class zp{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Zp(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>Sl.fromTimestamp(new El(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ae(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hp(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(al(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Hp(e).Kt((s,o)=>{const a=Sp(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>np.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Hp(e).Kt((e,n)=>{const r=Sp(n);t(r)})}re(e){return Gp(e).get(Kf.key).next(e=>(al(null!==e),e))}oe(e,t){return Gp(e).put(Kf.key,t)}ce(e,t){return Hp(e).put(Cp(this.N,t))}ae(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=hh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Hp(e).Kt({range:r,index:Hf.queryTargetsIndexName},(e,n,r)=>{const s=Sp(n);dh(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Kp(e);return t.forEach(t=>{const s=Df(t.path);r.push(i.put(new Gf(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),np.waitFor(r)}removeMatchingKeys(e,t,n){const r=Kp(e);return np.forEach(t,t=>{const i=Df(t.path);return np.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Kp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kp(e);let i=qd();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Mf(e[1]),s=new zl(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Df(t.path),r=IDBKeyRange.bound([n],[Tl(n)],!1,!0);let i=0;return Kp(e).Kt({index:Gf.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return Hp(e).get(t).next(e=>e?Sp(e):null)}}function Hp(e){return fp(e,Hf.store)}function Gp(e){return fp(e,Kf.store)}function Kp(e){return fp(e,Gf.store)}function Wp(e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,js.Z)(function*(e){if(e.code!==cl.FAILED_PRECONDITION||e.message!==ep)throw e;nl("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Yp([e,t],[n,r]){const i=bl(e,n);return 0===i?bl(t,r):i}class Jp{constructor(e){this.ue=e,this.buffer=new Rd(Yp),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Yp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xp{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;nl("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,js.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){ap(e)?nl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield Wp(e)}yield t._e(e)}))}}class eg{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return np.resolve(vl.T);const n=new Jp(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nl("LruGarbageCollector","Garbage collection skipped; disabled"),np.resolve(Lp)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(nl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lp):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(nl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),tl()<=$s.in.DEBUG&&nl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),np.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class tg{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new eg(e,t)}(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return ng(e,n)}removeReference(e,t,n){return ng(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ng(e,t)}Ie(e,t){return function(e,t){let n=!1;return $p(e).jt(r=>jp(e,r,t).next(e=>(e&&(n=!0),np.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Kp(e).delete([0,Df(s.path)])))});r.push(t)}}).next(()=>np.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ng(e,t)}Ee(e,t){const n=Kp(e);let r,i=vl.T;return n.Kt({index:Gf.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==vl.T&&t(new zl(Mf(r)),i),i=o,r=s):i=vl.T}).next(()=>{i!==vl.T&&t(new zl(Mf(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ng(e,t){return Kp(e).put(function(e,t){return new Gf(0,Df(e.path),t)}(t,e.currentSequenceNumber))}class rg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){kl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Al(this.inner)}}class ig{constructor(){this.changes=new rg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Sl.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:uh.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?np.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sg{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return ug(e).put(cg(t),n)}removeEntry(e,t){const n=ug(e),r=cg(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return ug(e).get(cg(t)).next(e=>this.Re(t,e))}be(e,t){return ug(e).get(cg(t)).next(e=>({document:this.Re(t,e),size:Vp(e)}))}getEntries(e,t){let n=Ld();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Ld(),r=new xd(zl.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Vp(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return np.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return ug(e).Kt({range:r},(e,t,r)=>{const o=zl.fromSegments(e);for(;s&&zl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Ld();const i=t.path.length+1,s={};if(n.isEqual(Sl.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=_p(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Zf.collectionReadTimeIndex}return ug(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=vp(this.N,n);t.path.isPrefixOf(o.key.path)?$h(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new og(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return ag(e).get(zf.key).next(e=>(al(!!e),e))}Ae(e,t){return ag(e).put(zf.key,t)}Re(e,t){if(t){const e=vp(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(Sl.min()))return e}return uh.newInvalidDocument(e)}}class og extends ig{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new rg(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Rd((e,t)=>bl(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=wp(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=Vp(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=wp(this.Se.N,uh.newNoDocument(i,Sl.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),np.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function ag(e){return fp(e,zf.store)}function ug(e){return fp(e,Zf.store)}function cg(e){return e.path.toArray()}class lg{constructor(e){this.N=e}Ct(e,t,n,r){al(n<r&&n>=0&&r<=11);const i=new rp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Vf.store)}(e),function(e){e.createObjectStore(Uf.store,{keyPath:Uf.keyPath}),e.createObjectStore(jf.store,{keyPath:jf.keyPath,autoIncrement:!0}).createIndex(jf.userMutationsIndex,jf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qf.store)}(e),hg(e),function(e){e.createObjectStore(Zf.store)}(e));let s=np.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gf.store),e.deleteObjectStore(Hf.store),e.deleteObjectStore(Kf.store)}(e),hg(e)),s=s.next(()=>function(e){const t=e.store(Kf.store),n=new Kf(0,0,Sl.min().toTimestamp(),0);return t.put(Kf.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(jf.store).Lt().next(n=>{e.deleteObjectStore(jf.store),e.createObjectStore(jf.store,{keyPath:jf.keyPath,autoIncrement:!0}).createIndex(jf.userMutationsIndex,jf.userMutationsKeyPath,{unique:!0});const r=t.store(jf.store),i=n.map(e=>r.put(e));return np.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Qf.store,{keyPath:Qf.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(zf.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Zf.store);t.createIndex(Zf.readTimeIndex,Zf.readTimeIndexPath,{unique:!1}),t.createIndex(Zf.collectionReadTimeIndex,Zf.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Yf.store,{keyPath:Yf.keyPath})}(e),function(e){e.createObjectStore(Jf.store,{keyPath:Jf.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(Zf.store).Kt((e,n)=>{t+=Vp(n)}).next(()=>{const n=new zf(t);return e.store(zf.store).put(zf.key,n)})}Ce(e){const t=e.store(Uf.store),n=e.store(jf.store);return t.Lt().next(t=>np.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(jf.userMutationsIndex,r).next(n=>np.forEach(n,n=>{al(n.userId===t.userId);const r=Ep(this.N,n);return Fp(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Gf.store),n=e.store(Zf.store);return e.store(Kf.store).get(Kf.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Nl(n),o=function(e){return[0,Df(e)]}(s);r.push(t.get(o).next(n=>n?np.resolve():(n=>t.put(new Gf(0,Df(n),e.highestListenSequenceNumber)))(s)))}).next(()=>np.waitFor(r))})}ke(e,t){e.createObjectStore(Wf.store,{keyPath:Wf.keyPath});const n=t.store(Wf.store),r=new Rp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Df(r)})}};return t.store(Zf.store).Kt({qt:!0},(e,t)=>{const n=new Nl(e);return i(n.popLast())}).next(()=>t.store(qf.store).Kt({qt:!0},([e,t,n],r)=>{const s=Mf(t);return i(s.popLast())}))}$e(e){const t=e.store(Hf.store);return t.Kt((e,n)=>{const r=Sp(n),i=Cp(this.N,r);return t.put(i)})}}function hg(e){e.createObjectStore(Gf.store,{keyPath:Gf.keyPath}).createIndex(Gf.documentTargetsIndex,Gf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hf.store,{keyPath:Hf.keyPath}).createIndex(Hf.queryTargetsIndexName,Hf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Kf.store)}const dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fg{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!fg.bt())throw new ll(cl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tg(this,r),this.We=t+"main",this.N=new yp(a),this.Ge=new ip(this.We,11,new lg(this.N)),this.ze=new zp(this.referenceDelegate,this.N),this.Ht=new Dp,this.He=function(e,t){return new sg(e,t)}(this.N,this.Ht),this.Je=new Ap,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&rl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ll(cl.FAILED_PRECONDITION,dg);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new vl(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,js.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,js.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,js.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put(new Qf(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(ap(e))return nl("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return pg(e).get(Vf.key).next(e=>np.resolve(this.an(e)))}un(e){return gg(e).delete(this.clientId)}hn(){var e=this;return(0,js.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=fp(t,Qf.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return np.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?np.resolve(!0):pg(e).get(Vf.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new ll(cl.FAILED_PRECONDITION,dg);return!1}}return!(!this.networkEnabled||!this.inForeground)||gg(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&nl("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,js.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Vf.store,Qf.store],t=>{const n=new dp(t,vl.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Up.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return nl("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Xf,i=>(r=new dp(i,this.Le?this.Le.next():vl.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw rl(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ll(cl.FAILED_PRECONDITION,ep);return n(r)}).next(e=>this.cn(r).next(()=>e)):this.Tn(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}Tn(e){return pg(e).get(Vf.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ll(cl.FAILED_PRECONDITION,dg)})}cn(e){const t=new Vf(this.clientId,this.allowTabSynchronization,Date.now());return pg(e).put(Vf.key,t)}static bt(){return ip.bt()}on(e){const t=pg(e);return t.get(Vf.key).next(e=>this.an(e)?(nl("IndexedDbPersistence","Releasing primary lease."),t.delete(Vf.key)):np.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(rl(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Zs.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return nl("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return rl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(io){rl("Failed to set zombie client id.",io)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(io){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pg(e){return fp(e,Vf.store)}function gg(e){return fp(e,Qf.store)}function mg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class yg{constructor(e,t){this.progress=e,this.En=t}}class vg{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return zl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Mh(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new zl(t)).next(e=>{let t=Fd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=Fd();return this.Ht.getCollectionParents(e,r).next(s=>np.forEach(s,s=>{const o=function(e,t){return new xh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=uh.newInvalidDocument(n),r=r.insert(n,i)),fd(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{$h(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=qd();for(const s of t)for(const e of s.mutations)e instanceof vd&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class wg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=qd(),r=qd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new wg(e,t.fromCache,n,r)}}class _g{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Sl.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(Rh(t)||Dh(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(tl()<=$s.in.DEBUG&&nl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bh(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new Rd(Zh(e));return t.forEach((t,r)=>{$h(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return tl()<=$s.in.DEBUG&&nl("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.On.getDocumentsMatchingQuery(e,t,Sl.min())}}class bg{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new xd(bl),this.qn=new rg(e=>hh(e),dh),this.Kn=Sl.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new vg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Ig(e,t,n,r){return new bg(e,t,n,r)}function Tg(e,t){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,js.Z)(function*(e,t){const n=ul(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new vg(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=qd();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function Sg(e,t){const n=ul(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=np.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);al(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function Cg(e){const t=ul(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function kg(e,t){const n=ul(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return al(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=Ld();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Ag(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(Sl.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return np.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Ag(e,t,n,r,i){let s=qd();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Ld();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Sl.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):nl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function xg(e,t){const n=ul(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Ng(e,t){const n=ul(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,np.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new mp(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Og(e,t,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,js.Z)(function*(e,t,n){const r=ul(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ap(e))throw e;nl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Dg(e,t,n){const r=ul(e);let i=Sl.min(),s=qd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=ul(e),i=r.qn.get(n);return void 0!==i?np.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Vh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Sl.min(),n?s:qd())).next(e=>({documents:e,Gn:s})))}function Pg(e,t){const n=ul(e),r=ul(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function Lg(e){const t=ul(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=ul(e);let i=Ld(),s=_p(n);const o=ug(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Zf.readTimeIndex,range:a},(e,t)=>{const n=vp(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:bp(s)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:n})=>(t.Kn=n,e))}function Mg(){return(Mg=(0,js.Z)(function*(e){const t=ul(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=ug(e);let n=Sl.min();return t.Kt({index:Zf.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=bp(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Fg(){return(Fg=(0,js.Z)(function*(e,t,n,r){const i=ul(e);let s=qd(),o=Ld(),a=Ud();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Ng(i,function(e){return Vh(Oh(Nl.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Ag(e,u,o,Sl.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Vg(e,t){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,js.Z)(function*(e,t,n=qd()){const r=yield Ng(e,Vh(kp(t.bundledQuery))),i=ul(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=of(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Pl.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class jg{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return np.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:of(n.createTime)}),np.resolve()}getNamedQuery(e,t){return np.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:kp(e.bundledQuery),readTime:of(e.readTime)}}(t)),np.resolve()}}class qg{constructor(){this.Zn=new Rd(Bg.ts),this.es=new Rd(Bg.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Bg(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Bg(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new zl(new Nl([])),n=new Bg(t,e),r=new Bg(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new zl(new Nl([])),n=new Bg(t,e),r=new Bg(t,e+1);let i=qd();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Bg(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bg{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return zl.comparator(e.key,t.key)||bl(e.ls,t.ls)}static ns(e,t){return bl(e.ls,t.ls)||zl.comparator(e.key,t.key)}}class $g{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Rd(Bg.ts)}checkEmpty(e){return np.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new pp(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Bg(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return np.resolve(s)}lookupMutationBatch(e,t){return np.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return np.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return np.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return np.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bg(t,0),r=new Bg(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),np.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Rd(bl);return t.forEach(e=>{const t=new Bg(e,0),r=new Bg(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),np.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zl.isDocumentKey(i)||(i=i.child(""));const s=new Bg(new zl(i),0);let o=new Rd(bl);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),np.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){al(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return np.forEach(t.mutations,r=>{const i=new Bg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new Bg(t,0),r=this.ds.firstAfterOrEqual(n);return np.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return np.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Zg{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new xd(zl.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return np.resolve(n?n.document.clone():uh.newInvalidDocument(t))}getEntries(e,t){let n=Ld();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():uh.newInvalidDocument(e))}),np.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Ld();const i=new zl(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||$h(t,i)&&(r=r.insert(i.key,i.clone()))}return np.resolve(r)}Ts(e,t){return np.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new zg(this)}getSize(e){return np.resolve(this.size)}}class zg extends ig{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),np.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Hg{constructor(e){this.persistence=e,this.Es=new rg(e=>hh(e),dh),this.lastRemoteSnapshotVersion=Sl.min(),this.highestTargetId=0,this.Is=0,this.As=new qg,this.targetCount=0,this.Rs=Zp.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),np.resolve()}getLastRemoteSnapshotVersion(e){return np.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return np.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),np.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),np.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Zp(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,np.resolve()}updateTargetData(e,t){return this.ce(t),np.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,np.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),np.waitFor(i).next(()=>r)}getTargetCount(e){return np.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return np.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),np.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),np.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),np.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return np.resolve(n)}containsKey(e,t){return np.resolve(this.As.containsKey(t))}}class Gg{constructor(e,t){this.bs={},this.Le=new vl(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Hg(this),this.Ht=new Op,this.He=function(e,t){return new Zg(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new yp(t),this.Je=new jg(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new $g(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){nl("MemoryPersistence","Starting transaction:",e);const r=new Kg(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return np.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Kg extends tp{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ds=new qg,this.Cs=null}static Ns(e){return new Wg(e)}get xs(){if(this.Cs)return this.Cs;throw ol()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),np.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),np.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),np.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return np.forEach(this.xs,n=>{const r=zl.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return np.or([()=>np.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Qg(e,t){return`firestore_clients_${e}_${t}`}function Yg(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Jg(e,t){return`firestore_targets_${e}_${t}`}class Xg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ll(r.error.code,r.error.message))),s?new Xg(e,t,r.state,i):(rl("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class em{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ll(n.error.code,n.error.message))),i?new em(e,n.state,r):(rl("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=$d();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Zl(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new tm(e,i):(rl("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nm{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nm(t.clientId,t.onlineState):(rl("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rm{constructor(){this.activeTargetIds=$d()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class im{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new xd(bl),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Qg(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new rm),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,js.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(Qg(e.persistenceKey,r));if(t){const n=tm.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Jg(this.persistenceKey,e));if(n){const r=em.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jg(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nl("SharedClientState","READ",e,t),t}setItem(e,t){nl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(nl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void rl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,js.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ci(n.key);return t.ai(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ai(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=vl.T;if(null!=e)try{const n=JSON.parse(e);al("number"==typeof n),t=n}catch(e){rl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==vl.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Xg(this.currentUser,e,t,n),i=Yg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Yg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Jg(this.persistenceKey,e),i=new em(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ci(e);return tm.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return Xg.$s(new Jc(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return em.$s(r,t)}Xs(e){return nm.$s(e)}li(e){var t=this;return(0,js.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);nl("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=$d();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class sm{constructor(){this.yi=new rm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new rm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class om{Ti(e){}shutdown(){}}class am{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){nl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){nl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cm{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class lm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);nl("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(nl("RestConnection","Received: ",e),e),t=>{throw il("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${um[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Yc;o.listenOnce(Hc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case zc.NO_ERROR:const t=o.getResponseJson();nl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case zc.TIMEOUT:nl("Connection",'RPC "'+e+'" timed out'),s(new ll(cl.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const n=o.getStatus();if(nl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cl).indexOf(t)>=0?t:cl.UNKNOWN}(e.status);s(new ll(t,e.message))}else s(new ll(cl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ll(cl.UNAVAILABLE,"Connection failed."));break;default:ol()}}finally{nl("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=$c(),i=Zc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Wc({})),this.Ui(s.initMessageHeaders,t),(0,Zs.uI)()||(0,Zs.b$)()||(0,Zs.d)()||(0,Zs.w1)()||(0,Zs.Mn)()||(0,Zs.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");nl("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new cm({vi:e=>{c?nl("Connection","Not sending because WebChannel is closed:",e):(u||(nl("Connection","Opening WebChannel transport."),a.open(),u=!0),nl("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Qc.EventType.OPEN,()=>{c||nl("Connection","WebChannel transport opened.")}),h(a,Qc.EventType.CLOSE,()=>{c||(c=!0,nl("Connection","WebChannel transport closed"),l.$i())}),h(a,Qc.EventType.ERROR,e=>{c||(c=!0,il("Connection","WebChannel transport errored:",e),l.$i(new ll(cl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Qc.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];al(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){nl("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Sd[e];if(void 0!==t)return Ad(t)}(e),n=i.message;void 0===t&&(t=cl.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new ll(t,n)),a.close()}else nl("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Gc.STAT_EVENT,e=>{e.stat===Kc.PROXY?nl("Connection","Detected buffering proxy"):e.stat===Kc.NOPROXY&&nl("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function hm(){return"undefined"!=typeof window?window:null}function dm(){return"undefined"!=typeof document?document:null}function fm(e){return new tf(e,!0)}class pm{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&nl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class gm{constructor(e,t,n,r,i,s,o){this.Oe=e,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new pm(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,js.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,js.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var n=this;return(0,js.Z)(function*(){n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==e?n.ar.reset():t&&t.code===cl.RESOURCE_EXHAUSTED?(rl(t.toString()),rl("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):t&&t.code===cl.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(e=>{this.ir===t&&this.Er(e)},t=>{e(()=>{const e=new ll(cl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ir(e)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.Ir(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}lr(){var e=this;this.state=5,this.ar.Xi((0,js.Z)(function*(){e.state=0,e.start()}))}Ir(e){return nl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(nl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mm extends gm{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i),this.N=r}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ol()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(al(void 0===t||"string"==typeof t),Pl.fromBase64String(t||"")):(al(void 0===t||t instanceof Uint8Array),Pl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?cl.UNKNOWN:Ad(e.code);return new ll(t,e.message||"")}(o);n=new Kd(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=lf(e,r.document.name),s=of(r.document.updateTime),o=new oh({mapValue:{fields:r.document.fields}}),a=uh.newFoundDocument(i,s,o);n=new Hd(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=lf(e,r.document),s=r.readTime?of(r.readTime):Sl.min(),o=uh.newNoDocument(i,s);n=new Hd([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=lf(e,r.document);n=new Hd([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ol();{const e=t.filter,r=new Ed(e.count||0);n=new Gd(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Sl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sl.min():t.readTime?of(t.readTime):Sl.min()}(e);return this.listener.Rr(t,n)}br(e){const t={};t.database=ff(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=fh(r)?{documents:wf(e,r)}:{query:_f(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rf(e,t.resumeToken):t.snapshotVersion.compareTo(Sl.min())>0&&(n.readTime=nf(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ol()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.mr(t)}Pr(e){const t={};t.database=ff(this.N),t.removeTarget=e,this.mr(t)}}class ym extends gm{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(al(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(e,t){return e&&e.length>0?(al(void 0!==t),e.map(e=>function(e,t){let n=of(e.updateTime?e.updateTime:t);return n.isEqual(Sl.min())&&(n=of(t)),new ud(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=of(e.commitTime);return this.listener.Dr(n,t)}return al(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=ff(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>yf(this.N,e))};this.mr(t)}}class vm extends class{}{constructor(e,t,n){super(),this.credentials=e,this.sr=t,this.N=n,this.kr=!1}$r(){if(this.kr)throw new ll(cl.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ll(cl.UNKNOWN,e.toString())})}Ki(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===cl.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new ll(cl.UNKNOWN,e.toString())})}terminate(){this.kr=!0}}class wm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(rl(t),this.Mr=!1):nl("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class _m{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(e=>{n.enqueueAndForget((0,js.Z)(function*(){var e;Om(s)&&(nl("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,js.Z)(function*(e){const t=ul(e);t.Wr.add(4),yield Tm(t),t.Hr.set("Unknown"),t.Wr.delete(4),yield bm(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Hr=new wm(n,r)}}function bm(e){return Im.apply(this,arguments)}function Im(){return(Im=(0,js.Z)(function*(e){if(Om(e))for(const t of e.Gr)yield t(!0)})).apply(this,arguments)}function Tm(e){return Em.apply(this,arguments)}function Em(){return(Em=(0,js.Z)(function*(e){for(const t of e.Gr)yield t(!1)})).apply(this,arguments)}function Sm(e,t){const n=ul(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),Nm(n)?xm(n):iy(n).hr()&&km(n,t))}function Cm(e,t){const n=ul(e),r=iy(n);n.Qr.delete(t),r.hr()&&Am(n,t),0===n.Qr.size&&(r.hr()?r.wr():Om(n)&&n.Hr.set("Unknown"))}function km(e,t){e.Jr.Y(t.targetId),iy(e).br(t)}function Am(e,t){e.Jr.Y(t),iy(e).Pr(t)}function xm(e){e.Jr=new Qd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.Qr.get(t)||null}),iy(e).start(),e.Hr.Lr()}function Nm(e){return Om(e)&&!iy(e).ur()&&e.Qr.size>0}function Om(e){return 0===ul(e).Wr.size}function Rm(e){e.Jr=void 0}function Dm(e){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,js.Z)(function*(e){e.Qr.forEach((t,n)=>{km(e,t)})})).apply(this,arguments)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,js.Z)(function*(e,t){Rm(e),Nm(e)?(e.Hr.qr(t),xm(e)):e.Hr.set("Unknown")})).apply(this,arguments)}function Fm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,js.Z)(function*(e,t,n){if(e.Hr.set("Online"),t instanceof Kd&&2===t.state&&t.cause)try{yield(r=(0,js.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.Qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.Qr.delete(r),e.Jr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){nl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Um(e,n)}else if(t instanceof Hd?e.Jr.rt(t):t instanceof Gd?e.Jr.ft(t):e.Jr.at(t),!n.isEqual(Sl.min()))try{const t=yield Cg(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Jr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Qr.get(t);if(!n)return;e.Qr.set(t,n.withResumeToken(Pl.EMPTY_BYTE_STRING,n.snapshotVersion)),Am(e,t);const r=new mp(n.target,t,1,n.sequenceNumber);km(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){nl("RemoteStore","Failed to raise snapshot:",t),yield Um(e,t)}var r})).apply(this,arguments)}function Um(e,t,n){return jm.apply(this,arguments)}function jm(){return(jm=(0,js.Z)(function*(e,t,n){if(!ap(t))throw t;e.Wr.add(1),yield Tm(e),e.Hr.set("Offline"),n||(n=()=>Cg(e.localStore)),e.asyncQueue.enqueueRetryable((0,js.Z)(function*(){nl("RemoteStore","Retrying IndexedDB access"),yield n(),e.Wr.delete(1),yield bm(e)}))})).apply(this,arguments)}function qm(e,t){return t().catch(n=>Um(e,n,t))}function Bm(e){return $m.apply(this,arguments)}function $m(){return($m=(0,js.Z)(function*(e){const t=ul(e),n=sy(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;Zm(t);)try{const e=yield xg(t.localStore,r);if(null===e){0===t.jr.length&&n.wr();break}r=e.batchId,zm(t,e)}catch(e){yield Um(t,e)}Hm(t)&&Gm(t)})).apply(this,arguments)}function Zm(e){return Om(e)&&e.jr.length<10}function zm(e,t){e.jr.push(t);const n=sy(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function Hm(e){return Om(e)&&!sy(e).ur()&&e.jr.length>0}function Gm(e){sy(e).start()}function Km(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,js.Z)(function*(e){sy(e).Nr()})).apply(this,arguments)}function Qm(e){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,js.Z)(function*(e){const t=sy(e);for(const n of e.jr)t.Sr(n.mutations)})).apply(this,arguments)}function Jm(e,t,n){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,js.Z)(function*(e,t,n){const r=e.jr.shift(),i=gp.from(r,t,n);yield qm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Bm(e)})).apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return(ty=(0,js.Z)(function*(e,t){var n;t&&sy(e).Vr&&(yield(n=(0,js.Z)(function*(e,t){if(kd(n=t.code)&&n!==cl.ABORTED){const n=e.jr.shift();sy(e).dr(),yield qm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Bm(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),Hm(e)&&Gm(e)})).apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,js.Z)(function*(e,t){const n=ul(e);t?(n.Wr.delete(2),yield bm(n)):t||(n.Wr.add(2),yield Tm(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function iy(e){return e.Yr||(e.Yr=function(e,t,n){const r=ul(e);return r.$r(),new mm(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Dm.bind(null,e),Ci:Lm.bind(null,e),Rr:Fm.bind(null,e)}),e.Gr.push(function(){var t=(0,js.Z)(function*(t){t?(e.Yr.dr(),Nm(e)?xm(e):e.Hr.set("Unknown")):(yield e.Yr.stop(),Rm(e))});return function(e){return t.apply(this,arguments)}}())),e.Yr}function sy(e){return e.Xr||(e.Xr=function(e,t,n){const r=ul(e);return r.$r(),new ym(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Km.bind(null,e),Ci:ey.bind(null,e),Cr:Qm.bind(null,e),Dr:Jm.bind(null,e)}),e.Gr.push(function(){var t=(0,js.Z)(function*(t){t?(e.Xr.dr(),yield Bm(e)):(yield e.Xr.stop(),e.jr.length>0&&(nl("RemoteStore",`Stopping write stream with ${e.jr.length} pending writes`),e.jr=[]))});return function(e){return t.apply(this,arguments)}}())),e.Xr}class oy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new oy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ll(cl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(e,t){if(rl("AsyncQueue",`${t}: ${e}`),ap(e))return new ll(cl.UNAVAILABLE,`${t}: ${e}`);throw e}class uy{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zl.comparator(t.key,n.key):(e,t)=>zl.comparator(e.key,t.key),this.keyedMap=Fd(),this.sortedSet=new xd(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cy{constructor(){this.Zr=new xd(zl.comparator)}track(e){const t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):ol():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,n)=>{e.push(n)}),e}}class ly{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new ly(e,t,uy.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class hy{constructor(){this.no=void 0,this.listeners=[]}}class dy{constructor(){this.queries=new rg(e=>qh(e),jh),this.onlineState="Unknown",this.so=new Set}}function fy(e,t){return py.apply(this,arguments)}function py(){return(py=(0,js.Z)(function*(e,t){const n=ul(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hy),i)try{s.no=yield n.onListen(r)}catch(e){const n=ay(e,`Initialization of query '${Bh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.io(n.onlineState),s.no&&t.ro(s.no)&&wy(n)})).apply(this,arguments)}function gy(e,t){return my.apply(this,arguments)}function my(){return(my=(0,js.Z)(function*(e,t){const n=ul(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function yy(e,t){const n=ul(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.ro(i)&&(r=!0);e.no=i}}r&&wy(n)}function vy(e,t,n){const r=ul(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function wy(e){e.so.forEach(e=>{e.next()})}class _y{constructor(e,t,n){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ly(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class by{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class Iy{constructor(e){this.N=e}zn(e){return lf(this.N,e)}Hn(e){return e.metadata.exists?mf(this.N,e.document,!1):uh.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return of(e)}}class Ty{constructor(e,t,n){this._o=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Ey(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,n=new Iy(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||qd()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,js.Z)(function*(){const t=yield function(e,t,n,r){return Fg.apply(this,arguments)}(e.localStore,new Iy(e.N),e.documents,e._o.id),n=e.yo(e.documents);for(const r of e.queries)yield Vg(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new yg(Object.assign({},e.progress),t)})()}}function Ey(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Sy{constructor(e){this.key=e}}class Cy{constructor(e){this.key=e}}class ky{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=qd(),this.mutatedKeys=qd(),this.Io=Zh(e),this.Ao=new uy(this.Io)}get Ro(){return this.po}bo(e,t){const n=t?t.Po:new cy,r=t?t.Ao:this.Ao;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Rh(this.query)&&r.size===this.query.limit?r.last():null,u=Dh(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=$h(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.vo(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Io(l,a)>0||u&&this.Io(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Rh(this.query)||Dh(this.query))for(;s.size>this.query.limit;){const e=Rh(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const i=e.Po.eo();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ol()}};return n(e)-n(t)}(e.type,t.type)||this.Io(e.doc,t.doc)),this.Vo(n);const s=t?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new ly(this.query,e.Ao,r,i,e.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new cy,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(e=>this.po=this.po.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=qd(),this.Ao.forEach(e=>{this.Co(e.key)&&(this.Eo=this.Eo.add(e.key))});const t=[];return e.forEach(e=>{this.Eo.has(e)||t.push(new Cy(e))}),this.Eo.forEach(n=>{e.has(n)||t.push(new Sy(n))}),t}No(e){this.po=e.Gn,this.Eo=qd();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return ly.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Ay{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xy{constructor(e){this.key=e,this.ko=!1}}class Ny{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new rg(e=>qh(e),jh),this.Fo=new Map,this.Mo=new Set,this.Lo=new xd(zl.comparator),this.Bo=new Map,this.Uo=new qg,this.qo={},this.Ko=new Map,this.jo=Zp.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Oy(e,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,js.Z)(function*(e,t){const n=bv(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=yield Ng(n.localStore,Vh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Dy(n,t,r,"current"===s),n.isPrimaryClient&&Sm(n.remoteStore,e)}return i})).apply(this,arguments)}function Dy(e,t,n,r){return Py.apply(this,arguments)}function Py(){return(Py=(0,js.Z)(function*(e,t,n,r){e.Wo=(t,n,r)=>{return(i=(0,js.Z)(function*(e,t,n,r){let i=t.view.bo(n);i.Ln&&(i=yield Dg(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Jy(e,t.targetId,o.Do),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Dg(e.localStore,t,!0),s=new ky(t,i.Gn),o=s.bo(i.documents),a=zd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);Jy(e,n,u.Do);const c=new Ay(t,n,s);return e.Oo.set(t,c),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),u.snapshot})).apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return(My=(0,js.Z)(function*(e,t){const n=ul(e),r=n.Oo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(e=>!jh(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Og(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cm(n.remoteStore,r.targetId),Qy(n,r.targetId)}).catch(Wp))):(Qy(n,r.targetId),yield Og(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Fy(){return(Fy=(0,js.Z)(function*(e,t,n){const r=Iv(e);try{const e=yield function(e,t){const n=ul(e),r=El.now(),i=t.reduce((e,t)=>e.add(t.key),qd());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=pd(e,s.get(e.key));null!=t&&o.push(new vd(e.key,t,ah(t.value.mapValue),cd.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qo[e.currentUser.toKey()];r||(r=new xd(bl)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield tv(r,e.changes),yield Bm(r.remoteStore)}catch(e){const t=ay(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function Vy(e,t){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,js.Z)(function*(e,t){const n=ul(e);try{const e=yield kg(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Bo.get(t);r&&(al(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ko=!0:e.modifiedDocuments.size>0?al(r.ko):e.removedDocuments.size>0&&(al(r.ko),r.ko=!1))}),yield tv(n,e,t)}catch(e){yield Wp(e)}})).apply(this,arguments)}function jy(e,t,n){const r=ul(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.io(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ul(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.io(t)&&(r=!0)}),r&&wy(n)}(r.eventManager,t),e.length&&r.$o.Rr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qy(e,t,n){return By.apply(this,arguments)}function By(){return(By=(0,js.Z)(function*(e,t,n){const r=ul(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Bo.get(t),s=i&&i.key;if(s){let e=new xd(zl.comparator);e=e.insert(s,uh.newNoDocument(s,Sl.min()));const n=qd().add(s),i=new Zd(Sl.min(),new Map,new Rd(bl),e,n);yield Vy(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(t),ev(r)}else yield Og(r.localStore,t,!1).then(()=>Qy(r,t,n)).catch(Wp)})).apply(this,arguments)}function $y(e,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,js.Z)(function*(e,t){const n=ul(e),r=t.batch.batchId;try{const e=yield Sg(n.localStore,t);Wy(n,r,null),Ky(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield tv(n,e)}catch(e){yield Wp(e)}})).apply(this,arguments)}function zy(e,t,n){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,js.Z)(function*(e,t,n){const r=ul(e);try{const e=yield function(e,t){const n=ul(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(al(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Wy(r,t,n),Ky(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield tv(r,e)}catch(n){yield Wp(n)}})).apply(this,arguments)}function Gy(){return(Gy=(0,js.Z)(function*(e,t){const n=ul(e);Om(n.remoteStore)||nl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=ul(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ko.get(e)||[];r.push(t),n.Ko.set(e,r)}catch(e){const n=ay(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function Ky(e,t){(e.Ko.get(t)||[]).forEach(e=>{e.resolve()}),e.Ko.delete(t)}function Wy(e,t,n){const r=ul(e);let i=r.qo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function Qy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Oo.delete(r),n&&e.$o.Go(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach(t=>{e.Uo.containsKey(t)||Yy(e,t)})}function Yy(e,t){e.Mo.delete(t.path.canonicalString());const n=e.Lo.get(t);null!==n&&(Cm(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),ev(e))}function Jy(e,t,n){for(const r of n)r instanceof Sy?(e.Uo.addReference(r.key,t),Xy(e,r)):r instanceof Cy?(nl("SyncEngine","Document no longer in limbo: "+r.key),e.Uo.removeReference(r.key,t),e.Uo.containsKey(r.key)||Yy(e,r.key)):ol()}function Xy(e,t){const n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(nl("SyncEngine","New document in limbo: "+n),e.Mo.add(r),ev(e))}function ev(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){const t=e.Mo.values().next().value;e.Mo.delete(t);const n=new zl(Nl.fromString(t)),r=e.jo.next();e.Bo.set(r,new xy(n)),e.Lo=e.Lo.insert(n,r),Sm(e.remoteStore,new mp(Vh(Oh(n.path)),r,2,vl.T))}}function tv(e,t,n){return nv.apply(this,arguments)}function nv(){return(nv=(0,js.Z)(function*(e,t,n){const r=ul(e),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Wo(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=wg.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=(0,js.Z)(function*(e,t){const n=ul(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>np.forEach(t,t=>np.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>np.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ap(e))throw e;nl("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return(iv=(0,js.Z)(function*(e,t){const n=ul(e);if(!n.currentUser.isEqual(t)){nl("SyncEngine","User change. New user:",t.toKey());const e=yield Tg(n.localStore,t);n.currentUser=t,function(e,t){e.Ko.forEach(e=>{e.forEach(e=>{e.reject(new ll(cl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ko.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield tv(n,e.Wn)}})).apply(this,arguments)}function sv(e,t){const n=ul(e),r=n.Bo.get(t);if(r&&r.ko)return qd().add(r.key);{let e=qd();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Ro)}return e}}function ov(e,t){return av.apply(this,arguments)}function av(){return(av=(0,js.Z)(function*(e,t){const n=ul(e),r=yield Dg(n.localStore,t.query,!0),i=t.view.No(r);return n.isPrimaryClient&&Jy(n,t.targetId,i.Do),i})).apply(this,arguments)}function uv(e){return cv.apply(this,arguments)}function cv(){return(cv=(0,js.Z)(function*(e){const t=ul(e);return Lg(t.localStore).then(e=>tv(t,e))})).apply(this,arguments)}function lv(e,t,n,r){return hv.apply(this,arguments)}function hv(){return(hv=(0,js.Z)(function*(e,t,n,r){const i=ul(e),s=yield function(e,t){const n=ul(e),r=ul(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):np.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield Bm(i.remoteStore):"acknowledged"===n||"rejected"===n?(Wy(i,t,r||null),Ky(i,t),function(e,t){ul(ul(e).In).te(t)}(i.localStore,t)):ol(),yield tv(i,s)):nl("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function dv(){return(dv=(0,js.Z)(function*(e,t){const n=ul(e);if(bv(n),Iv(n),!0===t&&!0!==n.Qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield fv(n,e.toArray());n.Qo=!0,yield ny(n.remoteStore,!0);for(const r of t)Sm(n.remoteStore,r)}else if(!1===t&&!1!==n.Qo){const e=[];let t=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Qy(n,i),Og(n.localStore,i,!0))),Cm(n.remoteStore,i)}),yield t,yield fv(n,e),function(e){const t=ul(e);t.Bo.forEach((e,n)=>{Cm(t.remoteStore,n)}),t.Uo.us(),t.Bo=new Map,t.Lo=new xd(zl.comparator)}(n),n.Qo=!1,yield ny(n.remoteStore,!1)}})).apply(this,arguments)}function fv(e,t,n){return pv.apply(this,arguments)}function pv(){return(pv=(0,js.Z)(function*(e,t,n){const r=ul(e),i=[],s=[];for(const o of t){let e;const t=r.Fo.get(o);if(t&&0!==t.length){e=yield Ng(r.localStore,Vh(t[0]));for(const e of t){const t=r.Oo.get(e),n=yield ov(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Pg(r.localStore,o);e=yield Ng(r.localStore,t),yield Dy(r,gv(t),o,!1)}i.push(e)}return r.$o.Rr(s),i})).apply(this,arguments)}function gv(e){return Nh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mv(e){const t=ul(e);return ul(ul(t.localStore).persistence).pn()}function yv(e,t,n,r){return vv.apply(this,arguments)}function vv(){return(vv=(0,js.Z)(function*(e,t,n,r){const i=ul(e);if(i.Qo)nl("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=yield Lg(i.localStore),r=Zd.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield tv(i,e,r);break}case"rejected":yield Og(i.localStore,t,!0),Qy(i,t,r);break;default:ol()}})).apply(this,arguments)}function wv(e,t,n){return _v.apply(this,arguments)}function _v(){return(_v=(0,js.Z)(function*(e,t,n){const r=bv(e);if(r.Qo){for(const e of t){if(r.Fo.has(e)){nl("SyncEngine","Adding an already active target "+e);continue}const t=yield Pg(r.localStore,e),n=yield Ng(r.localStore,t);yield Dy(r,gv(t),n.targetId,!1),Sm(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&(yield Og(r.localStore,e,!1).then(()=>{Cm(r.remoteStore,e),Qy(r,e)}).catch(Wp))}})).apply(this,arguments)}function bv(e){const t=ul(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qy.bind(null,t),t.$o.Rr=yy.bind(null,t.eventManager),t.$o.Go=vy.bind(null,t.eventManager),t}function Iv(e){const t=ul(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$y.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zy.bind(null,t),t}class Tv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,js.Z)(function*(){t.N=fm(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return Ig(this.persistence,new _g,e.initialUser,this.N)}Jo(e){return new Gg(Wg.Ns,this.N)}Ho(e){return new sm}terminate(){var e=this;return(0,js.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ev extends Tv{constructor(e,t,n){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,js.Z)(function*(){yield t().call(n,e),yield function(e){return Mg.apply(this,arguments)}(n.localStore),yield n.Zo.initialize(n,e),yield Iv(n.Zo.syncEngine),yield Bm(n.Zo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Xo(e){return Ig(this.persistence,new _g,e.initialUser,this.N)}Yo(e){return new Xp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mp.withCacheSize(this.cacheSizeBytes):Mp.DEFAULT;return new fg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hm(),dm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new sm}}class Sv extends Ev{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,js.Z)(function*(){yield t().call(n,e);const r=n.Zo.syncEngine;n.sharedClientState instanceof im&&(n.sharedClientState.syncEngine={_i:lv.bind(null,r),mi:yv.bind(null,r),gi:wv.bind(null,r),pn:mv.bind(null,r),wi:uv.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,js.Z)(function*(e){yield function(e,t){return dv.apply(this,arguments)}(n.Zo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Ho(e){const t=hm();if(!im.bt(t))throw new ll(cl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new im(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Cv{initialize(e,t){var n=this;return(0,js.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>jy(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=rv.bind(null,n.syncEngine),yield ny(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dy}createDatastore(e){const t=fm(e.databaseInfo.databaseId),n=new lm(e.databaseInfo);return function(e,t,n){return new vm(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>jy(this.syncEngine,e,0),s=am.bt()?new am:new om,new _m(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Ny(e,t,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,js.Z)(function*(e){const t=ul(e);nl("RemoteStore","RemoteStore shutting down."),t.Wr.add(5),yield Tm(t),t.zr.shutdown(),t.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kv(e,t=10240){let n=0;return{read:()=>(0,js.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,js.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Av{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xv{constructor(e,t){this.nc=e,this.N=t,this.metadata=new hl,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(e=>{e&&e.wo()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,js.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,js.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,js.Z)(function*(){const t=yield e.rc();if(null===t)return null;const n=e.sc.decode(t),r=Number(n);isNaN(r)&&e.oc(`length string (${n}) is not valid number`);const i=yield e.cc(r);return new by(JSON.parse(i),t.length+r)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,js.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}cc(e){var t=this;return(0,js.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const n=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,js.Z)(function*(){const t=yield e.nc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Nv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,js.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ll(cl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,js.Z)(function*(e,t){const n=ul(e),r=ff(n.N)+"/documents",i={documents:t.map(e=>cf(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){al(!!t.found);const n=lf(e,t.found.name),r=of(t.found.updateTime),i=new oh({mapValue:{fields:t.found.fields}});return uh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){al(!!t.missing),al(!!t.readTime);const n=lf(e,t.missing),r=of(t.readTime);return uh.newNoDocument(n,r)}(e,t):ol()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());al(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Id(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,js.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=zl.fromPath(n);e.mutations.push(new Td(r,e.precondition(r)))}),yield(n=(0,js.Z)(function*(e,t){const n=ul(e),r=ff(n.N)+"/documents",i={writes:t.map(e=>yf(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ol();t=Sl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ll(cl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cd.updateTime(t):cd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sl.min()))throw new ll(cl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cd.updateTime(t)}return cd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ov{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new pm(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,js.Z)(function*(){const t=new Nv(e.datastore),n=e.fc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.dc(t)}))}).catch(t=>{e.dc(t)})}))}fc(e){try{const t=this.updateFunction(e);return!Bl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!kd(t)}return!1}}class Rv{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Jc.UNAUTHENTICATED,this.clientId=_l.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,js.Z)(function*(e){nl("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,js.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ll(cl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,js.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=ay(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Dv(e,t){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,js.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),nl("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,js.Z)(function*(e){r.isEqual(e)||(yield Tg(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,js.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield Fv(e);nl("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,js.Z)(function*(e,t){const n=ul(e);n.asyncQueue.verifyOperationInProgress(),nl("RemoteStore","RemoteStore received new credentials");const r=Om(n);n.Wr.add(3),yield Tm(n),r&&n.Hr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Wr.delete(3),yield bm(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function Fv(e){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,js.Z)(function*(e){return e.offlineComponents||(nl("FirestoreClient","Using default OfflineComponentProvider"),yield Dv(e,new Tv)),e.offlineComponents})).apply(this,arguments)}function Uv(e){return jv.apply(this,arguments)}function jv(){return(jv=(0,js.Z)(function*(e){return e.onlineComponents||(nl("FirestoreClient","Using default OnlineComponentProvider"),yield Lv(e,new Cv)),e.onlineComponents})).apply(this,arguments)}function qv(e){return Fv(e).then(e=>e.persistence)}function Bv(e){return Fv(e).then(e=>e.localStore)}function $v(e){return Uv(e).then(e=>e.remoteStore)}function Zv(e){return Uv(e).then(e=>e.syncEngine)}function zv(e){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,js.Z)(function*(e){const t=yield Uv(e),n=t.eventManager;return n.onListen=Oy.bind(null,t.syncEngine),n.onUnlisten=Ly.bind(null,t.syncEngine),n})).apply(this,arguments)}function Gv(e,t,n={}){const r=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t,n,r,i){const s=new Av({next:s=>{t.enqueueAndForget(()=>gy(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ll(cl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ll(cl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new _y(Oh(n.path),s,{includeMetadataChanges:!0,fo:!0});return fy(e,o)}(yield zv(e),e.asyncQueue,t,n,r)})),r.promise}function Kv(e,t,n={}){const r=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t,n,r,i){const s=new Av({next:n=>{t.enqueueAndForget(()=>gy(e,o)),n.fromCache&&"server"===r.source?i.reject(new ll(cl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new _y(n,s,{includeMetadataChanges:!0,fo:!0});return fy(e,o)}(yield zv(e),e.asyncQueue,t,n,r)})),r.promise}class Wv{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Qv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qv&&e.projectId===this.projectId&&e.database===this.database}}const Yv=new Map;function Jv(e,t,n){if(!n)throw new ll(cl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Xv(e,t,n,r){if(!0===t&&!0===r)throw new ll(cl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ew(e){if(!zl.isDocumentKey(e))throw new ll(cl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tw(e){if(zl.isDocumentKey(e))throw new ll(cl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ol()}function rw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ll(cl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nw(e);throw new ll(cl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function iw(e,t){if(t<=0)throw new ll(cl.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class sw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ll(cl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ll(cl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ow{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,e instanceof Qv?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ll(cl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qv(e.options.projectId)}(e))}get app(){if(!this._app)throw new ll(cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ll(cl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new fl;switch(e.type){case"gapi":const t=e.client;return al(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ll(cl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yv.get(e);t&&(nl("ComponentProvider","Removing Datastore"),Yv.delete(e),t.terminate())}(this),Promise.resolve()}}class aw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aw(this.firestore,e,this._key)}}class uw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uw(this.firestore,e,this._query)}}class cw extends uw{constructor(e,t,n){super(e,t,Oh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aw(this.firestore,null,new zl(e))}withConverter(e){return new cw(this.firestore,e,this._path)}}function lw(e,t,...n){if(e=(0,Zs.m9)(e),Jv("collection","path",t),e instanceof ow){const r=Nl.fromString(t,...n);return tw(r),new cw(e,null,r)}{if(!(e instanceof aw||e instanceof cw))throw new ll(cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nl.fromString(t,...n));return tw(r),new cw(e.firestore,null,r)}}function hw(e,t,...n){if(e=(0,Zs.m9)(e),1===arguments.length&&(t=_l.I()),Jv("doc","path",t),e instanceof ow){const r=Nl.fromString(t,...n);return ew(r),new aw(e,null,new zl(r))}{if(!(e instanceof aw||e instanceof cw))throw new ll(cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nl.fromString(t,...n));return ew(r),new aw(e.firestore,e instanceof cw?e.converter:null,new zl(r))}}function dw(e,t){return e=(0,Zs.m9)(e),t=(0,Zs.m9)(t),(e instanceof aw||e instanceof cw)&&(t instanceof aw||t instanceof cw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fw(e,t){return e=(0,Zs.m9)(e),t=(0,Zs.m9)(t),e instanceof uw&&t instanceof uw&&e.firestore===t.firestore&&jh(e._query,t._query)&&e.converter===t.converter}class pw{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new pm(this,"async_queue_retry"),this.Rc=()=>{const e=dm();e&&nl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new hl;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,js.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(io){if(!ap(io))throw io;nl("AsyncQueue","Operation failed with retryable error: "+io)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(e=>{throw this.Tc=e,this.Ec=!1,rl("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ec=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const r=oy.createAndSchedule(this,e,t,n,e=>this.Vc(e));return this.yc.push(r),r}bc(){this.Tc&&ol()}verifyOperationInProgress(){}Sc(){var e=this;return(0,js.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function gw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class mw{constructor(){this._progressObserver={},this._taskCompletionResolver=new hl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yw extends ow{constructor(e,t){super(e,t),this.type="firestore",this._queue=new pw,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ww(this),this._firestoreClient.terminate()}}function vw(e){return e._firestoreClient||ww(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ww(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Wv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Rv(e._credentials,e._queue,r)}function _w(e,t,n){const r=new hl;return e.asyncQueue.enqueue((0,js.Z)(function*(){try{yield Dv(e,n),yield Lv(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===cl.FAILED_PRECONDITION||e.code===cl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function bw(e){if(e._initialized||e._terminated)throw new ll(cl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Iw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ll(cl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tw(Pl.fromBase64String(e))}catch(e){throw new ll(cl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Tw(Pl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ew{constructor(e){this._methodName=e}}class Sw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ll(cl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ll(cl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bl(this._lat,e._lat)||bl(this._long,e._long)}}const Cw=/^__.*__$/;class kw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yd(e,this.data,t,this.fieldTransforms)}}class Aw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ol()}}class Nw{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}Lc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Qw(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(xw(this.kc)&&Cw.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class Ow{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||fm(e)}jc(e,t,n,r=!1){return new Nw({kc:e,methodName:t,Kc:n,path:Rl.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Rw(e){const t=e._freezeSettings(),n=fm(e._databaseId);return new Ow(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dw(e,t,n,r,i,s={}){const o=e.jc(s.merge||s.mergeFields?2:0,t,n,i);Hw("Data must be an object, but it was:",o,r);const a=Zw(r,o);let u,c;if(s.merge)u=new Dl(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Gw(t,r,n);if(!o.contains(i))throw new ll(cl.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Yw(e,i)||e.push(i)}u=new Dl(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new kw(new oh(a),u,c)}class Pw extends Ew{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pw}}function Lw(e,t,n){return new Nw({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Mw extends Ew{_toFieldTransform(e){return new ad(e.path,new Xh)}isEqual(e){return e instanceof Mw}}class Fw extends Ew{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Lw(this,e,!0),n=this.Qc.map(e=>$w(e,t)),r=new ed(n);return new ad(e.path,r)}isEqual(e){return this===e}}class Vw extends Ew{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Lw(this,e,!0),n=this.Qc.map(e=>$w(e,t)),r=new nd(n);return new ad(e.path,r)}isEqual(e){return this===e}}class Uw extends Ew{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new id(e.N,Kh(e.N,this.Wc));return new ad(e.path,t)}isEqual(e){return this===e}}function jw(e,t,n,r){const i=e.jc(1,t,n);Hw("Data must be an object, but it was:",i,r);const s=[],o=oh.empty();kl(r,(e,r)=>{const a=Ww(t,e,n);r=(0,Zs.m9)(r);const u=i.Lc(a);if(r instanceof Pw)s.push(a);else{const e=$w(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Dl(s);return new Aw(o,a,i.fieldTransforms)}function qw(e,t,n,r,i,s){const o=e.jc(1,t,n),a=[Gw(t,r,n)],u=[i];if(s.length%2!=0)throw new ll(cl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Gw(t,s[d])),u.push(s[d+1]);const c=[],l=oh.empty();for(let d=a.length-1;d>=0;--d)if(!Yw(c,a[d])){const e=a[d];let t=u[d];t=(0,Zs.m9)(t);const n=o.Lc(e);if(t instanceof Pw)c.push(e);else{const r=$w(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new Dl(c);return new Aw(l,h,o.fieldTransforms)}function Bw(e,t,n,r=!1){return $w(n,e.jc(r?4:3,t))}function $w(e,t){if(zw(e=(0,Zs.m9)(e)))return Hw("Unsupported field value:",t,e),Zw(e,t);if(e instanceof Ew)return function(e,t){if(!xw(t.kc))throw t.Uc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Uc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$w(i,t.Bc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Zs.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kh(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=El.fromDate(e);return{timestampValue:nf(t.N,n)}}if(e instanceof El){const n=new El(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nf(t.N,n)}}if(e instanceof Sw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tw)return{bytesValue:rf(t.N,e._byteString)};if(e instanceof aw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:af(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc(`Unsupported field value: ${nw(e)}`)}(e,t)}function Zw(e,t){const n={};return Al(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kl(e,(e,r)=>{const i=$w(r,t.Oc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function zw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof El||e instanceof Sw||e instanceof Tw||e instanceof aw||e instanceof Ew)}function Hw(e,t,n){if(!zw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nw(n);throw t.Uc("an object"===r?e+" a custom object":e+" "+r)}}function Gw(e,t,n){if((t=(0,Zs.m9)(t))instanceof Iw)return t._internalPath;if("string"==typeof t)return Ww(e,t);throw Qw("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Kw=new RegExp("[~\\*/\\[\\]]");function Ww(e,t,n){if(t.search(Kw)>=0)throw Qw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Iw(...t.split("."))._internalPath}catch(r){throw Qw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qw(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ll(cl.INVALID_ARGUMENT,a+e+u)}function Yw(e,t){return e.some(e=>e.isEqual(t))}class Jw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new aw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(e_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xw extends Jw{data(){return super.data()}}function e_(e,t){return"string"==typeof t?Ww(e,t):t instanceof Iw?t._internalPath:t._delegate._internalPath}class t_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n_ extends Jw{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(e_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class r_ extends n_{data(e={}){return super.data(e)}}class i_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new t_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new r_(this._firestore,this._userDataWriter,n.key,n,new t_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ll(cl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new r_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new t_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new r_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new t_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:s_(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function s_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ol()}}function o_(e,t){return e instanceof n_&&t instanceof n_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof i_&&t instanceof i_&&e._firestore===t._firestore&&fw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function a_(e){if(Dh(e)&&0===e.explicitOrderBy.length)throw new ll(cl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}function c_(e,...t){for(const n of t)e=n._apply(e);return e}class l_ extends u_{constructor(e,t,n){super(),this.Gc=e,this.zc=t,this.Hc=n,this.type="where"}_apply(e){const t=Rw(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ll(cl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){y_(o,s);const t=[];for(const n of o)t.push(m_(r,e,n));a={arrayValue:{values:t}}}else a=m_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||y_(o,s),a=Bw(n,"where",o,"in"===s||"not-in"===s);const u=ph.create(i,s,a);return function(e,t){if(t.v()){const n=Lh(e);if(null!==n&&!n.isEqual(t.field))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Ph(e);null!==r&&v_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new ll(cl.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new uw(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class h_ extends u_{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ll(cl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ll(cl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Sh(t,n);return function(e,t){if(null===Ph(e)){const n=Lh(e);null!==n&&v_(0,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new uw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new xh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class d_ extends u_{constructor(e,t,n){super(),this.type=e,this.Yc=t,this.Xc=n}_apply(e){return new uw(e.firestore,e.converter,Uh(e._query,this.Yc,this.Xc))}}class f_ extends u_{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=g_(e,this.type,this.Zc,this.ta);return new uw(e.firestore,e.converter,function(e,t){return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class p_ extends u_{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=g_(e,this.type,this.Zc,this.ta);return new uw(e.firestore,e.converter,function(e,t){return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function g_(e,t,n,r){if(n[0]=(0,Zs.m9)(n[0]),n[0]instanceof Jw)return function(e,t,n,r,i){if(!r)throw new ll(cl.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Fh(e))if(o.field.isKeyField())s.push(Xl(t,r.key));else{const e=r.data.field(o.field);if(Ul(e))throw new ll(cl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ll(cl.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Th(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Rw(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ll(cl.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new ll(cl.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Mh(e)&&-1!==s.indexOf("/"))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Nl.fromString(s));if(!zl.isDocumentKey(n))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new zl(n);a.push(Xl(t,i))}else{const e=Bw(n,r,s);a.push(e)}}return new Th(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function m_(e,t,n){if("string"==typeof(n=(0,Zs.m9)(n))){if(""===n)throw new ll(cl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mh(t)&&-1!==n.indexOf("/"))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nl.fromString(n));if(!zl.isDocumentKey(r))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xl(e,new zl(r))}if(n instanceof aw)return Xl(e,n._key);throw new ll(cl.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${nw(n)}.`)}function y_(e,t){if(!Array.isArray(e)||0===e.length)throw new ll(cl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ll(cl.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function v_(e,t,n){if(!n.isEqual(t))throw new ll(cl.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class w_{convertValue(e,t="none"){switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ol()}}convertObject(e,t){const n={};return kl(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Sw(Fl(e.latitude),Fl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Ml(e);return new El(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Nl.fromString(e);al(Rf(n));const r=new Qv(n.get(1),n.get(3)),i=new zl(n.popFirst(5));return r.isEqual(t)||rl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function __(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class b_ extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aw(this.firestore,null,t)}}class I_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rw(e)}set(e,t,n){this._verifyNotCommitted();const r=T_(e,this._firestore),i=__(r.converter,t,n),s=Dw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,cd.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=T_(e,this._firestore);let s;return s="string"==typeof(t=(0,Zs.m9)(t))||t instanceof Iw?qw(this._dataReader,"WriteBatch.update",i._key,t,n,r):jw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,cd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=T_(e,this._firestore);return this._mutations=this._mutations.concat(new Id(t._key,cd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ll(cl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function T_(e,t){if((e=(0,Zs.m9)(e)).firestore!==t)throw new ll(cl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class E_ extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aw(this.firestore,null,t)}}function S_(e,t,n){e=rw(e,aw);const r=rw(e.firestore,yw),i=__(e.converter,t,n);return A_(r,[Dw(Rw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cd.none())])}function C_(e,t,n,...r){e=rw(e,aw);const i=rw(e.firestore,yw),s=Rw(i);let o;return o="string"==typeof(t=(0,Zs.m9)(t))||t instanceof Iw?qw(s,"updateDoc",e._key,t,n,r):jw(s,"updateDoc",e._key,t),A_(i,[o.toMutation(e._key,cd.exists(!0))])}function k_(e,...t){var n,r,i;e=(0,Zs.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||gw(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(gw(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof aw)c=rw(e.firestore,yw),l=Oh(e._key.path),u={next:n=>{t[o]&&t[o](x_(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=rw(e,uw);c=rw(n.firestore,yw),l=n._query;const r=new E_(c);u={next:e=>{t[o]&&t[o](new i_(c,r,n,e))},error:t[o+1],complete:t[o+2]},a_(e._query)}return function(e,t,n,r){const i=new Av(r),s=new _y(t,i,n);return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return fy(yield zv(e),s)})),()=>{i.ec(),e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return gy(yield zv(e),s)}))}}(vw(c),l,a,u)}function A_(e,t){return function(e,t){const n=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t,n){return Fy.apply(this,arguments)}(yield Zv(e),t,n)})),n.promise}(vw(e),t)}function x_(e,t,n){const r=n.docs.get(t._key),i=new E_(e);return new n_(e,i,t._key,r,new t_(n.hasPendingWrites,n.fromCache),t.converter)}class N_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rw(e)}get(e){const t=T_(e,this._firestore),n=new b_(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return ol();const r=e[0];if(r.isFoundDocument())return new Jw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Jw(this._firestore,n,t._key,null,t.converter);throw ol()})}set(e,t,n){const r=T_(e,this._firestore),i=__(r.converter,t,n),s=Dw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=T_(e,this._firestore);let s;return s="string"==typeof(t=(0,Zs.m9)(t))||t instanceof Iw?qw(this._dataReader,"Transaction.update",i._key,t,n,r):jw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=T_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=T_(e,this._firestore),n=new E_(this._firestore);return super.get(e).then(e=>new n_(this._firestore,n,t._key,e._document,new t_(!1,!1),t.converter))}}function O_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ll("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function R_(){if("undefined"==typeof Uint8Array)throw new ll("unimplemented","Uint8Arrays are not available in this environment.")}function D_(){if("undefined"==typeof atob)throw new ll("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Xc=e}(qs.SDK_VERSION),(0,qs._registerComponent)(new Bs.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new yw(r,new gl(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,qs.registerVersion)("@firebase/firestore","3.3.0",e),(0,qs.registerVersion)("@firebase/firestore","3.3.0","esm2017")}();class P_{constructor(e){this._delegate=e}static fromBase64String(e){return D_(),new P_(Tw.fromBase64String(e))}static fromUint8Array(e){return R_(),new P_(Tw.fromUint8Array(e))}toBase64(){return D_(),this._delegate.toBase64()}toUint8Array(){return R_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function L_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class M_{enableIndexedDbPersistence(e,t){return function(e,t){bw(e=rw(e,yw));const n=vw(e),r=e._freezeSettings(),i=new Cv;return _w(n,i,new Ev(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){bw(e=rw(e,yw));const t=vw(e),n=e._freezeSettings(),r=new Cv;return _w(t,r,new Sv(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ll(cl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new hl;return e._queue.enqueueAndForgetEvenWhileRestricted((0,js.Z)(function*(){try{yield(n=(0,js.Z)(function*(e){if(!ip.bt())return Promise.resolve();const t=e+"main";yield ip.delete(t)}),function(e){return n.apply(this,arguments)})(mg(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class F_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qv||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||il("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=rw(e,ow))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&il("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Jc.MOCK_USER;else{t=(0,Zs.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ll(cl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Jc(s)}e._credentials=new pl(new dl(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,js.Z)(function*(){const t=yield qv(e),n=yield $v(e);return t.setNetworkEnabled(!0),function(e){const t=ul(e);return t.Wr.delete(0),bm(t)}(n)}))}(vw(e=rw(e,yw)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,js.Z)(function*(){const t=yield qv(e),n=yield $v(e);return t.setNetworkEnabled(!1),(r=(0,js.Z)(function*(e){const t=ul(e);t.Wr.add(0),yield Tm(t),t.Hr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(vw(e=rw(e,yw)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Xv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t){return Gy.apply(this,arguments)}(yield Zv(e),t)})),t.promise}(vw(e=rw(e,yw)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Av(t);return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t){ul(e).so.add(t),t.next()}(yield zv(e),n)})),()=>{n.ec(),e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return function(e,t){ul(e).so.delete(t)}(yield zv(e),n)}))}}(vw(e=rw(e,yw)),gw(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ll("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Y_(this,lw(this._delegate,e))}catch(t){throw $_(t,"collection()","Firestore.collection()")}}doc(e){try{return new B_(this,hw(this._delegate,e))}catch(t){throw $_(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new K_(this,function(e,t){if(e=rw(e,ow),Jv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ll(cl.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new uw(e,null,function(e){return new xh(Nl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw $_(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){const r=yield function(e){return Uv(e).then(e=>e.datastore)}(e);new Ov(e.asyncQueue,r,t,n).run()})),n.promise}(vw(e=rw(e,yw)),n=>t(new N_(e,n)))}(this._delegate,t=>e(new U_(this,t)))}batch(){return vw(this._delegate),new j_(new I_(this._delegate,e=>A_(this._delegate,e)))}loadBundle(e){return function(e,t){const n=vw(e=rw(e,yw)),r=new mw;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new xv(e,t)}(function(e,t){if(e instanceof Uint8Array)return kv(e,t);if(e instanceof ArrayBuffer)return kv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,fm(t));e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){!function(e,t,n){const r=ul(e);var i;(i=(0,js.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=ul(e),r=of(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Ey(r));const i=new Ty(r,e.localStore,t.N);let s=yield t.zo();for(;s;){const e=yield i.mo(s);e&&n._updateProgress(e),s=yield t.zo()}const o=yield i.complete();yield tv(e,o.En,void 0),yield function(e,t){const n=ul(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){il("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Zv(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,js.Z)(function*(){return function(e,t){const n=ul(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield Bv(e),t)}))}(vw(e=rw(e,yw)),t).then(t=>t?new uw(e,null,t.query):null)}(this._delegate,e).then(e=>e?new K_(this,e):null)}}class V_ extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new P_(new Tw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return B_.forKey(t,this.firestore,null)}}class U_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}get(e){const t=J_(e);return this._delegate.get(t).then(e=>new H_(this._firestore,new n_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=J_(e);return n?(O_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=J_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=J_(e);return this._delegate.delete(t),this}}class j_{constructor(e){this._delegate=e}set(e,t,n){const r=J_(e);return n?(O_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=J_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=J_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let q_=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new r_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new G_(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new V_(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class B_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}static forPath(e,t,n){if(e.length%2!=0)throw new ll("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new B_(t,new aw(t._delegate,n,new zl(e)))}static forKey(e,t,n){return new B_(t,new aw(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Y_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Y_(this.firestore,lw(this._delegate,e))}catch(t){throw $_(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zs.m9)(e))instanceof aw&&dw(this._delegate,e)}set(e,t){t=O_("DocumentReference.set",t);try{return t?S_(this._delegate,e,t):S_(this._delegate,e)}catch(n){throw $_(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?C_(this._delegate,e):C_(this._delegate,e,t,...n)}catch(r){throw $_(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return A_(rw(e.firestore,yw),[new Id(e._key,cd.none())])}(this._delegate)}onSnapshot(...e){const t=Z_(e),n=z_(e,e=>new H_(this.firestore,new n_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return k_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=rw(e,aw);const t=rw(e.firestore,yw),n=vw(t),r=new E_(t);return function(e,t){const n=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return(r=(0,js.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=ul(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ll(cl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=ay(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Bv(e),t,n);var r})),n.promise}(n,e._key).then(n=>new n_(t,r,e._key,n,new t_(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=rw(e,aw);const t=rw(e.firestore,yw);return Gv(vw(t),e._key,{source:"server"}).then(n=>x_(t,e,n))}(this._delegate):function(e){e=rw(e,aw);const t=rw(e.firestore,yw);return Gv(vw(t),e._key).then(n=>x_(t,e,n))}(this._delegate),t.then(e=>new H_(this.firestore,new n_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new B_(this.firestore,this._delegate.withConverter(e?q_.getInstance(this.firestore,e):null))}}function $_(e,t,n){return e.message=e.message.replace(t,n),e}function Z_(e){for(const t of e)if("object"==typeof t&&!L_(t))return t;return{}}function z_(e,t){var n,r;let i;return i=L_(e[0])?e[0]:L_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class H_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new B_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return o_(this._delegate,e._delegate)}}class G_ extends H_{data(e){const t=this._delegate.data(e);return function(e,t){e||ol()}(void 0!==t),t}}class K_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new V_(e)}where(e,t,n){try{return new K_(this.firestore,c_(this._delegate,function(e,t,n){const r=t,i=e_("where",e);return new l_(i,r,n)}(e,t,n)))}catch(r){throw $_(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new K_(this.firestore,c_(this._delegate,function(e,t="asc"){const n=t,r=e_("orderBy",e);return new h_(r,n)}(e,t)))}catch(n){throw $_(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new K_(this.firestore,c_(this._delegate,function(e){return iw("limit",e),new d_("limit",e,"F")}(e)))}catch(t){throw $_(t,"limit()","Query.limit()")}}limitToLast(e){try{return new K_(this.firestore,c_(this._delegate,function(e){return iw("limitToLast",e),new d_("limitToLast",e,"L")}(e)))}catch(t){throw $_(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new K_(this.firestore,c_(this._delegate,function(...e){return new f_("startAt",e,!0)}(...e)))}catch(t){throw $_(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new K_(this.firestore,c_(this._delegate,function(...e){return new f_("startAfter",e,!1)}(...e)))}catch(t){throw $_(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new K_(this.firestore,c_(this._delegate,function(...e){return new p_("endBefore",e,!0)}(...e)))}catch(t){throw $_(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new K_(this.firestore,c_(this._delegate,function(...e){return new p_("endAt",e,!1)}(...e)))}catch(t){throw $_(t,"endAt()","Query.endAt()")}}isEqual(e){return fw(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=rw(e,uw);const t=rw(e.firestore,yw),n=vw(t),r=new E_(t);return function(e,t){const n=new hl;return e.asyncQueue.enqueueAndForget((0,js.Z)(function*(){return(r=(0,js.Z)(function*(e,t,n){try{const r=yield Dg(e,t,!0),i=new ky(t,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=ay(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Bv(e),t,n);var r})),n.promise}(n,e._query).then(n=>new i_(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=rw(e,uw);const t=rw(e.firestore,yw),n=vw(t),r=new E_(t);return Kv(n,e._query,{source:"server"}).then(n=>new i_(t,r,e,n))}(this._delegate):function(e){e=rw(e,uw);const t=rw(e.firestore,yw),n=vw(t),r=new E_(t);return a_(e._query),Kv(n,e._query).then(n=>new i_(t,r,e,n))}(this._delegate),t.then(e=>new Q_(this.firestore,new i_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Z_(e),n=z_(e,e=>new Q_(this.firestore,new i_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return k_(this._delegate,t,n)}withConverter(e){return new K_(this.firestore,this._delegate.withConverter(e?q_.getInstance(this.firestore,e):null))}}class W_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new G_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Q_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new K_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new G_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new W_(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new G_(this._firestore,n))})}isEqual(e){return o_(this._delegate,e._delegate)}}class Y_ extends K_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new B_(this.firestore,e):null}doc(e){try{return new B_(this.firestore,void 0===e?hw(this._delegate):hw(this._delegate,e))}catch(t){throw $_(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=rw(e.firestore,yw),r=hw(e),i=__(e.converter,t);return A_(n,[Dw(Rw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cd.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new B_(this.firestore,e))}isEqual(e){return dw(this._delegate,e._delegate)}withConverter(e){return new Y_(this.firestore,this._delegate.withConverter(e?q_.getInstance(this.firestore,e):null))}}function J_(e){return rw(e,aw)}class X_{constructor(...e){this._delegate=new Iw(...e)}static documentId(){return new X_(Rl.keyField().canonicalString())}isEqual(e){return(e=(0,Zs.m9)(e))instanceof Iw&&this._delegate._internalPath.isEqual(e._internalPath)}}class eb{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Mw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new eb(e)}static delete(){const e=new Pw("deleteField");return e._methodName="FieldValue.delete",new eb(e)}static arrayUnion(...e){const t=function(...e){return new Fw("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new eb(t)}static arrayRemove(...e){const t=function(...e){return new Vw("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new eb(t)}static increment(e){const t=function(e){return new Uw("increment",e)}(e);return t._methodName="FieldValue.increment",new eb(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tb={Firestore:F_,GeoPoint:Sw,Timestamp:El,Blob:P_,Transaction:U_,WriteBatch:j_,DocumentReference:B_,DocumentSnapshot:H_,Query:K_,QueryDocumentSnapshot:G_,QuerySnapshot:Q_,CollectionReference:Y_,FieldPath:X_,FieldValue:eb,setLogLevel:function(e){!function(e){el.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var nb,rb;rb=(e,t)=>new F_(e,t,new M_),(nb=Us.Z).INTERNAL.registerComponent(new Bs.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return rb(t,n)},"PUBLIC").setServiceProps(Object.assign({},tb))),nb.registerVersion("@firebase/firestore-compat","0.1.7");var ib=n(1906),sb=n(9098),ob=n(8489),ab=n(9291);class ub extends pe.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new cb(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new ge.N;if(this.isStopped||this.hasError?s=mt.w.EMPTY:(this.observers.push(e),s=new ab.W(this,e)),r&&e.add(e=new sb.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||ob.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class cb{constructor(e,t){this.time=e,this.value=t}}function lb(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new ub(e,t,r),l=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function hb(e,t){return t?Fe(()=>e,t):Fe(()=>e)}var db=n(2893),fb=n(2293);function pb(e=0,t,n){let r=-1;return(0,fb.k)(t)?r=Number(t)<1?1:Number(t):(0,ye.K)(t)&&(n=t),(0,ye.K)(n)||(n=Os.P),new Te.y(t=>{const i=(0,fb.k)(e)?e:+e-n.now();return n.schedule(gb,i,{index:0,period:r,subscriber:t})})}function gb(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function mb(e,t){return n=>n.lift(new yb(e,t))}class yb{constructor(e,t){this.keySelector=e,this.flushes=t}call(e,t){return t.subscribe(new vb(e,this.keySelector,this.flushes))}}class vb extends Me.Ds{constructor(e,t,n){super(e),this.keySelector=t,this.values=new Set,n&&this.add((0,Me.ft)(n,new Me.IY(this)))}notifyNext(){this.values.clear()}notifyError(e){this._error(e)}_next(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}_useKeySelector(e){let t;const{destination:n}=this;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)}_finalizeNext(e,t){const{values:n}=this;n.has(e)||(n.add(e),this.destination.next(t))}}var wb=n(1858);pb(0,300).pipe(tt(()=>(0,de.D)((0,wb.C6)())),mb()),new r.OlP("angularfire2._apps"),new r.FiY,new r.FiY,(0,Rs.u3)(wb.P2,!0),(0,Rs.u3)(wb.Mq,!0),(0,Rs.u3)(wb.C6,!0),(0,Rs.u3)(wb.ZF,!0),(0,Rs.u3)(wb.TP,!0),(0,Rs.u3)(wb.KN,!0),(0,Rs.u3)(wb.Ub,!0);const _b=new Map,bb={activated:!1,tokenObservers:[]},Ib={initialized:!1,enabled:!1};function Tb(e){return _b.get(e)||bb}function Eb(e,t){_b.set(e,t)}function Sb(){return Ib}class Cb{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,js.Z)(function*(){t.stop();try{t.pending=new Zs.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zs.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const kb=new Zs.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function Ab(e){if(!Tb(e).activated)throw kb.create("use-before-activation",{appName:e.name})}function xb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Nb(e,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,js.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw kb.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw kb.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw kb.create("fetch-parse-error",{originalErrorMessage:h.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kb.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function Rb(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Db="firebase-app-check-store";let Pb=null;function Lb(){return Pb||(Pb=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(kb.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Db,{keyPath:"compositeKey"})}}}catch(n){t(kb.create("storage-open",{originalErrorMessage:n.message}))}}),Pb)}function Mb(e){return qb($b(e))}function Fb(e){return Ub("debug-token",e)}function Vb(){return qb("debug-token")}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return(jb=(0,js.Z)(function*(e,t){const n=(yield Lb()).transaction(Db,"readwrite"),r=n.objectStore(Db).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(kb.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function qb(e){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,js.Z)(function*(e){const t=(yield Lb()).transaction(Db,"readonly"),n=t.objectStore(Db).get(e);return new Promise((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(kb.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})})).apply(this,arguments)}function $b(e){return`${e.options.appId}-${e.name}`}const Zb=new $s.Yd("@firebase/app-check");function zb(){return(zb=(0,js.Z)(function*(e){if((0,Zs.hl)()){let n;try{n=yield Mb(e)}catch(t){Zb.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return n}})).apply(this,arguments)}function Hb(e,t){return(0,Zs.hl)()?function(e,t){return Ub($b(e),t)}(e,t).catch(e=>{Zb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Gb(){return(Gb=(0,js.Z)(function*(){let e;try{e=yield Vb()}catch(Rh){}if(e)return e;{const e=xb();return Fb(e).catch(e=>Zb.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`)),e}})).apply(this,arguments)}function Kb(){return Sb().enabled}function Wb(){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,js.Z)(function*(){const e=Sb();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yb={error:"UNKNOWN_ERROR"};function Jb(e){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,js.Z)(function*(e,t=!1){const n=e.app;Ab(n);const r=Tb(n);let i,s,o=r.token;if(!o){const e=yield r.cachedTokenPromise;e&&rI(e)&&(o=e,Eb(n,Object.assign(Object.assign({},r),{token:o})),nI(n,{token:o.token}))}if(!t&&o&&rI(o))return{token:o.token};if(Kb()){const t=yield Nb(Rb(n,yield Wb()),e.platformLoggerProvider);return yield Hb(n,t),Eb(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{o=yield r.provider.getToken()}catch(a){Zb.error(a),i=a}return o?(s={token:o.token},Eb(n,Object.assign(Object.assign({},r),{token:o})),yield Hb(n,o)):s=iI(i),nI(n,s),s})).apply(this,arguments)}function eI(e,t,n,r){const{app:i}=e,s=Tb(i),o={next:n,error:r,type:t},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const t=function(e){const{app:t}=e;return new Cb((0,js.Z)(function*(){let n;if(n=Tb(t).token?yield Jb(e,!0):yield Jb(e),n.error)throw n.error}),()=>!0,()=>{const e=Tb(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e);a.tokenRefresher=t}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&rI(s.token)){const e=s.token;Promise.resolve().then(()=>n({token:e.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(e=>{e&&rI(e)&&n({token:e.token})}).catch(()=>{});Eb(i,a)}function tI(e,t){const n=Tb(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Eb(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function nI(e,t){const n=Tb(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function rI(e){return e.expireTimeMillis-Date.now()>0}function iI(e){return{token:(t=Yb,Zs.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class sI{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Tb(this.app);for(const t of e)tI(this.app,t.next);return Promise.resolve()}}function oI(){return(oI=(0,js.Z)(function*(e,t){const n=yield Jb(e,t);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}(0,qs._registerComponent)(new Bs.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new sI(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("app-check-internal").initialize()})),(0,qs._registerComponent)(new Bs.wA("app-check-internal",e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>Jb(t,e),addTokenListener:e=>eI(t,"INTERNAL",e),removeTokenListener:e=>tI(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qs.registerVersion)("@firebase/app-check","0.5.1");class aI{constructor(){return(0,Rs.vb)("app-check")}}pb(0,300).pipe(tt(()=>(0,de.D)((0,Rs.vb)("app-check"))),mb()),new r.OlP("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new r.FiY,new r.FiY,(0,Rs.u3)(function(e,t){return oI.apply(this,arguments)},!0),(0,Rs.u3)(function(e=(0,qs.getApp)(),t){e=(0,Zs.m9)(e);const n=(0,qs._getProvider)(e,"app-check");if(Sb().initialized||function(){const e=(0,Zs.Rd)(),t=Sb();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new Zs.BH;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return Gb.apply(this,arguments)}())}(),Kb()&&Wb().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw kb.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=Tb(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return zb.apply(this,arguments)}(e).then(t=>(t&&rI(t)&&Eb(e,Object.assign(Object.assign({},Tb(e)),{token:t})),t)),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,Eb(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),r},!0),(0,Rs.u3)(function(e,t,n,r){let i=()=>{},s=()=>{};return i=null!=t.next?t.next.bind(t):t,null!=t.error?s=t.error.bind(t):n&&(s=n),eI(e,"EXTERNAL",i,s),()=>tI(e.app,i)},!0),(0,Rs.u3)(function(e,t){const n=e.app,r=Tb(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),Eb(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))},!0);var uI=n(9001);const cI=new r.OlP("angularfire2.auth.use-emulator"),lI=new r.OlP("angularfire2.auth.settings"),hI=new r.OlP("angularfire2.auth.tenant-id"),dI=new r.OlP("angularfire2.auth.langugage-code"),fI=new r.OlP("angularfire2.auth.use-device-language"),pI=new r.OlP("angularfire.auth.persistence"),gI=(e,t,n,r,i,s,o,a)=>(0,Ns.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let mI=(()=>{class e{constructor(e,t,r,i,s,o,a,u,c,l,h,d){const f=new pe.xQ,p=(0,fe.of)(void 0).pipe((0,sb.QV)(s.outsideAngular),Fe(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,14)))),(0,Le.U)(()=>(0,Ns.on)(e,i,t)),(0,Le.U)(e=>gI(e,i,o,u,c,l,a,h)),lb({bufferSize:1,refCount:!1}));if(R(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,fe.of)(null);else{p.pipe(ft()).subscribe();const e=p.pipe(Fe(e=>e.getRedirectResult().then(e=>e,()=>null)),Rs.iC,lb({bufferSize:1,refCount:!1})),t=p.pipe(Fe(e=>new Te.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Fe(e=>new Te.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(hb(t),(0,db.R)(s.outsideAngular),(0,sb.QV)(s.insideAngular)),this.user=e.pipe(hb(n),(0,db.R)(s.outsideAngular),(0,sb.QV)(s.insideAngular)),this.idToken=this.user.pipe(Fe(e=>e?(0,de.D)(e.getIdToken()):(0,fe.of)(null))),this.idTokenResult=this.user.pipe(Fe(e=>e?(0,de.D)(e.getIdTokenResult()):(0,fe.of)(null))),this.credential=(0,ib.T)(e,f,this.authState.pipe(Ke(e=>!e))).pipe((0,Le.U)(e=>(null==e?void 0:e.user)?e:null),(0,db.R)(s.outsideAngular),(0,sb.QV)(s.insideAngular))}return(0,Ns.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ns.Dh),r.LFG(Ns.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Rs.HU),r.LFG(cI,8),r.LFG(lI,8),r.LFG(hI,8),r.LFG(dI,8),r.LFG(fI,8),r.LFG(pI,8),r.LFG(aI,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function yI(e,t){return function(e,t=Os.z){return new Te.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function vI(e,t){return yI(e,t).pipe((0,Le.U)(e=>({payload:e,type:"query"})))}function wI(e,t){return vI(e,t).pipe(Ze(void 0),Ds(),(0,Le.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function _I(e,t,n){return wI(e,n).pipe(ze((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return bI(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return bI(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return bI(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new Ms(void 0,void 0)),(0,Le.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function bI(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function II(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(0,Ns.GT)(mI,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class TI{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=wI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(Ze(void 0),Ds(),Ke(([e,t])=>t.length>0||!e),(0,Le.U)(([e,t])=>t),Rs.iC)}auditTrail(e){return this.stateChanges(e).pipe(ze((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=II(e);return _I(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rs.iC)}valueChanges(e={}){return vI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),Rs.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(Rs.iC)}add(e){return this.ref.add(e)}doc(e){return new EI(this.ref.doc(e),this.afs)}}class EI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=NI(n,t);return new TI(r,i,this.afs)}snapshotChanges(){return yI(this.ref,this.afs.schedulers.outsideAngular).pipe(Ze(void 0),Ds(),(0,Le.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(Rs.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,de.D)(this.ref.get(e)).pipe(Rs.iC)}}class SI{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Ke(e=>e.length>0),Rs.iC):wI(this.query,this.afs.schedulers.outsideAngular).pipe(Rs.iC)}auditTrail(e){return this.stateChanges(e).pipe(ze((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=II(e);return _I(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rs.iC)}valueChanges(e={}){return vI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),Rs.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(Rs.iC)}}const CI=new r.OlP("angularfire2.enableFirestorePersistence"),kI=new r.OlP("angularfire2.firestore.persistenceSettings"),AI=new r.OlP("angularfire2.firestore.settings"),xI=new r.OlP("angularfire2.firestore.use-emulator");function NI(e,t=(e=>e)){return{query:t(e),ref:e}}let OI=(()=>{class e{constructor(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){this.schedulers=o;const y=(0,Ns.on)(e,s,t),v=u;c&&gI(y,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,Ns.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!R(i)){const t=()=>{try{return(0,de.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,fe.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,fe.of)(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=NI(n,t),s=this.schedulers.ngZone.run(()=>r);return new TI(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new SI(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new EI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ns.Dh),r.LFG(Ns.xv,8),r.LFG(CI,8),r.LFG(AI,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Rs.HU),r.LFG(kI,8),r.LFG(xI,8),r.LFG(mI,8),r.LFG(cI,8),r.LFG(lI,8),r.LFG(hI,8),r.LFG(dI,8),r.LFG(fI,8),r.LFG(pI,8),r.LFG(aI,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),RI=(()=>{class e{constructor(){uI.Z.registerVersion("angularfire",Rs.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:CI,useValue:!0},{provide:kI,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[OI]}),e})();const DI={apiKey:"AIzaSyAe7ljanBIqAkIkAgX4tw35gI0v3GSnOUs",authDomain:"shirt-tracker.firebaseapp.com",projectId:"shirt-tracker",storageBucket:"shirt-tracker.appspot.com",messagingSenderId:"112850782186",appId:"1:112850782186:web:87f001f8d7e719dd469493",measurementId:"G-R9VEHPWJCB"};let PI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[xs]}),e.\u0275inj=r.cJS({providers:[],imports:[[he,Cs,ws,Ns.hO.initializeApp(DI),RI]]}),e})();(0,r.G48)(),ce().bootstrapModule(PI).catch(e=>console.error(e))},6304:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){"use strict";e(e.s=1620)}]);